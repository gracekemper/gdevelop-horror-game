{
  "firstLayout": "",
  "gdVersion": {
    "build": 99,
    "major": 4,
    "minor": 0,
    "revision": 0
  },
  "properties": {
    "adaptGameResolutionAtRuntime": true,
    "antialiasingMode": "MSAA",
    "antialisingEnabledOnMobile": false,
    "folderProject": false,
    "orientation": "landscape",
    "packageName": "com.example.gamename",
    "pixelsRounding": false,
    "projectUuid": "4b513b4d-e25c-41cb-ab18-000e31123567",
    "scaleMode": "linear",
    "sizeOnStartupMode": "adaptWidth",
    "templateSlug": "",
    "useExternalSourceFiles": false,
    "version": "1.0.0",
    "name": "GAME PLAYTESTING",
    "description": "",
    "author": "",
    "windowWidth": 1280,
    "windowHeight": 720,
    "latestCompilationDirectory": "",
    "maxFPS": 60,
    "minFPS": 20,
    "verticalSync": false,
    "platformSpecificAssets": {},
    "loadingScreen": {
      "backgroundColor": 0,
      "backgroundFadeInDuration": 0.2,
      "backgroundImageResourceName": "",
      "gdevelopLogoStyle": "light",
      "logoAndProgressFadeInDuration": 0.2,
      "logoAndProgressLogoFadeInDelay": 0.2,
      "minDuration": 1.5,
      "progressBarColor": 16777215,
      "progressBarHeight": 20,
      "progressBarMaxWidth": 200,
      "progressBarMinWidth": 40,
      "progressBarWidthPercent": 30,
      "showGDevelopSplash": true,
      "showProgressBar": true
    },
    "watermark": {
      "placement": "bottom-left",
      "showWatermark": true
    },
    "authorIds": [],
    "authorUsernames": [],
    "categories": [],
    "playableDevices": [],
    "extensionProperties": [],
    "platforms": [
      {
        "name": "GDevelop JS platform"
      }
    ],
    "currentPlatform": "GDevelop JS platform"
  },
  "resources": {
    "resources": [
      {
        "alwaysLoaded": false,
        "file": "assets/NewSprite.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "NewSprite",
        "smoothed": true,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/crosshair.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "crosshair",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/crosshair2.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "crosshair2",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "wall_texture.jpeg",
        "kind": "image",
        "metadata": "{\"localFilePath\":\"wall_texture.jpeg\",\"extension\":\".png\",\"pskl\":{}}",
        "name": "wall_texture.jpeg",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "floor_tile.jpeg",
        "kind": "image",
        "metadata": "",
        "name": "floor_tile.jpeg",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/NewSprite2.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "NewSprite2",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/NewSprite3.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "NewSprite3",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/keycard_icon.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "keycard_icon",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Injection_Img.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "Injection_Img",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/pathfinding_barrier.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\",\"localFilePath\":\"assets/pathfinding_barrier.png\"}",
        "name": "pathfinding_barrier",
        "smoothed": true,
        "userAdded": true
      },
      {
        "file": "bg music default.mp3",
        "kind": "audio",
        "metadata": "",
        "name": "bg music default.mp3",
        "preloadAsMusic": false,
        "preloadAsSound": false,
        "preloadInCache": false,
        "userAdded": true
      },
      {
        "file": "attack music buildup.mp3",
        "kind": "audio",
        "metadata": "",
        "name": "attack music buildup.mp3",
        "preloadAsMusic": false,
        "preloadAsSound": false,
        "preloadInCache": false,
        "userAdded": true
      },
      {
        "file": "attack music main.mp3",
        "kind": "audio",
        "metadata": "",
        "name": "attack music main.mp3",
        "preloadAsMusic": false,
        "preloadAsSound": false,
        "preloadInCache": false,
        "userAdded": true
      },
      {
        "file": "attack music end.mp3",
        "kind": "audio",
        "metadata": "",
        "name": "attack music end.mp3",
        "preloadAsMusic": false,
        "preloadAsSound": false,
        "preloadInCache": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Small Plastic Green Round Slider Border.png",
        "kind": "image",
        "metadata": "",
        "name": "Small Plastic Green Round Slider Border.png",
        "smoothed": true,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/308609c5db4c7f741d0ea6ce46b7245524c9e48682f23c670ec81ea08f5917e5_Small Plastic Green Round Slider Border.png",
          "name": "Small Plastic Green Round Slider Border.png"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Transparent.png",
        "kind": "image",
        "metadata": "",
        "name": "Transparent.png",
        "smoothed": true,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/998e0aec3ae57e2bafb3d52e26ab64b10153d411f90c62198effb90b18ecd603_Transparent.png",
          "name": "Transparent.png"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Small Plastic Green Round Slider Thumb.png",
        "kind": "image",
        "metadata": "",
        "name": "Small Plastic Green Round Slider Thumb.png",
        "smoothed": true,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/f1fe4aaaa4d6da59e2bf6b9411de1f013b5d86c5cacda01f99226c78f427f606_Small Plastic Green Round Slider Thumb.png",
          "name": "Small Plastic Green Round Slider Thumb.png"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Square White Slider Border.png",
        "kind": "image",
        "metadata": "",
        "name": "Square White Slider Border.png",
        "smoothed": false,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/324e5f522f6242e9f93090e75ddc38427c3a6c42e8236dbf0ed541bd85cf7221_Square White Slider Border.png",
          "name": "Square White Slider Border.png"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Square White Slider Fill Bar.png",
        "kind": "image",
        "metadata": "",
        "name": "Square White Slider Fill Bar.png",
        "smoothed": false,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/47bc684198cd25b3ec74b0e72c2e2c7abb1b6736bd9f4b78a943c663e83118bf_Square White Slider Fill Bar.png",
          "name": "Square White Slider Fill Bar.png"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Square White Slider Thumb.png",
        "kind": "image",
        "metadata": "",
        "name": "Square White Slider Thumb.png",
        "smoothed": false,
        "userAdded": false,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/Settings UI/Slider/pixel art/848f861767e7ce4581dba9e122ee7bafeaca57987655cebe1f78ab31d1300f0f_Square White Slider Thumb.png",
          "name": "Square White Slider Thumb.png"
        }
      },
      {
        "file": "assets/Hexagon Sand Road  I Detail.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "da025efc8f73fb267fc350873cbe77c4e7fdf27d5bea4337bb8b77816311311a_Hexagon Sand Road  I Detail.glb",
        "userAdded": true,
        "origin": {
          "identifier": "https://asset-resources.gdevelop.io/public-resources/3D Medieval Builder Pack/Hexagon/da025efc8f73fb267fc350873cbe77c4e7fdf27d5bea4337bb8b77816311311a_Hexagon Sand Road  I Detail.glb",
          "name": "gdevelop-asset-store"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/NewSprite4.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\",\"localFilePath\":\"assets/NewSprite4.png\"}",
        "name": "NewSprite4",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/echolocation_indicator.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\",\"localFilePath\":\"assets/echolocation_indicator.png\"}",
        "name": "echolocation_indicator",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/echolocation_indicator2.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\",\"localFilePath\":\"assets/echolocation_indicator2.png\"}",
        "name": "echolocation_indicator2",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/echolocation_indicator3.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\",\"localFilePath\":\"assets/echolocation_indicator3.png\"}",
        "name": "echolocation_indicator3",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/echolocation_indicator4.png",
        "kind": "image",
        "metadata": "{\"extension\":\".png\"}",
        "name": "echolocation_indicator4",
        "smoothed": true,
        "userAdded": true
      },
      {
        "file": "The_Real_Door_Closed.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "The_Real_Door_Closed.glb",
        "userAdded": true
      },
      {
        "file": "Keycard.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "Keycard.glb",
        "userAdded": true
      },
      {
        "file": "TheRealDoorClosed.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "TheRealDoorClosed.glb",
        "userAdded": true
      },
      {
        "file": "Stim.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "Stim.glb",
        "userAdded": true
      },
      {
        "file": "table.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "table.glb",
        "userAdded": true
      },
      {
        "file": "NewWeb.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "NewWeb.glb",
        "userAdded": true
      },
      {
        "file": "Spider.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "Spider.glb",
        "userAdded": true
      },
      {
        "file": "NewCentipede.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "NewCentipede.glb",
        "userAdded": true
      },
      {
        "file": "storageRack.glb",
        "kind": "model3D",
        "metadata": "",
        "name": "storageRack.glb",
        "userAdded": true
      }
    ],
    "resourceFolders": []
  },
  "objects": [],
  "objectsFolderStructure": {
    "folderName": "__ROOT"
  },
  "objectsGroups": [],
  "variables": [
    {
      "folded": true,
      "name": "mouse_sensitivity",
      "type": "number",
      "value": 0.033
    },
    {
      "folded": true,
      "name": "music_volume",
      "type": "number",
      "value": 100
    },
    {
      "folded": true,
      "name": "sound_effect_volume",
      "type": "number",
      "value": 100
    }
  ],
  "layouts": [
    {
      "b": 121,
      "disableInputWhenNotFocused": true,
      "mangledName": "main_95scene",
      "name": "main_scene",
      "r": 121,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 121,
      "uiSettings": {
        "grid": true,
        "gridType": "rectangular",
        "gridWidth": 32,
        "gridHeight": 32,
        "gridOffsetX": 0,
        "gridOffsetY": 0,
        "gridColor": 10401023,
        "gridAlpha": 0.8,
        "snap": true,
        "zoomFactor": 0.3797121001948283,
        "windowMask": false
      },
      "objectsGroups": [
        {
          "name": "solid_objects",
          "objects": [
            {
              "name": "wall"
            },
            {
              "name": "box"
            },
            {
              "name": "table"
            },
            {
              "name": "storage_rack"
            },
            {
              "name": "web"
            },
            {
              "name": "keycard"
            },
            {
              "name": "door"
            },
            {
              "name": "Injection"
            }
          ]
        },
        {
          "name": "not_inter_objects",
          "objects": [
            {
              "name": "box"
            },
            {
              "name": "wall"
            },
            {
              "name": "storage_rack"
            },
            {
              "name": "web"
            },
            {
              "name": "spider"
            },
            {
              "name": "Centipede"
            },
            {
              "name": "table"
            }
          ]
        },
        {
          "name": "living_objects",
          "objects": [
            {
              "name": "Centipede"
            },
            {
              "name": "spider"
            }
          ]
        }
      ],
      "variables": [],
      "instances": [
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "camera",
          "persistentUuid": "828d0690-43a5-4ee4-ba55-d41296c1e614",
          "width": 0,
          "x": 188,
          "y": 1568,
          "zOrder": 2,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "crosshair",
          "persistentUuid": "25a464f7-a2ad-4655-be3a-8c6964dcb2f6",
          "width": 0,
          "x": 640,
          "y": 360,
          "zOrder": 20,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "99cd921d-ff81-4c20-8df4-8bbcfcc9c21b",
          "width": 3584,
          "x": -1056,
          "y": 864,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "52071f51-84a1-43e8-adc3-cfbc0465972f",
          "width": 1751,
          "x": -1116,
          "y": 2396,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "fda97780-1dc6-4e2d-96e2-f48ab8260a34",
          "width": 896,
          "x": -626,
          "y": 1262,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "3089b303-f9c5-4732-83d2-05bec7d58342",
          "width": 864,
          "x": 222,
          "y": 1246,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "pass_out",
          "persistentUuid": "26c92829-b3c6-4836-b321-57edeaec827a",
          "width": 0,
          "x": -20,
          "y": -64,
          "zOrder": 100000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "keycard_icon",
          "persistentUuid": "91560160-f858-4046-8180-af20b2c7802b",
          "width": 0,
          "x": 1152,
          "y": 640,
          "zOrder": 26,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "keycard_num",
          "persistentUuid": "51fd19b5-d75d-40f6-8d05-aa3dd840f177",
          "width": 0,
          "x": 1232,
          "y": 659,
          "zOrder": 27,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 64,
          "layer": "crosshair",
          "name": "Injection_Img",
          "persistentUuid": "8f4935e1-df71-45e1-8f11-38dece1ed4ae",
          "width": 64,
          "x": 1152,
          "y": 544,
          "zOrder": 28,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "Injection_Num",
          "persistentUuid": "c7a96252-ed12-4f7e-9341-85251c7653f7",
          "width": 0,
          "x": 1229,
          "y": 573,
          "zOrder": 29,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "sprint_meter",
          "persistentUuid": "bddbd8dd-9156-4a79-bb36-2a5b5b8345ce",
          "width": 0,
          "x": 32,
          "y": 672,
          "zOrder": 30,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "locker_txt",
          "persistentUuid": "e530c50a-4e6a-4c5f-af86-0d8710e8dee7",
          "width": 0,
          "x": 608,
          "y": 608,
          "zOrder": 31,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "keycard_txt",
          "persistentUuid": "8ec03958-c896-402e-8db5-5784bace2556",
          "width": 0,
          "x": 588,
          "y": 608,
          "zOrder": 32,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "crosshair",
          "name": "Injection_Txt",
          "persistentUuid": "47ef0f87-1fdd-4e80-8e07-acdf992862bd",
          "width": 0,
          "x": 600,
          "y": 604,
          "zOrder": 33,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "marker",
          "persistentUuid": "81b43859-a17b-485a-9626-f29535c58c11",
          "width": 0,
          "x": 1152,
          "y": 0,
          "zOrder": 37,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "5c9dfca1-fa95-4a1e-82e5-abc8d2c9cbfc",
          "width": 2912,
          "x": -2526,
          "y": 2270,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 200,
          "height": 160,
          "layer": "",
          "name": "door",
          "persistentUuid": "3896418f-602c-481c-8328-4e3d83e4f8dd",
          "width": 100,
          "x": 658,
          "y": 1809,
          "z": 100,
          "zOrder": 38,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 50,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "43cc6c42-cdd9-4510-9373-5e677e51d904",
          "width": 160,
          "x": 578,
          "y": 1758,
          "z": 200,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 4,
          "height": 185,
          "layer": "",
          "name": "keycard",
          "persistentUuid": "c83affb0-65a4-4a70-8a23-645b3eca2e74",
          "width": 35,
          "x": -817,
          "y": 2080,
          "zOrder": 40,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "bf62a28b-29f6-42c2-831b-1a6f0399395a",
          "width": 3698,
          "x": -1248,
          "y": 3452,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "a55568b3-b7c6-4e13-a3cc-3de40ebc7c38",
          "width": 2912,
          "x": 994,
          "y": 2206,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "618dd20c-9a16-4297-b22d-45897348028b",
          "width": 1344,
          "x": -18,
          "y": 2510,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 10,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "cure",
          "persistentUuid": "143b660e-c21a-4edd-a977-7ca1c5273da6",
          "width": 0,
          "x": -608,
          "y": 2944,
          "z": 50,
          "zOrder": 42,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "97e60bcf-9885-4b33-add4-ba49ee02954a",
          "width": 1344,
          "x": 1038,
          "y": 2958,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "5e395a81-491f-4795-9cf6-09496198aeaf",
          "width": 946,
          "x": 711,
          "y": 1223,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "c6ff0f17-6cdf-44b1-bea1-afb1b2729d10",
          "width": 1536,
          "x": 1824,
          "y": 1536,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "keycard",
          "persistentUuid": "1a8c03a8-af88-47ce-b418-648e6efbb1f4",
          "width": 0,
          "x": 2080,
          "y": 2976,
          "z": 15,
          "zOrder": 40,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 200,
          "height": 160,
          "layer": "",
          "name": "door",
          "persistentUuid": "a739a7d1-78b2-4d73-be26-19ebdca9bad5",
          "width": 100,
          "x": 654,
          "y": 3312,
          "z": 100,
          "zOrder": 38,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 250,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "6772941c-e3c8-4cef-8355-629424f0c244",
          "width": 1344,
          "x": -18,
          "y": 4014,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 90,
          "customSize": true,
          "depth": 50,
          "height": 100,
          "layer": "",
          "name": "wall",
          "persistentUuid": "f47a8fa2-000c-4862-ab62-ee49a4e0f13b",
          "width": 160,
          "x": 574,
          "y": 3262,
          "z": 200,
          "zOrder": 21,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 100,
          "height": 160,
          "layer": "",
          "name": "spawn_centipede",
          "persistentUuid": "c5ffc37e-f711-4091-8475-bcd1a1b9ef12",
          "width": 36,
          "x": 732,
          "y": 1728,
          "z": -99,
          "zOrder": 43,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "marker",
          "persistentUuid": "814a72f9-db0a-40b7-9662-f8970336a86e",
          "width": 0,
          "x": 3936,
          "y": 2880,
          "z": -100,
          "zOrder": 44,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 2912,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "b1cf728b-8a00-4254-b0d2-02a42dd94d69",
          "width": 96,
          "x": -1120,
          "y": 864,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 3904,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "678a9b5e-981c-4b90-b453-9f8b6bc8912a",
          "width": 96,
          "x": 608,
          "y": 832,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 2912,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "05e65b17-45d3-4f25-bf84-5afd3d119ab1",
          "width": 96,
          "x": 2400,
          "y": 640,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 96,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "70c21f86-d160-4510-97fa-3b8866b493cb",
          "width": 3767,
          "x": -1143,
          "y": 3456,
          "zOrder": 1000001,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 96,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "6b814cf6-fec9-4f64-a09e-c71e43b0388b",
          "width": 3712,
          "x": -1056,
          "y": 864,
          "zOrder": 1000001,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 928,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "3544c1ac-fda9-4bc7-aac5-0a3526a2f198",
          "width": 96,
          "x": -224,
          "y": 832,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 1376,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "0d5cf83c-6f43-4f1b-847b-342c8454e50a",
          "width": 96,
          "x": 1664,
          "y": 2336,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 96,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "e41c2f2a-b529-4f1e-bbd3-77987ee29751",
          "width": 1824,
          "x": -1152,
          "y": 2400,
          "zOrder": 1000001,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 96,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "e0996b04-8663-40ad-8782-f9c102a15fb3",
          "width": 1504,
          "x": 1824,
          "y": 1536,
          "zOrder": 1000001,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 992,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "5a67ad86-a64a-4651-99ae-d38ae64eef6f",
          "width": 96,
          "x": 1120,
          "y": 768,
          "zOrder": 1000000,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "spider",
          "persistentUuid": "30d97e7a-0bc9-4374-bf12-cb16d8708ba6",
          "rotationX": -90,
          "width": 0,
          "x": -846,
          "y": 1106,
          "zOrder": 1000002,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 64,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "Injection",
          "persistentUuid": "1d57170c-b5d7-4758-828a-b92da02789e5",
          "width": 0,
          "x": 261,
          "y": 2406,
          "zOrder": 100000001,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "Locker",
          "persistentUuid": "7c9af5b7-bd2d-4954-b2f0-55cd47b6ad0c",
          "width": 0,
          "x": 188,
          "y": 960,
          "zOrder": 100000002,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "depth": 1,
          "height": 128,
          "layer": "",
          "name": "pathfinding_barrier",
          "persistentUuid": "1c16580c-dacd-4dcd-801c-66b6ad0a2843",
          "width": 160,
          "x": 160,
          "y": 960,
          "zOrder": 100000004,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "table",
          "persistentUuid": "c5b699e6-6c35-4e53-8650-50f7ce1b2fc5",
          "rotationX": -90,
          "width": 0,
          "x": 502,
          "y": 2336,
          "z": -6,
          "zOrder": 100000005,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        }
      ],
      "objects": [
        {
          "assetStoreId": "",
          "name": "camera",
          "type": "Scene3D::Cube3DObject",
          "variables": [
            {
              "folded": true,
              "name": "stick",
              "type": "number",
              "value": 0
            },
            {
              "folded": true,
              "name": "Injection",
              "type": "number",
              "value": 0
            },
            {
              "folded": true,
              "name": "keycard_number",
              "type": "number",
              "value": 0
            },
            {
              "folded": true,
              "name": "Stamina",
              "type": "number",
              "value": 200
            }
          ],
          "effects": [],
          "behaviors": [
            {
              "name": "Jump3D",
              "type": "Jump3D::Jump3D",
              "Object3D": "Object3D",
              "JumpHeight": 150,
              "MaxFallingSpeed": 700,
              "Gravity": 1000,
              "JumpSpeed": 600,
              "JumpSustainDurationMax": 0.2,
              "State": "Idle",
              "CurrentJumpSpeed": 0.19999992847454,
              "CurrentFallSpeed": 0.19999992847454,
              "PreviousJumpSpeed": 0.19999992847454,
              "PreviousFallSpeed": 0.19999992847454,
              "HasPressedJumpKey": false,
              "CanJump": true,
              "ShouldStopAtZero": true,
              "PreviousState": "Idle"
            },
            {
              "name": "Walk3D",
              "type": "Walk3D::Walk3D",
              "RotationSpeedMax": 180,
              "RotationAcceleration": 720,
              "RotationDeceleration": 720,
              "TranslationSpeedMax": 400,
              "TranslationAcceleration": 1600,
              "TranslationDeceleration": 1600,
              "CurrentRotationSpeed": 0,
              "PreviousRotationSpeed": 0,
              "CurrentForwardSpeed": 0,
              "CurrentSidewaysSpeed": 0,
              "PreviousForwardSpeed": 0,
              "PreviousSidewaysSpeed": 0,
              "HasPressedTurnLeft": false,
              "HasPressedTurnRight": false,
              "HasPressedTurnLeftLast": false,
              "HadPressedTurnLeft": false,
              "HadPressedTurnRight": false,
              "HasPressedMoveForward": false,
              "HasPressedMoveBackward": false,
              "HadPressedMoveForward": false,
              "HadPressedMoveBackward": false,
              "HasPressedMoveBackwardLast": false,
              "HasPressedMoveLeft": false,
              "HasPressedMoveRight": false,
              "HadPressedMoveLeft": false,
              "HadPressedMoveRight": false,
              "HasPressedMoveLeftLast": false,
              "TargetedForwardSpeed": 0,
              "TargetedSidewaysSpeed": 0,
              "TargetedRotationSpeed": 0
            }
          ],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "",
            "backFaceResourceName": "",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "",
            "rightFaceResourceName": "",
            "topFaceResourceName": "",
            "bottomFaceResourceName": "",
            "frontFaceVisible": true,
            "backFaceVisible": false,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": false,
            "backFaceResourceRepeat": false,
            "leftFaceResourceRepeat": false,
            "rightFaceResourceRepeat": false,
            "topFaceResourceRepeat": false,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "assetStoreId": "",
          "name": "box",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "Platform",
              "type": "PlatformBehavior::PlatformBehavior",
              "canBeGrabbed": true,
              "platformType": "NormalPlatform",
              "yGrabOffset": 0
            }
          ],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "",
            "backFaceResourceName": "",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "",
            "rightFaceResourceName": "",
            "topFaceResourceName": "",
            "bottomFaceResourceName": "",
            "frontFaceVisible": true,
            "backFaceVisible": false,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": false,
            "backFaceResourceRepeat": false,
            "leftFaceResourceRepeat": false,
            "rightFaceResourceRepeat": false,
            "topFaceResourceRepeat": false,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "adaptCollisionMaskAutomatically": true,
          "assetStoreId": "",
          "name": "crosshair",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "crosshair",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "metadata": "{\"pskl\":{}}",
                  "timeBetweenFrames": 0.08,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "crosshair2",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 0,
                            "y": 0
                          },
                          {
                            "x": 16,
                            "y": 0
                          },
                          {
                            "x": 16,
                            "y": 16
                          },
                          {
                            "x": 0,
                            "y": 16
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "adaptCollisionMaskAutomatically": true,
          "assetStoreId": "",
          "name": "pass_out",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "NewSprite",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "metadata": "{\"pskl\":{}}",
                  "timeBetweenFrames": 0.08,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "NewSprite3",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 0,
                            "y": 0
                          },
                          {
                            "x": 1300,
                            "y": 0
                          },
                          {
                            "x": 1300,
                            "y": 800
                          },
                          {
                            "x": 0,
                            "y": 800
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "name": "sprint_meter",
          "type": "PrimitiveDrawing::Drawer",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "fillOpacity": 255,
          "outlineSize": 1,
          "outlineOpacity": 255,
          "fillColor": {
            "b": 255,
            "g": 255,
            "r": 255
          },
          "outlineColor": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "absoluteCoordinates": false,
          "clearBetweenFrames": true,
          "antialiasing": "none"
        },
        {
          "assetStoreId": "",
          "name": "Injection",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 8.741902112960815,
            "height": 131.42826229333878,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "Stim.glb",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 24.428460597991943,
            "animations": []
          }
        },
        {
          "adaptCollisionMaskAutomatically": true,
          "assetStoreId": "",
          "name": "Injection_Img",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "Injection_Img",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "metadata": "{\"pskl\":{}}",
                  "timeBetweenFrames": 0.08,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "Injection_Img",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 9,
                            "y": 1
                          },
                          {
                            "x": 24,
                            "y": 1
                          },
                          {
                            "x": 24,
                            "y": 32
                          },
                          {
                            "x": 9,
                            "y": 32
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "Injection_Txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Text",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Text",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "Injection_Num",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Text",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Text",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "name": "Locker",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "",
            "backFaceResourceName": "",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "",
            "rightFaceResourceName": "",
            "topFaceResourceName": "",
            "bottomFaceResourceName": "",
            "frontFaceVisible": true,
            "backFaceVisible": false,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": false,
            "backFaceResourceRepeat": false,
            "leftFaceResourceRepeat": false,
            "rightFaceResourceRepeat": false,
            "topFaceResourceRepeat": false,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "locker_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Press 'E' to hide",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Press 'E' to hide",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "name": "Centipede",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "Pathfinding",
              "type": "PathfindingBehavior::PathfindingBehavior",
              "extraBorder": 1,
              "acceleration": 400,
              "allowDiagonals": true,
              "angleOffset": 0,
              "angularMaxSpeed": 180,
              "cellHeight": 20,
              "cellWidth": 20,
              "gridOffsetX": 0,
              "gridOffsetY": 0,
              "maxSpeed": 620,
              "rotateObject": true,
              "smoothingMaxCellGap": 1
            }
          ],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "NewCentipede.glb",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "marker",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "",
            "backFaceResourceName": "",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "",
            "rightFaceResourceName": "",
            "topFaceResourceName": "",
            "bottomFaceResourceName": "",
            "frontFaceVisible": true,
            "backFaceVisible": false,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": false,
            "backFaceResourceRepeat": false,
            "leftFaceResourceRepeat": false,
            "rightFaceResourceRepeat": false,
            "topFaceResourceRepeat": false,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "assetStoreId": "",
          "name": "door",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "keycard",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 3.798451361059929,
            "height": 202.12693214416504,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "Keycard.glb",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 35.064443945884705,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "spider",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "Jump3D",
              "type": "Jump3D::Jump3D",
              "Object3D": "Object3D",
              "JumpHeight": 200,
              "MaxFallingSpeed": 700,
              "Gravity": 1000,
              "JumpSpeed": 600,
              "JumpSustainDurationMax": 0.2,
              "State": "Idle",
              "CurrentJumpSpeed": 0.19999992847454,
              "CurrentFallSpeed": 0.19999992847454,
              "PreviousJumpSpeed": 0.19999992847454,
              "PreviousFallSpeed": 0.19999992847454,
              "HasPressedJumpKey": false,
              "CanJump": true,
              "ShouldStopAtZero": true,
              "PreviousState": "Idle"
            },
            {
              "name": "Pathfinding",
              "type": "PathfindingBehavior::PathfindingBehavior",
              "extraBorder": 1,
              "maxSpeed": 180,
              "acceleration": 400,
              "allowDiagonals": true,
              "angleOffset": 0,
              "angularMaxSpeed": 180,
              "cellHeight": 20,
              "cellWidth": 20,
              "gridOffsetX": 0,
              "gridOffsetY": 0,
              "rotateObject": true,
              "smoothingMaxCellGap": 1
            }
          ],
          "content": {
            "centerLocation": "BottomCenterZ",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "Spider.glb",
            "originLocation": "BottomCenterZ",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "web",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "centerLocation": "BottomCenterZ",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "NewWeb.glb",
            "originLocation": "BottomCenterZ",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "unstick_meter",
          "type": "PrimitiveDrawing::Drawer",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "fillOpacity": 255,
          "outlineSize": 1,
          "outlineOpacity": 255,
          "fillColor": {
            "b": 255,
            "g": 255,
            "r": 255
          },
          "outlineColor": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "absoluteCoordinates": false,
          "clearBetweenFrames": true,
          "antialiasing": "none"
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "stick_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "PRESS SPACE",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "PRESS SPACE",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "keycard_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Press 'E' to pick up",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Press 'E' to pick up",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "adaptCollisionMaskAutomatically": true,
          "assetStoreId": "",
          "name": "keycard_icon",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "keycard_icon",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "metadata": "{\"pskl\":{}}",
                  "timeBetweenFrames": 0.08,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "keycard_icon",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 2,
                            "y": 10
                          },
                          {
                            "x": 63,
                            "y": 10
                          },
                          {
                            "x": 63,
                            "y": 51
                          },
                          {
                            "x": 2,
                            "y": 51
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "keycard_num",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "name": "table",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 67.4519944190979,
            "height": 81.87272667884827,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "table.glb",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 173.8133406639099,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "storage_rack",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "storageRack.glb",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "name": "wall",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "wall_texture.jpeg",
            "backFaceResourceName": "wall_texture.jpeg",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "wall_texture.jpeg",
            "rightFaceResourceName": "wall_texture.jpeg",
            "topFaceResourceName": "wall_texture.jpeg",
            "bottomFaceResourceName": "wall_texture.jpeg",
            "frontFaceVisible": true,
            "backFaceVisible": true,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": true,
            "backFaceResourceRepeat": true,
            "leftFaceResourceRepeat": true,
            "rightFaceResourceRepeat": true,
            "topFaceResourceRepeat": true,
            "bottomFaceResourceRepeat": true,
            "materialType": "Basic"
          }
        },
        {
          "assetStoreId": "",
          "name": "floor",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "floor_tile.jpeg",
            "backFaceResourceName": "floor_tile.jpeg",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "floor_tile.jpeg",
            "rightFaceResourceName": "floor_tile.jpeg",
            "topFaceResourceName": "floor_tile.jpeg",
            "bottomFaceResourceName": "floor_tile.jpeg",
            "frontFaceVisible": true,
            "backFaceVisible": true,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": true,
            "backFaceResourceRepeat": true,
            "leftFaceResourceRepeat": true,
            "rightFaceResourceRepeat": true,
            "topFaceResourceRepeat": true,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "assetStoreId": "",
          "name": "cure",
          "type": "Scene3D::Model3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "centerLocation": "ModelOrigin",
            "depth": 100,
            "height": 100,
            "keepAspectRatio": true,
            "materialType": "StandardWithoutMetalness",
            "modelResourceName": "",
            "originLocation": "ModelOrigin",
            "rotationX": 0,
            "rotationY": 0,
            "rotationZ": 0,
            "width": 100,
            "animations": []
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "cure_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Touch the cure to win",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Touch the cure to win",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "name": "spawn_centipede",
          "type": "Scene3D::Cube3DObject",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "width": 100,
            "height": 100,
            "depth": 100,
            "enableTextureTransparency": false,
            "facesOrientation": "Y",
            "frontFaceResourceName": "",
            "backFaceResourceName": "",
            "backFaceUpThroughWhichAxisRotation": "X",
            "leftFaceResourceName": "",
            "rightFaceResourceName": "",
            "topFaceResourceName": "",
            "bottomFaceResourceName": "",
            "frontFaceVisible": true,
            "backFaceVisible": false,
            "leftFaceVisible": true,
            "rightFaceVisible": true,
            "topFaceVisible": true,
            "bottomFaceVisible": true,
            "frontFaceResourceRepeat": false,
            "backFaceResourceRepeat": false,
            "leftFaceResourceRepeat": false,
            "rightFaceResourceRepeat": false,
            "topFaceResourceRepeat": false,
            "bottomFaceResourceRepeat": false,
            "materialType": "Basic"
          }
        },
        {
          "adaptCollisionMaskAutomatically": true,
          "assetStoreId": "",
          "name": "pathfinding_barrier",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "PathfindingObstacle",
              "type": "PathfindingBehavior::PathfindingObstacleBehavior",
              "cost": 2,
              "impassable": true
            }
          ],
          "animations": [
            {
              "name": "pathfinding_barrier",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "metadata": "{\"pskl\":{}}",
                  "timeBetweenFrames": 0.08,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "pathfinding_barrier",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 0,
                            "y": 0
                          },
                          {
                            "x": 32,
                            "y": 0
                          },
                          {
                            "x": 32,
                            "y": 32
                          },
                          {
                            "x": 0,
                            "y": 32
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "objectsFolderStructure": {
        "folderName": "__ROOT",
        "children": [
          {
            "objectName": "camera"
          },
          {
            "objectName": "box"
          },
          {
            "objectName": "crosshair"
          },
          {
            "objectName": "pass_out"
          },
          {
            "objectName": "sprint_meter"
          },
          {
            "objectName": "Injection"
          },
          {
            "objectName": "Injection_Img"
          },
          {
            "objectName": "Injection_Txt"
          },
          {
            "objectName": "Injection_Num"
          },
          {
            "objectName": "Locker"
          },
          {
            "objectName": "locker_txt"
          },
          {
            "objectName": "Centipede"
          },
          {
            "objectName": "marker"
          },
          {
            "objectName": "door"
          },
          {
            "objectName": "keycard"
          },
          {
            "objectName": "spider"
          },
          {
            "objectName": "web"
          },
          {
            "objectName": "unstick_meter"
          },
          {
            "objectName": "stick_txt"
          },
          {
            "objectName": "keycard_txt"
          },
          {
            "objectName": "keycard_icon"
          },
          {
            "objectName": "keycard_num"
          },
          {
            "objectName": "table"
          },
          {
            "objectName": "storage_rack"
          },
          {
            "objectName": "wall"
          },
          {
            "objectName": "floor"
          },
          {
            "objectName": "cure"
          },
          {
            "objectName": "cure_txt"
          },
          {
            "objectName": "spawn_centipede"
          },
          {
            "objectName": "pathfinding_barrier"
          }
        ]
      },
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"mouse_sensitivity\""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_spawned",
                "False"
              ]
            },
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "pathfinding_barrier"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "pointer lock"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "AreSceneAssetsLoaded"
              },
              "parameters": [
                "",
                "\"main_scene\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MousePointerLock::RequestPointerLock"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "Escape"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MousePointerLock::ExitPointerLock"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "player basic events"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Jump3D::Jump3D::SeparateFromPlatforms"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "solid_objects",
                "Object3D",
                ""
              ]
            },
            {
              "type": {
                "value": "Collision3D::SeparateFromObjects"
              },
              "parameters": [
                "",
                "camera",
                "Object3D",
                "solid_objects",
                "Object3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "FirstPersonCamera::LookFromObjectEyes"
              },
              "parameters": [
                "",
                "camera",
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "w"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SimulateMoveForwardKey"
              },
              "parameters": [
                "camera",
                "Walk3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "a"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SimulateMoveLeftKey"
              },
              "parameters": [
                "camera",
                "Walk3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "d"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SimulateMoveRightKey"
              },
              "parameters": [
                "camera",
                "Walk3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "s"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SimulateMoveBackwardKey"
              },
              "parameters": [
                "camera",
                "Walk3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "Space"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Jump3D::Jump3D::SimulateJumpKey"
              },
              "parameters": [
                "camera",
                "Jump3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MousePointerLock::isPointerLocked"
              },
              "parameters": [
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"mouse_sensitivity\"",
                ">=",
                "GlobalVariable(mouse_sensitivity)"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetAngle"
              },
              "parameters": [
                "camera",
                "+",
                "MousePointerLock::MovementX()"
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetRotationY"
              },
              "parameters": [
                "camera",
                "Object3D",
                "+",
                "MousePointerLock::MovementY()"
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"mouse_sensitivity\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene3D::SetCameraZ"
              },
              "parameters": [
                "",
                "+",
                "camera.Object3D::Depth()",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetRotationY"
              },
              "parameters": [
                "camera",
                "Object3D",
                "=",
                "clamp(camera.Object3D::RotationY(), -90, 90)"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MousePointerLock::isPointerLocked"
              },
              "parameters": [
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"mouse_sensitivity\"",
                ">=",
                "GlobalVariable(mouse_sensitivity)"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetRotationY"
              },
              "parameters": [
                "camera",
                "Object3D",
                "+",
                "MousePointerLock::MovementY()"
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"mouse_sensitivity\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetRotationY"
              },
              "parameters": [
                "camera",
                "Object3D",
                "=",
                "clamp(camera.Object3D::RotationY(), -20, 20)"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "spawn centipede"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "camera",
                "spawn_centipede",
                "10",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "Centipede",
                "1300",
                "3000",
                ""
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetRotationX"
              },
              "parameters": [
                "Centipede",
                "Object3D",
                "=",
                "-90"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "spawn_centipede",
                ""
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetZ"
              },
              "parameters": [
                "Centipede",
                "Object3D",
                "=",
                "51"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_spawned",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "marker"
              ]
            },
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "spawn_centipede"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "pause game"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "q"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PushScene"
              },
              "parameters": [
                "",
                "\"pause_menu\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "external events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "locker_events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "centipede_events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "music_events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "injection"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "player_events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "keycard_door_events"
        },
        {
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "cure_events"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "spider",
                "camera",
                "800",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Link",
              "include": {
                "includeConfig": 0
              },
              "target": "spider_events"
            }
          ]
        }
      ],
      "layers": [
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "",
          "renderingType": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        },
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "crosshair",
          "renderingType": "",
          "visibility": true,
          "cameras": [],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        }
      ],
      "behaviorsSharedData": [
        {
          "name": "Animation",
          "type": "AnimatableCapability::AnimatableBehavior"
        },
        {
          "name": "Effect",
          "type": "EffectCapability::EffectBehavior"
        },
        {
          "name": "Flippable",
          "type": "FlippableCapability::FlippableBehavior"
        },
        {
          "name": "Jump3D",
          "type": "Jump3D::Jump3D"
        },
        {
          "name": "Object3D",
          "type": "Scene3D::Base3DBehavior"
        },
        {
          "name": "Opacity",
          "type": "OpacityCapability::OpacityBehavior"
        },
        {
          "name": "Pathfinding",
          "type": "PathfindingBehavior::PathfindingBehavior"
        },
        {
          "name": "PathfindingObstacle",
          "type": "PathfindingBehavior::PathfindingObstacleBehavior"
        },
        {
          "name": "Platform",
          "type": "PlatformBehavior::PlatformBehavior"
        },
        {
          "name": "Resizable",
          "type": "ResizableCapability::ResizableBehavior"
        },
        {
          "name": "Scale",
          "type": "ScalableCapability::ScalableBehavior"
        },
        {
          "name": "Text",
          "type": "TextContainerCapability::TextContainerBehavior"
        },
        {
          "name": "Walk3D",
          "type": "Walk3D::Walk3D",
          "Cos": 0,
          "Sin": 0
        }
      ]
    },
    {
      "b": 209,
      "disableInputWhenNotFocused": true,
      "mangledName": "start_95menu",
      "name": "start_menu",
      "r": 209,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 209,
      "uiSettings": {
        "grid": false,
        "gridType": "rectangular",
        "gridWidth": 32,
        "gridHeight": 32,
        "gridOffsetX": 0,
        "gridOffsetY": 0,
        "gridColor": 10401023,
        "gridAlpha": 0.8,
        "snap": false,
        "zoomFactor": 0.43357743047023733,
        "windowMask": false
      },
      "objectsGroups": [],
      "variables": [],
      "instances": [
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "start_txt",
          "persistentUuid": "daae7c32-1e1a-416a-9fc2-d74261649111",
          "width": 0,
          "x": 512,
          "y": 327,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "title_txt",
          "persistentUuid": "994a6b20-a134-4bac-952d-b409bfaaee7e",
          "width": 0,
          "x": 250,
          "y": 92,
          "zOrder": 2,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "cont_txt",
          "persistentUuid": "5b67048a-5f2a-4599-abc1-fbf394abecfa",
          "width": 0,
          "x": 541,
          "y": 445,
          "zOrder": 3,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        }
      ],
      "objects": [
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "start_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "New Game",
          "font": "",
          "textAlignment": "left",
          "characterSize": 50,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "New Game",
            "font": "",
            "textAlignment": "left",
            "characterSize": 50,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "title_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "placeholder name",
          "font": "",
          "textAlignment": "left",
          "characterSize": 100,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "placeholder name",
            "font": "",
            "textAlignment": "left",
            "characterSize": 100,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "cont_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Continue",
          "font": "",
          "textAlignment": "left",
          "characterSize": 50,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Continue",
            "font": "",
            "textAlignment": "left",
            "characterSize": 50,
            "color": "0;0;0"
          }
        }
      ],
      "objectsFolderStructure": {
        "folderName": "__ROOT",
        "children": [
          {
            "objectName": "start_txt"
          },
          {
            "objectName": "title_txt"
          },
          {
            "objectName": "cont_txt"
          }
        ]
      },
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "start_txt",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene"
              },
              "parameters": [
                "",
                "\"main_scene\"",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "MousePointerLock::ExitPointerLock"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        }
      ],
      "layers": [
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "",
          "renderingType": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        }
      ],
      "behaviorsSharedData": [
        {
          "name": "Effect",
          "type": "EffectCapability::EffectBehavior"
        },
        {
          "name": "Opacity",
          "type": "OpacityCapability::OpacityBehavior"
        },
        {
          "name": "Scale",
          "type": "ScalableCapability::ScalableBehavior"
        },
        {
          "name": "Text",
          "type": "TextContainerCapability::TextContainerBehavior"
        }
      ]
    },
    {
      "b": 209,
      "disableInputWhenNotFocused": true,
      "mangledName": "win_95menu",
      "name": "win_menu",
      "r": 209,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 209,
      "uiSettings": {},
      "objectsGroups": [],
      "variables": [],
      "instances": [],
      "objects": [],
      "objectsFolderStructure": {
        "folderName": "__ROOT"
      },
      "events": [],
      "layers": [
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "",
          "renderingType": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        }
      ],
      "behaviorsSharedData": []
    },
    {
      "b": 209,
      "disableInputWhenNotFocused": true,
      "mangledName": "lose_95menu",
      "name": "lose_menu",
      "r": 209,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 209,
      "uiSettings": {},
      "objectsGroups": [],
      "variables": [],
      "instances": [],
      "objects": [],
      "objectsFolderStructure": {
        "folderName": "__ROOT"
      },
      "events": [],
      "layers": [
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "",
          "renderingType": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        }
      ],
      "behaviorsSharedData": []
    },
    {
      "b": 209,
      "disableInputWhenNotFocused": true,
      "mangledName": "pause_95menu",
      "name": "pause_menu",
      "r": 209,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 209,
      "uiSettings": {
        "grid": false,
        "gridType": "rectangular",
        "gridWidth": 32,
        "gridHeight": 32,
        "gridOffsetX": 0,
        "gridOffsetY": 0,
        "gridColor": 10401023,
        "gridAlpha": 0.8,
        "snap": false,
        "zoomFactor": 0.565315805512632,
        "windowMask": false
      },
      "objectsGroups": [],
      "variables": [],
      "instances": [
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "mouse_sens_slide",
          "persistentUuid": "306362f4-7fa4-4a00-9828-78a7434b3721",
          "width": 0,
          "x": 965,
          "y": 148,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "settings_txt",
          "persistentUuid": "fab94040-d2a9-4a26-aa87-67dd5195dc22",
          "width": 0,
          "x": 1014,
          "y": 12,
          "zOrder": 2,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "mouse_sens_txt",
          "persistentUuid": "a3b449c9-6005-4de3-a301-24c32c316846",
          "width": 0,
          "x": 1025,
          "y": 110,
          "zOrder": 3,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "music_vol_slide",
          "persistentUuid": "cff2b69a-9f3d-4cb3-96f9-851285391baa",
          "width": 0,
          "x": 967,
          "y": 292,
          "zOrder": 4,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "snd_eff_vol_slide",
          "persistentUuid": "49dbd6af-27fc-41e3-a370-f8a149d7a860",
          "width": 0,
          "x": 965,
          "y": 422,
          "zOrder": 5,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "music_vol_txt",
          "persistentUuid": "0d8acee4-6372-4953-8bc5-b3fd5526c2d7",
          "width": 0,
          "x": 1039,
          "y": 254,
          "zOrder": 6,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "name": "snd_eff_vol_txt",
          "persistentUuid": "eed28851-492c-47f2-9dfa-8352c128c181",
          "width": 0,
          "x": 1031,
          "y": 384,
          "zOrder": 7,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        }
      ],
      "objects": [
        {
          "assetStoreId": "bfeeb465a4a164b560a2215e3ff9e78e66123af43cbf7ef1f22d56fca4271c80",
          "name": "mouse_sens_slide",
          "type": "PanelSpriteSlider::PanelSpriteSlider",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "BarTopPadding": 6,
            "BarLeftPadding": 6,
            "BarRightPadding": 6,
            "BarBottomPadding": 6,
            "LabelMargin": 6,
            "MaxValue": 0.036,
            "ShowLabelAtChanges": false,
            "MinValue": 0.03,
            "InitialValue": 0.033,
            "StepSize": 0.001
          },
          "childrenContent": {
            "Background": {
              "bottomMargin": 4,
              "height": 28,
              "leftMargin": 2,
              "rightMargin": 2,
              "texture": "Square White Slider Border.png",
              "tiled": false,
              "topMargin": 4,
              "width": 265
            },
            "FillBar": {
              "bottomMargin": 2,
              "height": 16,
              "leftMargin": 0,
              "rightMargin": 0,
              "texture": "Square White Slider Fill Bar.png",
              "tiled": false,
              "topMargin": 0,
              "width": 16
            },
            "Label": {
              "bold": false,
              "italic": false,
              "smoothed": true,
              "underlined": false,
              "string": "Mouse Sensitivity",
              "font": "",
              "textAlignment": "",
              "characterSize": 20,
              "color": {
                "b": 221,
                "g": 221,
                "r": 221
              },
              "content": {
                "bold": false,
                "isOutlineEnabled": false,
                "isShadowEnabled": false,
                "italic": false,
                "outlineColor": "255;255;255",
                "outlineThickness": 2,
                "shadowAngle": 90,
                "shadowBlurRadius": 2,
                "shadowColor": "0;0;0",
                "shadowDistance": 4,
                "shadowOpacity": 127,
                "smoothed": true,
                "underlined": false,
                "text": "Mouse Sensitivity",
                "font": "",
                "textAlignment": "",
                "characterSize": 20,
                "color": "221;221;221"
              }
            },
            "Thumb": {
              "bottomMargin": 2,
              "height": 36,
              "leftMargin": 1,
              "rightMargin": 1,
              "texture": "Square White Slider Thumb.png",
              "tiled": false,
              "topMargin": 2,
              "width": 22
            }
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "settings_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Settings",
          "font": "",
          "textAlignment": "left",
          "characterSize": 50,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Settings",
            "font": "",
            "textAlignment": "left",
            "characterSize": 50,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "mouse_sens_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Mouse Sensitivity",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Mouse Sensitivity",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "bfeeb465a4a164b560a2215e3ff9e78e66123af43cbf7ef1f22d56fca4271c80",
          "name": "music_vol_slide",
          "type": "PanelSpriteSlider::PanelSpriteSlider",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "BarTopPadding": 6,
            "BarLeftPadding": 6,
            "BarRightPadding": 6,
            "BarBottomPadding": 6,
            "LabelMargin": 6,
            "InitialValue": 100,
            "ShowLabelAtChanges": false
          },
          "childrenContent": {
            "Background": {
              "bottomMargin": 4,
              "height": 28,
              "leftMargin": 2,
              "rightMargin": 2,
              "texture": "Square White Slider Border.png",
              "tiled": false,
              "topMargin": 4,
              "width": 265
            },
            "FillBar": {
              "bottomMargin": 2,
              "height": 16,
              "leftMargin": 0,
              "rightMargin": 0,
              "texture": "Square White Slider Fill Bar.png",
              "tiled": false,
              "topMargin": 0,
              "width": 16
            },
            "Label": {
              "bold": false,
              "italic": false,
              "smoothed": true,
              "underlined": false,
              "string": "It displays the value when it changes.",
              "font": "",
              "textAlignment": "",
              "characterSize": 20,
              "color": {
                "b": 221,
                "g": 221,
                "r": 221
              },
              "content": {
                "bold": false,
                "isOutlineEnabled": false,
                "isShadowEnabled": false,
                "italic": false,
                "outlineColor": "255;255;255",
                "outlineThickness": 2,
                "shadowAngle": 90,
                "shadowBlurRadius": 2,
                "shadowColor": "0;0;0",
                "shadowDistance": 4,
                "shadowOpacity": 127,
                "smoothed": true,
                "underlined": false,
                "text": "It displays the value when it changes.",
                "font": "",
                "textAlignment": "",
                "characterSize": 20,
                "color": "221;221;221"
              }
            },
            "Thumb": {
              "bottomMargin": 2,
              "height": 36,
              "leftMargin": 1,
              "rightMargin": 1,
              "texture": "Square White Slider Thumb.png",
              "tiled": false,
              "topMargin": 2,
              "width": 22
            }
          }
        },
        {
          "assetStoreId": "bfeeb465a4a164b560a2215e3ff9e78e66123af43cbf7ef1f22d56fca4271c80",
          "name": "snd_eff_vol_slide",
          "type": "PanelSpriteSlider::PanelSpriteSlider",
          "variables": [],
          "effects": [],
          "behaviors": [],
          "content": {
            "BarTopPadding": 6,
            "BarLeftPadding": 6,
            "BarRightPadding": 6,
            "BarBottomPadding": 6,
            "LabelMargin": 6,
            "ShowLabelAtChanges": false,
            "InitialValue": 100
          },
          "childrenContent": {
            "Background": {
              "bottomMargin": 4,
              "height": 28,
              "leftMargin": 2,
              "rightMargin": 2,
              "texture": "Square White Slider Border.png",
              "tiled": false,
              "topMargin": 4,
              "width": 265
            },
            "FillBar": {
              "bottomMargin": 2,
              "height": 16,
              "leftMargin": 0,
              "rightMargin": 0,
              "texture": "Square White Slider Fill Bar.png",
              "tiled": false,
              "topMargin": 0,
              "width": 16
            },
            "Label": {
              "bold": false,
              "italic": false,
              "smoothed": true,
              "underlined": false,
              "string": "It displays the value when it changes.",
              "font": "",
              "textAlignment": "",
              "characterSize": 20,
              "color": {
                "b": 221,
                "g": 221,
                "r": 221
              },
              "content": {
                "bold": false,
                "isOutlineEnabled": false,
                "isShadowEnabled": false,
                "italic": false,
                "outlineColor": "255;255;255",
                "outlineThickness": 2,
                "shadowAngle": 90,
                "shadowBlurRadius": 2,
                "shadowColor": "0;0;0",
                "shadowDistance": 4,
                "shadowOpacity": 127,
                "smoothed": true,
                "underlined": false,
                "text": "It displays the value when it changes.",
                "font": "",
                "textAlignment": "",
                "characterSize": 20,
                "color": "221;221;221"
              }
            },
            "Thumb": {
              "bottomMargin": 2,
              "height": 36,
              "leftMargin": 1,
              "rightMargin": 1,
              "texture": "Square White Slider Thumb.png",
              "tiled": false,
              "topMargin": 2,
              "width": 22
            }
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "music_vol_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Music Volume",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Music Volume",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "snd_eff_vol_txt",
          "smoothed": true,
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Sound Volume",
          "font": "",
          "textAlignment": "left",
          "characterSize": 20,
          "color": {
            "b": 0,
            "g": 0,
            "r": 0
          },
          "content": {
            "bold": false,
            "isOutlineEnabled": false,
            "isShadowEnabled": false,
            "italic": false,
            "outlineColor": "255;255;255",
            "outlineThickness": 2,
            "shadowAngle": 90,
            "shadowBlurRadius": 2,
            "shadowColor": "0;0;0",
            "shadowDistance": 4,
            "shadowOpacity": 127,
            "smoothed": true,
            "underlined": false,
            "text": "Sound Volume",
            "font": "",
            "textAlignment": "left",
            "characterSize": 20,
            "color": "0;0;0"
          }
        }
      ],
      "objectsFolderStructure": {
        "folderName": "__ROOT",
        "children": [
          {
            "objectName": "mouse_sens_slide"
          },
          {
            "objectName": "settings_txt"
          },
          {
            "objectName": "mouse_sens_txt"
          },
          {
            "objectName": "music_vol_slide"
          },
          {
            "objectName": "snd_eff_vol_slide"
          },
          {
            "objectName": "music_vol_txt"
          },
          {
            "objectName": "snd_eff_vol_txt"
          }
        ]
      },
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "q"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PopScene"
              },
              "parameters": [
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "GlobalVariable(mouse_sensitivity)",
                ""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "music_vol_slide",
                "=",
                "GlobalVariable(music_volume)",
                ""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "snd_eff_vol_slide",
                "=",
                "GlobalVariable(sound_effect_volume)",
                ""
              ]
            },
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "bg music default.mp3",
                "1",
                "",
                "GlobalVariable(music_volume)",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "MousePointerLock::ExitPointerLock"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Mouse sensitivity slider"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.036",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.036"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.035",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.035"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.034",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.034"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.033",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.033"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.032",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.032"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.031",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.031"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
              },
              "parameters": [
                "mouse_sens_slide",
                "=",
                "0.030",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "mouse_sensitivity",
                "=",
                "0.030"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "volume sliders"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "music_volume",
                "=",
                "music_vol_slide.Value()"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "sound_effect_volume",
                "=",
                "snd_eff_vol_slide.Value()"
              ]
            }
          ]
        }
      ],
      "layers": [
        {
          "ambientLightColorB": 200,
          "ambientLightColorG": 200,
          "ambientLightColorR": 200,
          "camera3DFarPlaneDistance": 10000,
          "camera3DFieldOfView": 45,
          "camera3DNearPlaneDistance": 3,
          "cameraType": "",
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "isLocked": false,
          "name": "",
          "renderingType": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": [
            {
              "effectType": "Scene3D::HemisphereLight",
              "name": "3D Light",
              "doubleParameters": {
                "elevation": 45,
                "intensity": 1,
                "rotation": 0
              },
              "stringParameters": {
                "groundColor": "64;64;64",
                "skyColor": "255;255;255",
                "top": "Y-"
              },
              "booleanParameters": {}
            }
          ]
        }
      ],
      "behaviorsSharedData": [
        {
          "name": "Effect",
          "type": "EffectCapability::EffectBehavior"
        },
        {
          "name": "Flippable",
          "type": "FlippableCapability::FlippableBehavior"
        },
        {
          "name": "Opacity",
          "type": "OpacityCapability::OpacityBehavior"
        },
        {
          "name": "Resizable",
          "type": "ResizableCapability::ResizableBehavior"
        },
        {
          "name": "Scale",
          "type": "ScalableCapability::ScalableBehavior"
        },
        {
          "name": "Text",
          "type": "TextContainerCapability::TextContainerBehavior"
        }
      ]
    }
  ],
  "externalEvents": [
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "injection",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "Injection",
                ">",
                "0"
              ]
            },
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "f"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PauseTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            },
            {
              "type": {
                "value": "PauseTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\""
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            },
            {
              "type": {
                "value": "UnPauseTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "Injection",
                "-",
                "1"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "camera",
                    "Stamina",
                    "<",
                    "200"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "camera",
                    "Stamina",
                    "+",
                    "20"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "camera",
                        "Stamina",
                        ">",
                        "200"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "camera",
                        "Stamina",
                        "=",
                        "200"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "Injection_Txt"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "Injection_Num",
                "Text",
                "=",
                "ToString(camera.Variable(Injection))"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::And"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "see_injection",
                    "="
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "Injection_Txt"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "see_injection",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "Injection_Txt",
                "Text",
                "=",
                "\"Press E to pick up\""
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "Injection_Txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "Injection",
                "300",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "not_inter_objects",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_injection",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "Injection",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_injection",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "see_injection",
                "True"
              ]
            },
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "e"
              ]
            },
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "Injection",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "Injection",
                "+",
                "1"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "Injection",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_injection",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "locker_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "entering locker"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "locker_txt"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                "True"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "Locker",
                "Locker",
                "1000",
                "camera.Y()"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "locker_txt",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "Locker",
                "Locker",
                "1000",
                "camera.Y()"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "locker_txt"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                "True"
              ]
            },
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "camera",
                "Locker",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "camera",
                "Locker",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "locker",
                "True"
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "e"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "True"
              ]
            },
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "camera"
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationAcceleration"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetRotationAcceleration"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetRotationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetJumpHeight"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "locker_txt",
                "Text",
                "=",
                "\"Press 'Space' to leave\""
              ]
            },
            {
              "type": {
                "value": "SetCenterX"
              },
              "parameters": [
                "camera",
                "=",
                "Locker.X()"
              ]
            },
            {
              "type": {
                "value": "SetCenterY"
              },
              "parameters": [
                "camera",
                "=",
                "Locker.Y()"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "camera",
                "Locker.Angle() + 90",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "Locker"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "False"
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetCenterZ"
              },
              "parameters": [
                "camera",
                "Object3D",
                "+",
                "80"
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetMaxFallingSpeed"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                ""
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "Space"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                "True"
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationAcceleration"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "1600",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetRotationAcceleration"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "720",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetRotationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "180",
                ""
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetJumpHeight"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "150",
                ""
              ]
            },
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "locker_txt",
                "Text",
                "=",
                "\"Press 'E' to hide\""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "False"
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "Locker",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "move_mouse",
                "False"
              ]
            },
            {
              "type": {
                "value": "Scene3D::Base3DBehavior::SetCenterZ"
              },
              "parameters": [
                "camera",
                "Object3D",
                "-",
                "80"
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetMaxFallingSpeed"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "700",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "True"
              ]
            },
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "camera",
                "!=",
                "Locker.X()"
              ]
            },
            {
              "type": {
                "value": "PosY"
              },
              "parameters": [
                "camera",
                "!=",
                "Locker.Y()"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetCenterX"
              },
              "parameters": [
                "camera",
                "=",
                "Locker.X()"
              ]
            },
            {
              "type": {
                "value": "SetCenterY"
              },
              "parameters": [
                "camera",
                "=",
                "Locker.Y()"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "locker_solid",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "enemies cant attack while in locker"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "True"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "spider"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                ""
              ]
            },
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "spider",
                "Pathfinding",
                "",
                "spider.X()",
                "spider.Y()"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "2"
              ]
            },
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "spider",
                "Pathfinding",
                "",
                "spider.X() + RandomFloatInRange(2, 6)",
                "spider.Y() + RandomInRange(2, 6)"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "in_locker",
                "True"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "Centipede"
              ]
            },
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "Centipede",
                "Pathfinding",
                "",
                "Centipede.X()",
                "Centipede.Y()"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "2"
              ]
            },
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "Centipede",
                "Pathfinding",
                "",
                "Centipede.X() + RandomFloatInRange(2, 6)",
                "Centipede.Y() + RandomInRange(2, 6)"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "centipede_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Centipede FOV"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "RepeatEveryXSeconds::Repeat"
              },
              "parameters": [
                "",
                "\"centipede_fov\"",
                ".001",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 35",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 35",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 45",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle()",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 5",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 10",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 15",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 5",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 10",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 15",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 20",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 20",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 25",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 25",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 30",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 30",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 45",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 40",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 40",
                    "180",
                    "300",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "Centipede",
                "camera.Angle()",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "RepeatEveryXSeconds::Repeat"
              },
              "parameters": [
                "",
                "\"centipede_fov\"",
                ".001",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "BuiltinCommonInstructions::And"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 35",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 35",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 45",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle()",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 5",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 10",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 15",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 5",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 10",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 15",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 20",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 20",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 25",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 25",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 30",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 30",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 45",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() + 40",
                    "180",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "Centipede.X()",
                    "Centipede.Y()",
                    "Centipede.Z()",
                    "Centipede.Angle() - 40",
                    "180",
                    "300",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "False"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::And"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Distance"
                      },
                      "parameters": [
                        "Centipede",
                        "camera",
                        "600",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Raycaster3D::RaycastWithAngle"
                      },
                      "parameters": [
                        "",
                        "solid_objects",
                        "Centipede.X()",
                        "Centipede.Y()",
                        "Centipede.Z()",
                        "Centipede.Angle() - 40",
                        "180",
                        "300",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "centipede_cplayer",
                    "False"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Centipede sees player"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "Centipede",
                "Pathfinding",
                "",
                "camera.X()",
                "camera.Y()"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "Centipede",
                "camera.Angle()",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Centipede",
                "camera",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PushScene"
              },
              "parameters": [
                "",
                "\"start_menu\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Collision3D::AreInCollision"
                  },
                  "parameters": [
                    "spider",
                    "Centipede",
                    "Object3D",
                    "solid_objects",
                    "Object3D",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Collision3D::AreInCollision"
                  },
                  "parameters": [
                    "spider",
                    "Centipede",
                    "Object3D",
                    "wall",
                    "Object3D",
                    "",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "Centipede"
              ]
            },
            {
              "type": {
                "value": "Collision3D::SeparateFromObjects"
              },
              "parameters": [
                "",
                "Centipede",
                "Object3D",
                "solid_objects",
                "Object3D",
                ""
              ]
            },
            {
              "type": {
                "value": "Collision3D::SeparateFromObjects"
              },
              "parameters": [
                "",
                "Centipede",
                "Object3D",
                "wall",
                "Object3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Distance"
              },
              "parameters": [
                "Centipede",
                "camera",
                "600",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Centipede does not see player"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "Centipede"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Echo Location"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"echolocation\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"echolocation\"",
                ">=",
                "7"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_spawned",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "Marker",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "Marker",
                "True"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Jump3D::Jump3D::IsJumping"
                  },
                  "parameters": [
                    "camera",
                    "Jump3D",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Walk3D::Walk3D::CurrentSidewaysSpeed"
                  },
                  "parameters": [
                    "camera",
                    "Walk3D",
                    ">",
                    "0",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Walk3D::Walk3D::CurrentForwardSpeed"
                  },
                  "parameters": [
                    "camera",
                    "Walk3D",
                    ">",
                    "0",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "marker",
                "=",
                "camera.X()",
                "=",
                "camera.Y()"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "follow_marker",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Centipede follow marker"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "follow_marker",
                "True"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "Centipede",
                "Pathfinding",
                "",
                "marker.X()",
                "marker.Y()"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "Centipede",
                "marker.Angle()",
                "0",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "Collision3D::AreInCollision"
                      },
                      "parameters": [
                        "spider",
                        "Centipede",
                        "Object3D",
                        "solid_objects",
                        "Object3D",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Collision3D::AreInCollision"
                      },
                      "parameters": [
                        "spider",
                        "Centipede",
                        "Object3D",
                        "wall",
                        "Object3D",
                        "",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Collision3D::SeparateFromObjects"
                  },
                  "parameters": [
                    "",
                    "Centipede",
                    "Object3D",
                    "solid_objects",
                    "Object3D",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Collision3D::SeparateFromObjects"
                  },
                  "parameters": [
                    "",
                    "Centipede",
                    "Object3D",
                    "wall",
                    "Object3D",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "PathfindingBehavior::SetDestination"
                  },
                  "parameters": [
                    "Centipede",
                    "Pathfinding",
                    "",
                    "marker.X()",
                    "marker.Y()"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "follow_marker",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Centipede",
                "marker",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "follow_marker",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Centipede",
                "wall",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "Centipede"
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "keycard_door_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "keycard/door text"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "keycard_txt"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "keycard_num",
                "Text",
                "=",
                "ToString(camera.Variable(keycard_number))"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::And"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "see_keycard",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "door_txt",
                    "False"
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "keycard_txt"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "see_keycard",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "keycard_txt",
                "Text",
                "=",
                "\"Press 'E' to pick up\""
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "keycard_txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "keycard_txt",
                "Text",
                "=",
                "\"Press 'E' to open\""
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "keycard_txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "False"
              ]
            },
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "door",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "keycard_txt",
                "Text",
                "=",
                "\"LOCKED\""
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "keycard_txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "player/door collision"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "camera",
                "door",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "keycard_number",
                "<",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "camera",
                "door",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "door opening/door text"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "keycard_number",
                ">",
                "0"
              ]
            },
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "door",
                "300",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "not_inter_objects",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "door",
                "300",
                ""
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "e"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "keycard_number",
                "-",
                "1"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "door",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "door",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "door_txt",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "keycard raycast, pick up"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "keycard",
                "300",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "not_inter_objects",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_keycard",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "keycard",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_keycard",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "see_keycard",
                "True"
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "e"
              ]
            },
            {
              "type": {
                "value": "Raycaster3D::RaycastFromCameraCenter"
              },
              "parameters": [
                "",
                "keycard",
                "300",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "keycard_number",
                "+",
                "1"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "keycard",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "see_keycard",
                "False"
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "spider_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Spider FOV, searching for player"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "BuiltinCommonInstructions::And"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 35",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 35",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 45",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle()",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 5",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 10",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 15",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 5",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 10",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 15",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 20",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 20",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 25",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 25",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 30",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 30",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 45",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 40",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 40",
                    "180",
                    "1000",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "RepeatEveryXSeconds::Repeat"
              },
              "parameters": [
                "",
                "\"spider_fov\"",
                ".001",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 35",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 35",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 45",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle()",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 5",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 10",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 15",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 5",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 10",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 15",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 20",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 20",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 25",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 25",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 30",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 30",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 45",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() + 40",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Raycaster3D::RaycastWithAngle"
                  },
                  "parameters": [
                    "",
                    "camera",
                    "spider.X()",
                    "spider.Y()",
                    "spider.Z()",
                    "spider.Angle() - 40",
                    "180",
                    "1000",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Distance"
                  },
                  "parameters": [
                    "spider",
                    "camera",
                    "400",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "spider",
                "camera.Angle() + 90",
                "0",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::And"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Distance"
                      },
                      "parameters": [
                        "spider",
                        "camera",
                        "600",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Raycaster3D::RaycastWithAngle"
                      },
                      "parameters": [
                        "",
                        "solid_objects",
                        "spider.X()",
                        "spider.Y()",
                        "spider.Z()",
                        "spider.Angle()",
                        "180",
                        "1000",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "spider_cplayer",
                    "False"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Spider sees player"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                "True"
              ]
            },
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "spider",
                "Pathfinding",
                "",
                "camera.X()",
                "camera.Y()"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "spider",
                "camera.Angle() + 90",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "spider",
                "camera",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PushScene"
              },
              "parameters": [
                "",
                "\"start_menu\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Distance"
              },
              "parameters": [
                "spider",
                "camera",
                "600",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "False"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Spider does not see player\n"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                "False"
              ]
            },
            {
              "type": {
                "value": "Arreter"
              },
              "parameters": [
                "spider"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "RepeatEveryXSeconds::Repeat"
              },
              "parameters": [
                "",
                "\"spider_distance\"",
                "RandomInRange(7, 10)",
                ""
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "spider",
                "Random(360)",
                "0",
                "0"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "web shoot while spider sees player"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                "True"
              ]
            },
            {
              "type": {
                "value": "RepeatEveryXSeconds::RepeatXTimes"
              },
              "parameters": [
                "",
                "\"web_shoot\"",
                "2.9",
                "-1",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "spider",
                "camera.Angle() + 90",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "web",
                "spider.X()",
                "spider.Y()",
                ""
              ]
            },
            {
              "type": {
                "value": "AddForceVers"
              },
              "parameters": [
                "web",
                "camera",
                "1000",
                "1"
              ]
            },
            {
              "type": {
                "value": "RotateTowardAngle"
              },
              "parameters": [
                "web",
                "camera.Angle()",
                "0",
                "0"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                ""
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "7"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_shoot",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "player stuck in web"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "web",
                "camera",
                "Object3D",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "web",
                ""
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::AbortJump"
              },
              "parameters": [
                "camera",
                "Jump3D",
                ""
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::Land"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "="
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetJumpHeight"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "stick_txt",
                "560",
                "560",
                "\"crosshair\""
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "unstick_meter",
                "300",
                "608",
                "\"crosshair\""
              ]
            },
            {
              "type": {
                "value": "PrimitiveDrawing::Rectangle"
              },
              "parameters": [
                "unstick_meter",
                "0",
                "0",
                "camera.Variable(stick)",
                "20"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "Space"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "stick",
                "+",
                "70"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            },
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "stick",
                ">=",
                "700"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                ""
              ]
            },
            {
              "type": {
                "value": "Jump3D::Jump3D::SetJumpHeight"
              },
              "parameters": [
                "camera",
                "Jump3D",
                "=",
                "150",
                ""
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "stick",
                "=",
                "0"
              ]
            },
            {
              "type": {
                "value": "PrimitiveDrawing::Drawer::ClearShapes"
              },
              "parameters": [
                "unstick_meter"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "unstick_meter",
                ""
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "stick_txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            },
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "Space"
              ]
            },
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "stick",
                "<",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "stick",
                "+",
                "70"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "unstick_meter",
                ""
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "stick_txt",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "True"
              ]
            },
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "web",
                "camera",
                "Object3D",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "web",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "web",
                "pathfinding_barrier",
                "Object3D",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "web",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "spider collision/jump"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Collision3D::AreInCollision"
              },
              "parameters": [
                "spider",
                "spider",
                "Object3D",
                "solid_objects",
                "Object3D",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Jump3D::Jump3D::SeparateFromPlatforms"
              },
              "parameters": [
                "spider",
                "Jump3D",
                "solid_objects",
                "Object3D",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "value": "Collision3D::AreInCollision"
              },
              "parameters": [
                "spider",
                "spider",
                "Object3D",
                "solid_objects",
                "Object3D",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Jump3D::Jump3D::SimulateJumpKey"
              },
              "parameters": [
                "spider",
                "Jump3D",
                ""
              ]
            },
            {
              "type": {
                "value": "AddForceVers"
              },
              "parameters": [
                "spider",
                "camera",
                "400",
                "0"
              ]
            },
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "spider",
                "camera.X()",
                "camera.Y()",
                "360",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "web",
                "solid_objects",
                "",
                "",
                "yes"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "web",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "value": "RepeatEveryXSeconds::Repeat"
              },
              "parameters": [
                "",
                "\"spider_guide\"",
                ".01",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AddForceVers"
              },
              "parameters": [
                "spider",
                "camera",
                "200",
                "0"
              ]
            },
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "spider",
                "camera.X()",
                "camera.Y()",
                "360",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "player_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "sprint"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::And"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyPressed"
                  },
                  "parameters": [
                    "",
                    "LShift"
                  ]
                },
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "camera",
                    "Stamina",
                    ">",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "web_stick",
                    "False"
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "600",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "Stamina",
                "-",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "LShift"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "Stamina",
                "<=",
                "0"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "web_stick",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "PrimitiveDrawing::Rectangle"
              },
              "parameters": [
                "sprint_meter",
                "0",
                "0",
                "camera.Variable(Stamina)",
                "20"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "camera",
                "Stamina",
                "<",
                "200"
              ]
            },
            {
              "type": {
                "value": "Walk3D::Walk3D::TranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "camera",
                "Stamina",
                "+",
                ".5"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "passing out"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"Passout\"",
                ">=",
                "15"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "UnPauseTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\""
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\""
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            },
            {
              "type": {
                "value": "PauseTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\"",
                ">=",
                "RandomInRange(5, 10)"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "OpacityCapability::OpacityBehavior::Value"
              },
              "parameters": [
                "pass_out",
                "Opacity",
                "=",
                "255"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "OpacityCapability::OpacityBehavior::SetValue"
              },
              "parameters": [
                "pass_out",
                "Opacity",
                "+",
                "5"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                ".2"
              ]
            },
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\""
              ]
            },
            {
              "type": {
                "value": "PauseTimer"
              },
              "parameters": [
                "",
                "\"Passout_Window\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "OpacityCapability::OpacityBehavior::Value"
              },
              "parameters": [
                "pass_out",
                "Opacity",
                "=",
                "255"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "5"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "OpacityCapability::OpacityBehavior::Value"
              },
              "parameters": [
                "pass_out",
                "Opacity",
                "<=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "OpacityCapability::OpacityBehavior::SetValue"
              },
              "parameters": [
                "pass_out",
                "Opacity",
                "-",
                "5"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                ".2"
              ]
            },
            {
              "type": {
                "value": "UnPauseTimer"
              },
              "parameters": [
                "",
                "\"Passout\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "player movement stops when passing out"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "pass_out",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Walk3D::Walk3D::SetTranslationSpeedMax"
              },
              "parameters": [
                "camera",
                "Walk3D",
                "=",
                "400",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "cure_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "camera",
                "cure",
                "Object3D",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene"
              },
              "parameters": [
                "",
                "\"start_menu\"",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "associatedLayout": "main_scene",
      "lastChangeTimeStamp": 0,
      "name": "music_events",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "False"
              ]
            },
            {
              "type": {
                "value": "PreloadMusic"
              },
              "parameters": [
                "",
                "bg music default.mp3"
              ]
            },
            {
              "type": {
                "value": "PreloadMusic"
              },
              "parameters": [
                "",
                "attack music buildup.mp3"
              ]
            },
            {
              "type": {
                "value": "PreloadMusic"
              },
              "parameters": [
                "",
                "attack music main.mp3"
              ]
            },
            {
              "type": {
                "value": "PreloadMusic"
              },
              "parameters": [
                "",
                "attack music end.mp3"
              ]
            },
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "bg music default.mp3",
                "1",
                "yes",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVolumeMusicCanal"
              },
              "parameters": [
                "",
                "1",
                "=",
                "GlobalVariable(music_volume)"
              ]
            },
            {
              "type": {
                "value": "ModVolumeMusicCanal"
              },
              "parameters": [
                "",
                "2",
                "=",
                "GlobalVariable(music_volume)"
              ]
            },
            {
              "type": {
                "value": "ModVolumeMusicCanal"
              },
              "parameters": [
                "",
                "3",
                "=",
                "GlobalVariable(music_volume)"
              ]
            },
            {
              "type": {
                "value": "ModVolumeMusicCanal"
              },
              "parameters": [
                "",
                "4",
                "=",
                "GlobalVariable(music_volume)"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "False"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "StopMusicCanal"
              },
              "parameters": [
                "",
                "2"
              ]
            },
            {
              "type": {
                "value": "StopMusicCanal"
              },
              "parameters": [
                "",
                "3"
              ]
            },
            {
              "type": {
                "value": "StopMusicCanal"
              },
              "parameters": [
                "",
                "4"
              ]
            },
            {
              "type": {
                "value": "RePlayMusicCanal"
              },
              "parameters": [
                "",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "spider_cplayer",
                    "True"
                  ]
                },
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "centipede_cplayer",
                    "True"
                  ]
                },
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "follow_marker",
                    "True"
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "spider_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "centipede_cplayer",
                "True"
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "follow_marker",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "True"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "FadeMusicVolume"
              },
              "parameters": [
                "",
                "1",
                "0",
                "1"
              ]
            },
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "attack music buildup.mp3",
                "2",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MusicStopped"
              },
              "parameters": [
                "",
                "2"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "True"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "attack music main.mp3",
                "3",
                "yes",
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "True"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "StopMusicCanal"
              },
              "parameters": [
                "",
                "3"
              ]
            },
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "attack music end.mp3",
                "4",
                "",
                "",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "True"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "2.5"
              ]
            },
            {
              "type": {
                "value": "FadeMusicVolume"
              },
              "parameters": [
                "",
                "1",
                "GlobalVariable(music_volume)",
                "2"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "2"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "attack_music_on",
                "False"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "atk_music_playing",
                "False"
              ]
            }
          ]
        }
      ]
    }
  ],
  "eventsFunctionsExtensions": [
    {
      "author": "",
      "category": "Visual effect",
      "extensionNamespace": "",
      "fullName": "3D particle emitter",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZpcmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTcuNjYgMTEuMkMxNy40MyAxMC45IDE3LjE1IDEwLjY0IDE2Ljg5IDEwLjM4QzE2LjIyIDkuNzggMTUuNDYgOS4zNSAxNC44MiA4LjcyQzEzLjMzIDcuMjYgMTMgNC44NSAxMy45NSAzQzEzIDMuMjMgMTIuMTcgMy43NSAxMS40NiA0LjMyQzguODcgNi40IDcuODUgMTAuMDcgOS4wNyAxMy4yMkM5LjExIDEzLjMyIDkuMTUgMTMuNDIgOS4xNSAxMy41NUM5LjE1IDEzLjc3IDkgMTMuOTcgOC44IDE0LjA1QzguNTcgMTQuMTUgOC4zMyAxNC4wOSA4LjE0IDEzLjkzQzguMDggMTMuODggOC4wNCAxMy44MyA4IDEzLjc2QzYuODcgMTIuMzMgNi42OSAxMC4yOCA3LjQ1IDguNjRDNS43OCAxMCA0Ljg3IDEyLjMgNSAxNC40N0M1LjA2IDE0Ljk3IDUuMTIgMTUuNDcgNS4yOSAxNS45N0M1LjQzIDE2LjU3IDUuNyAxNy4xNyA2IDE3LjdDNy4wOCAxOS40MyA4Ljk1IDIwLjY3IDEwLjk2IDIwLjkyQzEzLjEgMjEuMTkgMTUuMzkgMjAuOCAxNy4wMyAxOS4zMkMxOC44NiAxNy42NiAxOS41IDE1IDE4LjU2IDEyLjcyTDE4LjQzIDEyLjQ2QzE4LjIyIDEyIDE3LjY2IDExLjIgMTcuNjYgMTEuMk0xNC41IDE3LjVDMTQuMjIgMTcuNzQgMTMuNzYgMTggMTMuNCAxOC4xQzEyLjI4IDE4LjUgMTEuMTYgMTcuOTQgMTAuNSAxNy4yOEMxMS42OSAxNyAxMi40IDE2LjEyIDEyLjYxIDE1LjIzQzEyLjc4IDE0LjQzIDEyLjQ2IDEzLjc3IDEyLjMzIDEzQzEyLjIxIDEyLjI2IDEyLjIzIDExLjYzIDEyLjUgMTAuOTRDMTIuNjkgMTEuMzIgMTIuODkgMTEuNyAxMy4xMyAxMkMxMy45IDEzIDE1LjExIDEzLjQ0IDE1LjM3IDE0LjhDMTUuNDEgMTQuOTQgMTUuNDMgMTUuMDggMTUuNDMgMTUuMjNDMTUuNDYgMTYuMDUgMTUuMSAxNi45NSAxNC41IDE3LjVIMTQuNVoiIC8+PC9zdmc+",
      "name": "ParticleEmitter3D",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/f2e5a34bf465f781866677762d385d6c8e9e8d203383f2df9a3b7e0fad6a2cb5_fire.svg",
      "shortDescription": "Display a large number of particles to create visual effects.",
      "version": "2.0.0",
      "description": [
        "Particle emitters can be used to display:",
        "- Fire",
        "- Smoke",
        "- Splashes",
        "- Lights",
        "",
        "Breaking change",
        "- 2.0.0",
        "  - Object properties for position and rotation have been removed. They must be set with the instance editor or the action.",
        "- 1.0.0",
        "  - Particles were 3 times too small"
      ],
      "origin": {
        "identifier": "ParticleEmitter3D",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d",
        "particle",
        "explosion",
        "fire",
        "smoke",
        "splash",
        "light"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Define helper classes JavaScript code.",
          "fullName": "Define helper classes",
          "functionType": "Action",
          "name": "DefineHelperClasses",
          "private": true,
          "sentence": "Define helper classes JavaScript code",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "_ParticleEmmiter3DExtension_ClassesDefined",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetGlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "_ParticleEmmiter3DExtension_ClassesDefined",
                    "True"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "gdjs.__particleEmmiter3DExtension = gdjs.__particleEmmiter3DExtension || {};",
                    "",
                    "class ParticleEmitter3DRenderer extends gdjs.CustomRuntimeObject3DRenderer {",
                    "    constructor(",
                    "      object,",
                    "      instanceContainer,",
                    "      parent",
                    "    ) {",
                    "        super(object, instanceContainer, parent);",
                    "    }",
                    "",
                    "    _updateThreeGroup() {",
                    "      const threeObject3D = this.get3DRendererObject();",
                    "",
                    "      threeObject3D.rotation.set(",
                    "        gdjs.toRad(this._object.getRotationX()),",
                    "        gdjs.toRad(this._object.getRotationY()),",
                    "        -gdjs.toRad(this._object.angle)",
                    "      );",
                    "",
                    "      threeObject3D.position.set(",
                    "        this._object.getX(),",
                    "        -this._object.getY(),",
                    "        this._object.getZ()",
                    "      );",
                    "",
                    "      threeObject3D.scale.set(",
                    "        this._object.isFlippedX() ? -1 : 1,",
                    "        this._object.isFlippedY() ? -1 : 1,",
                    "        this._object.isFlippedZ() ? -1 : 1",
                    "      );",
                    "",
                    "      threeObject3D.visible = !this._object.hidden;",
                    "",
                    "      this._isContainerDirty = true;",
                    "    }",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.ParticleEmitter3DRenderer = ParticleEmitter3DRenderer;",
                    "",
                    "/**",
                    " * @param {string} colorString",
                    " * @param {THREE.Vector4} threeColor",
                    " */",
                    "const setThreeColor = (colorString, threeColor = new THREE.Vector4()) => {",
                    "    const integerColor = gdjs.rgbOrHexToRGBColor(colorString);",
                    "    threeColor.x = integerColor[0] / 255;",
                    "    threeColor.y = integerColor[1] / 255;",
                    "    threeColor.z = integerColor[2] / 255;",
                    "};",
                    "",
                    "/**",
                    " * @param {string} integerOpacity",
                    " * @param {THREE.Vector4} threeColor",
                    " */",
                    "const setThreeOpacity = (integerOpacity, threeColor = new THREE.Vector4()) => {",
                    "    threeColor.w = integerOpacity / 255;",
                    "};",
                    "",
                    "class ParticleEmitterAdapter {",
                    "    /**",
                    "     * @param particleSystem {ParticleSystem}",
                    "     * @param colorOverLife {ColorOverLife}",
                    "     * @param sizeOverLife {SizeOverLife}",
                    "     * @param applyForce {ApplyForce}",
                    "     */",
                    "    constructor(particleSystem, colorOverLife, sizeOverLife, applyForce) {",
                    "        this.particleSystem = particleSystem;",
                    "        this.colorOverLife = colorOverLife;",
                    "        this.sizeOverLife = sizeOverLife;",
                    "        this.applyForce = applyForce;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startColor {string}",
                    "     */",
                    "    setStartColor(startColor) {",
                    "        setThreeColor(startColor, this.colorOverLife.color.color.keys[0][0]);",
                    "    }",
                    "",
                    "    /**",
                    "     * @param endColor {string}",
                    "     */",
                    "    setEndColor(endColor) {",
                    "        setThreeColor(endColor, this.colorOverLife.color.color.keys[1][0]);",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startOpacity {number}",
                    "     */",
                    "    setStartOpacity(startOpacity) {",
                    "        this.colorOverLife.color.alpha.keys[0][0] = startOpacity / 255;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param endOpacity {number}",
                    "     */",
                    "    setEndOpacity(endOpacity) {",
                    "        this.colorOverLife.color.alpha.keys[1][0] = endOpacity / 255;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param flow {number}",
                    "     */",
                    "    setFlow(flow) {",
                    "        this.particleSystem.emissionOverTime.value = flow;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startMinSize {number}",
                    "     */",
                    "    setStartMinSize(startMinSize) {",
                    "        this.particleSystem.startSize.a = startMinSize;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startMaxSize {number}",
                    "     */",
                    "    setStartMaxSize(startMaxSize) {",
                    "        this.particleSystem.startSize.b = startMaxSize;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param endScale {number}",
                    "     */",
                    "    setEndScale(endScale) {",
                    "        /** @type Bezier */",
                    "        const bezier = this.sizeOverLife.size.functions[0][0];",
                    "        bezier.p[0] = 1;",
                    "        bezier.p[1] = gdjs.evtTools.common.lerp(1, endScale, 1 / 3);",
                    "        bezier.p[2] = gdjs.evtTools.common.lerp(1, endScale, 2 / 3);",
                    "        bezier.p[3] = endScale;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startSpeedMin {number}",
                    "     */",
                    "    setStartSpeedMin(startSpeedMin) {",
                    "        this.particleSystem.startSpeed.a = startSpeedMin;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param startSpeedMax {number}",
                    "     */",
                    "    setStartSpeedMax(startSpeedMax) {",
                    "        this.particleSystem.startSpeed.b = startSpeedMax;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param lifespanMin {number}",
                    "     */",
                    "    setLifespanMin(lifespanMin) {",
                    "        this.particleSystem.startLife.a = lifespanMin;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param lifespanMax {number}",
                    "     */",
                    "    setLifespanMax(lifespanMax) {",
                    "        this.particleSystem.startLife.b = lifespanMax;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param duration {number}",
                    "     */",
                    "    setDuration(duration) {",
                    "        this.particleSystem.duration = duration || Number.POSITIVE_INFINITY;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param areParticlesRelative {boolean}",
                    "     */",
                    "    setParticlesRelative(areParticlesRelative) {",
                    "        this.particleSystem.worldSpace = !areParticlesRelative;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param sprayConeAngle {number}",
                    "     */",
                    "    setSprayConeAngle(sprayConeAngle) {",
                    "        if (0 < sprayConeAngle && sprayConeAngle <= 180) {",
                    "            if (!this.particleSystem.emitterShape.angle) {",
                    "                this.particleSystem.emitterShape = new ConeEmitter({ radius: 0.1, angle: Math.PI / 8 });",
                    "            }",
                    "            this.particleSystem.emitterShape.angle = sprayConeAngle * Math.PI / 180;",
                    "        }",
                    "        else {",
                    "            if (this.particleSystem.emitterShape.angle) {",
                    "                this.particleSystem.emitterShape = new PointEmitter();",
                    "            }",
                    "        }",
                    "    }",
                    "",
                    "    /**",
                    "     * @param blending {string}",
                    "     */",
                    "    setBlending(blendingString) {",
                    "        const blending =",
                    "            blendingString === \"Additive\" ? THREE.AdditiveBlending :",
                    "                blendingString === \"Normal\" ? THREE.NormalBlending :",
                    "                    blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :",
                    "                        blendingString === \"Multiply\" ? THREE.MultiplyBlending :",
                    "                            blendingString === \"None\" ? THREE.NoBlending :",
                    "                                THREE.AdditiveBlending;",
                    "        // TODO This doesn't work.",
                    "        this.particleSystem.blending = blending;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param gravity {number}",
                    "     */",
                    "    setGravity(gravity) {",
                    "        this.applyForce.magnitude.value = gravity;",
                    "    }",
                    "",
                    "    /**",
                    "     * @param gravityTop {string}",
                    "     */",
                    "    setGravityTop(gravityTop) {",
                    "        // TODO Make gravity absolute even when \"relative\" is enabled. ",
                    "        switch (gravityTop) {",
                    "            case \"Z+\":",
                    "                this.applyForce.direction.set(0, 0, -1);",
                    "                break;",
                    "",
                    "            case \"Y-\":",
                    "                this.applyForce.direction.set(0, 1, 0);",
                    "                break;",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.ParticleEmitterAdapter = ParticleEmitterAdapter;",
                    "",
                    "",
                    "/**",
                    " * three.quarks v0.11.2 build Mon Jan 22 2024",
                    " * https://github.com/Alchemist0823/three.quarks#readme",
                    " * Copyright 2024 Alchemist0823 <the.forrest.sun@gmail.com>, MIT",
                    " */",
                    "",
                    "class ParticleEmitter extends THREE.Object3D {",
                    "    constructor(system) {",
                    "        super();",
                    "        this.type = 'ParticleEmitter';",
                    "        this.system = system;",
                    "    }",
                    "    clone() {",
                    "        const system = this.system.clone();",
                    "        system.emitter.copy(this, true);",
                    "        return system.emitter;",
                    "    }",
                    "    dispose() { }",
                    "    extractFromCache(cache) {",
                    "        const values = [];",
                    "        for (const key in cache) {",
                    "            const data = cache[key];",
                    "            delete data.metadata;",
                    "            values.push(data);",
                    "        }",
                    "        return values;",
                    "    }",
                    "    toJSON(meta, options = {}) {",
                    "        const isRootObject = meta === undefined || typeof meta === 'string';",
                    "        const output = {};",
                    "        if (isRootObject) {",
                    "            meta = {",
                    "                geometries: {},",
                    "                materials: {},",
                    "                textures: {},",
                    "                images: {},",
                    "                shapes: {},",
                    "                skeletons: {},",
                    "                animations: {},",
                    "                nodes: {},",
                    "            };",
                    "            output.metadata = {",
                    "                version: 4.5,",
                    "                type: 'Object',",
                    "                generator: 'Object3D.toJSON',",
                    "            };",
                    "        }",
                    "        const object = {};",
                    "        object.uuid = this.uuid;",
                    "        object.type = this.type;",
                    "        if (this.name !== '')",
                    "            object.name = this.name;",
                    "        if (this.castShadow === true)",
                    "            object.castShadow = true;",
                    "        if (this.receiveShadow === true)",
                    "            object.receiveShadow = true;",
                    "        if (this.visible === false)",
                    "            object.visible = false;",
                    "        if (this.frustumCulled === false)",
                    "            object.frustumCulled = false;",
                    "        if (this.renderOrder !== 0)",
                    "            object.renderOrder = this.renderOrder;",
                    "        if (JSON.stringify(this.userData) !== '{}')",
                    "            object.userData = this.userData;",
                    "        object.layers = this.layers.mask;",
                    "        object.matrix = this.matrix.toArray();",
                    "        if (this.matrixAutoUpdate === false)",
                    "            object.matrixAutoUpdate = false;",
                    "        if (this.system !== null)",
                    "            object.ps = this.system.toJSON(meta, options);",
                    "        if (this.children.length > 0) {",
                    "            object.children = [];",
                    "            for (let i = 0; i < this.children.length; i++) {",
                    "                if (this.children[i].type !== 'ParticleSystemPreview') {",
                    "                    object.children.push(this.children[i].toJSON(meta).object);",
                    "                }",
                    "            }",
                    "        }",
                    "        if (isRootObject) {",
                    "            const geometries = this.extractFromCache(meta.geometries);",
                    "            const materials = this.extractFromCache(meta.materials);",
                    "            const textures = this.extractFromCache(meta.textures);",
                    "            const images = this.extractFromCache(meta.images);",
                    "            if (geometries.length > 0)",
                    "                output.geometries = geometries;",
                    "            if (materials.length > 0)",
                    "                output.materials = materials;",
                    "            if (textures.length > 0)",
                    "                output.textures = textures;",
                    "            if (images.length > 0)",
                    "                output.images = images;",
                    "        }",
                    "        output.object = object;",
                    "        return output;",
                    "    }",
                    "}",
                    "",
                    "class LinkedListNode {",
                    "    constructor(data) {",
                    "        this.data = data;",
                    "        this.next = null;",
                    "        this.prev = null;",
                    "    }",
                    "    hasPrev() {",
                    "        return this.prev !== null;",
                    "    }",
                    "    hasNext() {",
                    "        return this.next !== null;",
                    "    }",
                    "}",
                    "class LinkedList {",
                    "    constructor() {",
                    "        this.length = 0;",
                    "        this.head = this.tail = null;",
                    "    }",
                    "    isEmpty() {",
                    "        return this.head === null;",
                    "    }",
                    "    clear() {",
                    "        this.length = 0;",
                    "        this.head = this.tail = null;",
                    "    }",
                    "    front() {",
                    "        if (this.head === null)",
                    "            return null;",
                    "        return this.head.data;",
                    "    }",
                    "    back() {",
                    "        if (this.tail === null)",
                    "            return null;",
                    "        return this.tail.data;",
                    "    }",
                    "    dequeue() {",
                    "        if (this.head) {",
                    "            const value = this.head.data;",
                    "            this.head = this.head.next;",
                    "            if (!this.head) {",
                    "                this.tail = null;",
                    "            }",
                    "            else {",
                    "                this.head.prev = null;",
                    "            }",
                    "            this.length--;",
                    "            return value;",
                    "        }",
                    "        return undefined;",
                    "    }",
                    "    pop() {",
                    "        if (this.tail) {",
                    "            const value = this.tail.data;",
                    "            this.tail = this.tail.prev;",
                    "            if (!this.tail) {",
                    "                this.head = null;",
                    "            }",
                    "            else {",
                    "                this.tail.next = null;",
                    "            }",
                    "            this.length--;",
                    "            return value;",
                    "        }",
                    "        return undefined;",
                    "    }",
                    "    queue(data) {",
                    "        const node = new LinkedListNode(data);",
                    "        if (!this.tail) {",
                    "            this.tail = node;",
                    "        }",
                    "        if (this.head) {",
                    "            this.head.prev = node;",
                    "            node.next = this.head;",
                    "        }",
                    "        this.head = node;",
                    "        this.length++;",
                    "    }",
                    "    push(data) {",
                    "        const node = new LinkedListNode(data);",
                    "        if (!this.head) {",
                    "            this.head = node;",
                    "        }",
                    "        if (this.tail) {",
                    "            this.tail.next = node;",
                    "            node.prev = this.tail;",
                    "        }",
                    "        this.tail = node;",
                    "        this.length++;",
                    "    }",
                    "    insertBefore(node, data) {",
                    "        const newNode = new LinkedListNode(data);",
                    "        newNode.next = node;",
                    "        newNode.prev = node.prev;",
                    "        if (newNode.prev !== null) {",
                    "            newNode.prev.next = newNode;",
                    "        }",
                    "        newNode.next.prev = newNode;",
                    "        if (node == this.head) {",
                    "            this.head = newNode;",
                    "        }",
                    "        this.length++;",
                    "    }",
                    "    remove(data) {",
                    "        if (this.head === null || this.tail === null) {",
                    "            return;",
                    "        }",
                    "        let tempNode = this.head;",
                    "        if (data === this.head.data) {",
                    "            this.head = this.head.next;",
                    "        }",
                    "        if (data === this.tail.data) {",
                    "            this.tail = this.tail.prev;",
                    "        }",
                    "        while (tempNode.next !== null && tempNode.data !== data) {",
                    "            tempNode = tempNode.next;",
                    "        }",
                    "        if (tempNode.data === data) {",
                    "            if (tempNode.prev !== null)",
                    "                tempNode.prev.next = tempNode.next;",
                    "            if (tempNode.next !== null)",
                    "                tempNode.next.prev = tempNode.prev;",
                    "            this.length--;",
                    "        }",
                    "    }",
                    "    *values() {",
                    "        let current = this.head;",
                    "        while (current !== null) {",
                    "            yield current.data;",
                    "            current = current.next;",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "class NodeParticle {",
                    "    constructor() {",
                    "        this.position = new THREE.Vector3();",
                    "        this.velocity = new THREE.Vector3();",
                    "        this.age = 0;",
                    "        this.life = 1;",
                    "        this.size = 1;",
                    "        this.rotation = 0;",
                    "        this.color = new THREE.Vector4(1, 1, 1, 1);",
                    "        this.uvTile = 0;",
                    "    }",
                    "    get died() {",
                    "        return this.age >= this.life;",
                    "    }",
                    "    reset() {",
                    "        this.position.set(0, 0, 0);",
                    "        this.velocity.set(0, 0, 0);",
                    "        this.age = 0;",
                    "        this.life = 1;",
                    "        this.size = 1;",
                    "        this.rotation = 0;",
                    "        this.color.set(1, 1, 1, 1);",
                    "        this.uvTile = 0;",
                    "    }",
                    "}",
                    "class SpriteParticle {",
                    "    constructor() {",
                    "        this.startSpeed = 0;",
                    "        this.startColor = new THREE.Vector4();",
                    "        this.startSize = 1;",
                    "        this.position = new THREE.Vector3();",
                    "        this.velocity = new THREE.Vector3();",
                    "        this.age = 0;",
                    "        this.life = 1;",
                    "        this.size = 1;",
                    "        this.speedModifier = 1;",
                    "        this.rotation = 0;",
                    "        this.color = new THREE.Vector4();",
                    "        this.uvTile = 0;",
                    "    }",
                    "    get died() {",
                    "        return this.age >= this.life;",
                    "    }",
                    "}",
                    "class RecordState {",
                    "    constructor(position, size, color) {",
                    "        this.position = position;",
                    "        this.size = size;",
                    "        this.color = color;",
                    "    }",
                    "}",
                    "class TrailParticle {",
                    "    constructor() {",
                    "        this.startSpeed = 0;",
                    "        this.startColor = new THREE.Vector4();",
                    "        this.startSize = 1;",
                    "        this.position = new THREE.Vector3();",
                    "        this.velocity = new THREE.Vector3();",
                    "        this.age = 0;",
                    "        this.life = 1;",
                    "        this.size = 1;",
                    "        this.length = 100;",
                    "        this.speedModifier = 1;",
                    "        this.color = new THREE.Vector4();",
                    "        this.previous = new LinkedList();",
                    "        this.uvTile = 0;",
                    "    }",
                    "    update() {",
                    "        if (this.age <= this.life) {",
                    "            this.previous.push(new RecordState(this.position.clone(), this.size, this.color.clone()));",
                    "        }",
                    "        else {",
                    "            if (this.previous.length > 0) {",
                    "                this.previous.dequeue();",
                    "            }",
                    "        }",
                    "        while (this.previous.length > this.length) {",
                    "            this.previous.dequeue();",
                    "        }",
                    "    }",
                    "    get died() {",
                    "        return this.age >= this.life;",
                    "    }",
                    "    reset() {",
                    "        this.previous.clear();",
                    "    }",
                    "}",
                    "",
                    "class Bezier {",
                    "    constructor(p1, p2, p3, p4) {",
                    "        this.p = [p1, p2, p3, p4];",
                    "    }",
                    "    genValue(t) {",
                    "        const t2 = t * t;",
                    "        const t3 = t * t * t;",
                    "        const mt = 1 - t;",
                    "        const mt2 = mt * mt;",
                    "        const mt3 = mt2 * mt;",
                    "        return this.p[0] * mt3 + this.p[1] * mt2 * t * 3 + this.p[2] * mt * t2 * 3 + this.p[3] * t3;",
                    "    }",
                    "    derivativeCoefficients(points) {",
                    "        const dpoints = [];",
                    "        for (let p = points, c = p.length - 1; c > 0; c--) {",
                    "            const list = [];",
                    "            for (let j = 0; j < c; j++) {",
                    "                const dpt = c * (p[j + 1] - p[j]);",
                    "                list.push(dpt);",
                    "            }",
                    "            dpoints.push(list);",
                    "            p = list;",
                    "        }",
                    "        return dpoints;",
                    "    }",
                    "    getSlope(t) {",
                    "        const p = this.derivativeCoefficients(this.p)[0];",
                    "        const mt = 1 - t;",
                    "        const a = mt * mt;",
                    "        const b = mt * t * 2;",
                    "        const c = t * t;",
                    "        return a * p[0] + b * p[1] + c * p[2];",
                    "    }",
                    "    controlCurve(d0, d1) {",
                    "        this.p[1] = d0 / 3 + this.p[0];",
                    "        this.p[2] = this.p[3] - d1 / 3;",
                    "    }",
                    "    hull(t) {",
                    "        let p = this.p;",
                    "        let _p = [], pt, idx = 0, i = 0, l = 0;",
                    "        const q = [];",
                    "        q[idx++] = p[0];",
                    "        q[idx++] = p[1];",
                    "        q[idx++] = p[2];",
                    "        q[idx++] = p[3];",
                    "        while (p.length > 1) {",
                    "            _p = [];",
                    "            for (i = 0, l = p.length - 1; i < l; i++) {",
                    "                pt = t * p[i] + (1 - t) * p[i + 1];",
                    "                q[idx++] = pt;",
                    "                _p.push(pt);",
                    "            }",
                    "            p = _p;",
                    "        }",
                    "        return q;",
                    "    }",
                    "    split(t) {",
                    "        const q = this.hull(t);",
                    "        const result = {",
                    "            left: new Bezier(q[0], q[4], q[7], q[9]),",
                    "            right: new Bezier(q[9], q[8], q[6], q[3]),",
                    "            span: q",
                    "        };",
                    "        return result;",
                    "    }",
                    "    clone() {",
                    "        return new Bezier(this.p[0], this.p[1], this.p[2], this.p[3]);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            p0: this.p[0],",
                    "            p1: this.p[1],",
                    "            p2: this.p[2],",
                    "            p3: this.p[3],",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new Bezier(json.p0, json.p1, json.p2, json.p3);",
                    "    }",
                    "}",
                    "",
                    "const ColorToJSON = (color) => {",
                    "    return { r: color.x, g: color.y, b: color.z, a: color.w };",
                    "};",
                    "const JSONToColor = (json) => {",
                    "    return new THREE.Vector4(json.r, json.g, json.b, json.a);",
                    "};",
                    "const JSONToValue = (json, type) => {",
                    "    switch (type) {",
                    "        case 'Vector3':",
                    "            return new THREE.Vector3(json.x, json.y, json.z);",
                    "        case 'Vector4':",
                    "            return new THREE.Vector4(json.x, json.y, json.z, json.w);",
                    "        case 'Color':",
                    "            return new THREE.Vector3(json.r, json.g, json.b);",
                    "        case 'Number':",
                    "            return json;",
                    "        default:",
                    "            return json;",
                    "    }",
                    "};",
                    "const ValueToJSON = (value, type) => {",
                    "    switch (type) {",
                    "        case 'Vector3':",
                    "            return { x: value.x, y: value.y, z: value.z };",
                    "        case 'Vector4':",
                    "            return { x: value.x, y: value.y, z: value.z, w: value.w };",
                    "        case 'Color':",
                    "            return { r: value.x, g: value.y, b: value.z };",
                    "        case 'Number':",
                    "            return value;",
                    "        default:",
                    "            return value;",
                    "    }",
                    "};",
                    "",
                    "class RandomColor {",
                    "    constructor(a, b) {",
                    "        this.a = a;",
                    "        this.b = b;",
                    "        this.type = \"value\";",
                    "    }",
                    "    genColor(color) {",
                    "        const rand = Math.random();",
                    "        return color.copy(this.a).lerp(this.b, rand);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: \"RandomColor\",",
                    "            a: ColorToJSON(this.a),",
                    "            b: ColorToJSON(this.b),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new RandomColor(JSONToColor(json.a), JSONToColor(json.b));",
                    "    }",
                    "    clone() {",
                    "        return new RandomColor(this.a.clone(), this.b.clone());",
                    "    }",
                    "}",
                    "",
                    "class ColorRange {",
                    "    constructor(a, b) {",
                    "        this.a = a;",
                    "        this.b = b;",
                    "        this.type = 'value';",
                    "    }",
                    "    genColor(color, t) {",
                    "        return color.copy(this.a).lerp(this.b, Math.random());",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'ColorRange',",
                    "            a: ColorToJSON(this.a),",
                    "            b: ColorToJSON(this.b),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ColorRange(JSONToColor(json.a), JSONToColor(json.b));",
                    "    }",
                    "    clone() {",
                    "        return new ColorRange(this.a.clone(), this.b.clone());",
                    "    }",
                    "}",
                    "",
                    "class ContinuousLinearFunction {",
                    "    constructor(keys, subType) {",
                    "        this.subType = subType;",
                    "        this.type = 'function';",
                    "        this.keys = keys;",
                    "    }",
                    "    findKey(t) {",
                    "        let mid = 0;",
                    "        let left = 0, right = this.keys.length - 1;",
                    "        while (left + 1 < right) {",
                    "            mid = Math.floor((left + right) / 2);",
                    "            if (t < this.getStartX(mid))",
                    "                right = mid - 1;",
                    "            else if (t > this.getEndX(mid))",
                    "                left = mid + 1;",
                    "            else",
                    "                return mid;",
                    "        }",
                    "        for (let i = left; i <= right; i++) {",
                    "            if (t >= this.getStartX(i) && t <= this.getEndX(i))",
                    "                return i;",
                    "        }",
                    "        return -1;",
                    "    }",
                    "    getStartX(index) {",
                    "        return this.keys[index][1];",
                    "    }",
                    "    getEndX(index) {",
                    "        if (index + 1 < this.keys.length)",
                    "            return this.keys[index + 1][1];",
                    "        return 1;",
                    "    }",
                    "    genValue(value, t) {",
                    "        const index = this.findKey(t);",
                    "        if (this.subType === 'Number') {",
                    "            if (index === -1) {",
                    "                return this.keys[0][0];",
                    "            }",
                    "            else if (index + 1 >= this.keys.length) {",
                    "                return this.keys[this.keys.length - 1][0];",
                    "            }",
                    "            return ((this.keys[index + 1][0] - this.keys[index][0]) *",
                    "                ((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index))) +",
                    "                this.keys[index][0]);",
                    "        }",
                    "        else {",
                    "            if (index === -1) {",
                    "                return value.copy(this.keys[0][0]);",
                    "            }",
                    "            if (index + 1 >= this.keys.length) {",
                    "                return value.copy(this.keys[this.keys.length - 1][0]);",
                    "            }",
                    "            return value",
                    "                .copy(this.keys[index][0])",
                    "                .lerp(this.keys[index + 1][0], (t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        this.keys[0][0].constructor.name;",
                    "        return {",
                    "            type: 'CLinearFunction',",
                    "            subType: this.subType,",
                    "            keys: this.keys.map(([color, pos]) => ({ value: ValueToJSON(color, this.subType), pos: pos })),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ContinuousLinearFunction(json.keys.map((pair) => [JSONToValue(pair.value, json.subType), pair.pos]), json.subType);",
                    "    }",
                    "    clone() {",
                    "        if (this.subType === 'Number') {",
                    "            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value, pos]), this.subType);",
                    "        }",
                    "        else {",
                    "            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value.clone(), pos]), this.subType);",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "const tempVec3 = new THREE.Vector3();",
                    "class Gradient {",
                    "    constructor(color = [",
                    "        [new THREE.Vector3(0, 0, 0), 0],",
                    "        [new THREE.Vector3(1, 1, 1), 0],",
                    "    ], alpha = [",
                    "        [1, 0],",
                    "        [1, 1],",
                    "    ]) {",
                    "        this.type = 'function';",
                    "        this.color = new ContinuousLinearFunction(color, 'Color');",
                    "        this.alpha = new ContinuousLinearFunction(alpha, 'Number');",
                    "    }",
                    "    genColor(color, t) {",
                    "        this.color.genValue(tempVec3, t);",
                    "        return color.set(tempVec3.x, tempVec3.y, tempVec3.z, this.alpha.genValue(1, t));",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'Gradient',",
                    "            color: this.color.toJSON(),",
                    "            alpha: this.alpha.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        if (json.functions) {",
                    "            const keys = json.functions.map((func) => [ColorRange.fromJSON(func.function).a, func.start]);",
                    "            if (json.functions.length > 0) {",
                    "                keys.push([ColorRange.fromJSON(json.functions[json.functions.length - 1].function).b, 1]);",
                    "            }",
                    "            return new Gradient(keys.map((key) => [new THREE.Vector3(key[0].x, key[0].y, key[0].z), key[1]]), keys.map((key) => [key[0].w, key[1]]));",
                    "        }",
                    "        else {",
                    "            const gradient = new Gradient();",
                    "            gradient.alpha = ContinuousLinearFunction.fromJSON(json.alpha);",
                    "            gradient.color = ContinuousLinearFunction.fromJSON(json.color);",
                    "            return gradient;",
                    "        }",
                    "    }",
                    "    clone() {",
                    "        const gradient = new Gradient();",
                    "        gradient.alpha = this.alpha.clone();",
                    "        gradient.color = this.color.clone();",
                    "        return gradient;",
                    "    }",
                    "}",
                    "",
                    "const tempColor = new THREE.Vector4();",
                    "class RandomColorBetweenGradient {",
                    "    constructor(gradient1, gradient2) {",
                    "        this.type = 'memorizedFunction';",
                    "        this.gradient1 = gradient1;",
                    "        this.gradient2 = gradient2;",
                    "    }",
                    "    startGen(memory) {",
                    "        memory.rand = Math.random();",
                    "    }",
                    "    genColor(color, t, memory) {",
                    "        this.gradient1.genColor(color, t);",
                    "        this.gradient2.genColor(tempColor, t);",
                    "        if (memory && memory.rand) {",
                    "            color.lerp(tempColor, memory.rand);",
                    "        }",
                    "        else {",
                    "            color.lerp(tempColor, Math.random());",
                    "        }",
                    "        return color;",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'RandomColorBetweenGradient',",
                    "            gradient1: this.gradient1.toJSON(),",
                    "            gradient2: this.gradient2.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new RandomColorBetweenGradient(Gradient.fromJSON(json.gradient1), Gradient.fromJSON(json.gradient2));",
                    "    }",
                    "    clone() {",
                    "        return new RandomColorBetweenGradient(this.gradient1.clone(), this.gradient2.clone());",
                    "    }",
                    "}",
                    "",
                    "class ConstantColor {",
                    "    constructor(color) {",
                    "        this.color = color;",
                    "        this.type = 'value';",
                    "    }",
                    "    genColor(color) {",
                    "        return color.copy(this.color);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'ConstantColor',",
                    "            color: ColorToJSON(this.color),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ConstantColor(JSONToColor(json.color));",
                    "    }",
                    "    clone() {",
                    "        return new ConstantColor(this.color.clone());",
                    "    }",
                    "}",
                    "function ColorGeneratorFromJSON(json) {",
                    "    switch (json.type) {",
                    "        case 'ConstantColor':",
                    "            return ConstantColor.fromJSON(json);",
                    "        case 'ColorRange':",
                    "            return ColorRange.fromJSON(json);",
                    "        case 'RandomColor':",
                    "            return RandomColor.fromJSON(json);",
                    "        case 'Gradient':",
                    "            return Gradient.fromJSON(json);",
                    "        case 'RandomColorBetweenGradient':",
                    "            return RandomColorBetweenGradient.fromJSON(json);",
                    "        default:",
                    "            return new ConstantColor(new THREE.Vector4(1, 1, 1, 1));",
                    "    }",
                    "}",
                    "",
                    "class ConstantValue {",
                    "    constructor(value) {",
                    "        this.value = value;",
                    "        this.type = 'value';",
                    "    }",
                    "    genValue() {",
                    "        return this.value;",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: \"ConstantValue\",",
                    "            value: this.value",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ConstantValue(json.value);",
                    "    }",
                    "    clone() {",
                    "        return new ConstantValue(this.value);",
                    "    }",
                    "}",
                    "",
                    "class IntervalValue {",
                    "    constructor(a, b) {",
                    "        this.a = a;",
                    "        this.b = b;",
                    "        this.type = 'value';",
                    "    }",
                    "    genValue() {",
                    "        return THREE.MathUtils.lerp(this.a, this.b, Math.random());",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'IntervalValue',",
                    "            a: this.a,",
                    "            b: this.b,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new IntervalValue(json.a, json.b);",
                    "    }",
                    "    clone() {",
                    "        return new IntervalValue(this.a, this.b);",
                    "    }",
                    "}",
                    "",
                    "class PiecewiseFunction {",
                    "    constructor() {",
                    "        this.functions = new Array();",
                    "    }",
                    "    findFunction(t) {",
                    "        let mid = 0;",
                    "        let left = 0, right = this.functions.length - 1;",
                    "        while (left + 1 < right) {",
                    "            mid = Math.floor((left + right) / 2);",
                    "            if (t < this.getStartX(mid))",
                    "                right = mid - 1;",
                    "            else if (t > this.getEndX(mid))",
                    "                left = mid + 1;",
                    "            else",
                    "                return mid;",
                    "        }",
                    "        for (let i = left; i <= right; i++) {",
                    "            if (t >= this.functions[i][1] && t <= this.getEndX(i))",
                    "                return i;",
                    "        }",
                    "        return -1;",
                    "    }",
                    "    getStartX(index) {",
                    "        return this.functions[index][1];",
                    "    }",
                    "    setStartX(index, x) {",
                    "        if (index > 0)",
                    "            this.functions[index][1] = x;",
                    "    }",
                    "    getEndX(index) {",
                    "        if (index + 1 < this.functions.length)",
                    "            return this.functions[index + 1][1];",
                    "        return 1;",
                    "    }",
                    "    setEndX(index, x) {",
                    "        if (index + 1 < this.functions.length)",
                    "            this.functions[index + 1][1] = x;",
                    "    }",
                    "    insertFunction(t, func) {",
                    "        const index = this.findFunction(t);",
                    "        this.functions.splice(index + 1, 0, [func, t]);",
                    "    }",
                    "    removeFunction(index) {",
                    "        return this.functions.splice(index, 1)[0][0];",
                    "    }",
                    "    getFunction(index) {",
                    "        return this.functions[index][0];",
                    "    }",
                    "    setFunction(index, func) {",
                    "        this.functions[index][0] = func;",
                    "    }",
                    "    get numOfFunctions() {",
                    "        return this.functions.length;",
                    "    }",
                    "}",
                    "",
                    "class PiecewiseBezier extends PiecewiseFunction {",
                    "    constructor(curves = [[new Bezier(0, 1.0 / 3, 1.0 / 3 * 2, 1), 0]]) {",
                    "        super();",
                    "        this.type = \"function\";",
                    "        this.functions = curves;",
                    "    }",
                    "    genValue(t = 0) {",
                    "        const index = this.findFunction(t);",
                    "        if (index === -1) {",
                    "            return 0;",
                    "        }",
                    "        return this.functions[index][0].genValue((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));",
                    "    }",
                    "    toSVG(length, segments) {",
                    "        if (segments < 1)",
                    "            return \"\";",
                    "        let result = [\"M\", 0, this.functions[0][0].p[0]].join(\" \");",
                    "        for (let i = 1.0 / segments; i <= 1; i += 1.0 / segments) {",
                    "            result = [result, \"L\", i * length, this.genValue(i)].join(\" \");",
                    "        }",
                    "        return result;",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: \"PiecewiseBezier\",",
                    "            functions: this.functions.map(([bezier, start]) => ({ function: bezier.toJSON(), start: start })),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new PiecewiseBezier(json.functions.map((piecewiseFunction) => ([Bezier.fromJSON(piecewiseFunction.function), piecewiseFunction.start])));",
                    "    }",
                    "    clone() {",
                    "        return new PiecewiseBezier(this.functions.map(([bezier, start]) => ([bezier.clone(), start])));",
                    "    }",
                    "}",
                    "",
                    "function ValueGeneratorFromJSON(json) {",
                    "    switch (json.type) {",
                    "        case 'ConstantValue':",
                    "            return ConstantValue.fromJSON(json);",
                    "        case 'IntervalValue':",
                    "            return IntervalValue.fromJSON(json);",
                    "        case 'PiecewiseBezier':",
                    "            return PiecewiseBezier.fromJSON(json);",
                    "        default:",
                    "            return new ConstantValue(0);",
                    "    }",
                    "}",
                    "",
                    "class RandomQuatGenerator {",
                    "    constructor() {",
                    "        this.type = \"rotation\";",
                    "    }",
                    "    genValue(quat, t) {",
                    "        let x, y, z, u, v, w;",
                    "        do {",
                    "            x = Math.random() * 2 - 1;",
                    "            y = Math.random() * 2 - 1;",
                    "            z = x * x + y * y;",
                    "        } while (z > 1);",
                    "        do {",
                    "            u = Math.random() * 2 - 1;",
                    "            v = Math.random() * 2 - 1;",
                    "            w = u * u + v * v;",
                    "        } while (w > 1);",
                    "        const s = Math.sqrt((1 - z) / w);",
                    "        quat.set(x, y, s * u, s * v);",
                    "        return quat;",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: \"RandomQuat\"",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new RandomQuatGenerator();",
                    "    }",
                    "    clone() {",
                    "        return new RandomQuatGenerator();",
                    "    }",
                    "}",
                    "",
                    "class AxisAngleGenerator {",
                    "    constructor(axis, angle) {",
                    "        this.axis = axis;",
                    "        this.angle = angle;",
                    "        this.type = 'rotation';",
                    "    }",
                    "    genValue(quat, t) {",
                    "        return quat.setFromAxisAngle(this.axis, this.angle.genValue(t));",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'AxisAngle',",
                    "            axis: { x: this.axis.x, y: this.axis.y, z: this.axis.z },",
                    "            angle: this.angle.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new AxisAngleGenerator(new THREE.Vector3(json.axis.x, json.axis.y, json.axis.z), ValueGeneratorFromJSON(json.angle));",
                    "    }",
                    "    clone() {",
                    "        return new AxisAngleGenerator(this.axis.clone(), this.angle.clone());",
                    "    }",
                    "}",
                    "",
                    "class EulerGenerator {",
                    "    constructor(angleX, angleY, angleZ, eulerOrder) {",
                    "        this.angleX = angleX;",
                    "        this.angleY = angleY;",
                    "        this.angleZ = angleZ;",
                    "        this.type = 'rotation';",
                    "        this.eular = new THREE.Euler(0, 0, 0, eulerOrder);",
                    "    }",
                    "    genValue(quat, t) {",
                    "        this.eular.set(this.angleX.genValue(t), this.angleY.genValue(t), this.angleZ.genValue(t));",
                    "        return quat.setFromEuler(this.eular);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'Euler',",
                    "            angleX: this.angleX.toJSON(),",
                    "            angleY: this.angleY.toJSON(),",
                    "            angleZ: this.angleZ.toJSON(),",
                    "            eulerOrder: this.eular.order,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new EulerGenerator(ValueGeneratorFromJSON(json.angleX), ValueGeneratorFromJSON(json.angleY), ValueGeneratorFromJSON(json.angleZ), json.eulerOrder);",
                    "    }",
                    "    clone() {",
                    "        return new EulerGenerator(this.angleX, this.angleY, this.angleZ, this.eular.order);",
                    "    }",
                    "}",
                    "",
                    "function RotationGeneratorFromJSON(json) {",
                    "    switch (json.type) {",
                    "        case 'AxisAngle':",
                    "            return AxisAngleGenerator.fromJSON(json);",
                    "        case 'Euler':",
                    "            return EulerGenerator.fromJSON(json);",
                    "        case 'RandomQuat':",
                    "            return RandomQuatGenerator.fromJSON(json);",
                    "        default:",
                    "            return new RandomQuatGenerator();",
                    "    }",
                    "}",
                    "",
                    "function GeneratorFromJSON(json) {",
                    "    switch (json.type) {",
                    "        case 'ConstantValue':",
                    "        case 'IntervalValue':",
                    "        case 'PiecewiseBezier':",
                    "            return ValueGeneratorFromJSON(json);",
                    "        case 'AxisAngle':",
                    "        case 'RandomQuat':",
                    "        case 'Euler':",
                    "            return RotationGeneratorFromJSON(json);",
                    "        default:",
                    "            return new ConstantValue(0);",
                    "    }",
                    "}",
                    "",
                    "class ColorOverLife {",
                    "    constructor(color) {",
                    "        this.color = color;",
                    "        this.type = 'ColorOverLife';",
                    "    }",
                    "    initialize(particle) {",
                    "        if (this.color.type === 'memorizedFunction') {",
                    "            particle.colorOverLifeMemory = {};",
                    "            this.color.startGen(particle.colorOverLifeMemory);",
                    "        }",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (this.color.type === 'memorizedFunction') {",
                    "            this.color.genColor(particle.color, particle.age / particle.life, particle.colorOverLifeMemory);",
                    "        }",
                    "        else {",
                    "            this.color.genColor(particle.color, particle.age / particle.life);",
                    "        }",
                    "        particle.color.x *= particle.startColor.x;",
                    "        particle.color.y *= particle.startColor.y;",
                    "        particle.color.z *= particle.startColor.z;",
                    "        particle.color.w *= particle.startColor.w;",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            color: this.color.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ColorOverLife(ColorGeneratorFromJSON(json.color));",
                    "    }",
                    "    clone() {",
                    "        return new ColorOverLife(this.color.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class RotationOverLife {",
                    "    constructor(angularVelocity) {",
                    "        this.angularVelocity = angularVelocity;",
                    "        this.type = 'RotationOverLife';",
                    "        this.dynamic = !(angularVelocity instanceof ConstantValue || angularVelocity instanceof IntervalValue);",
                    "    }",
                    "    initialize(particle) {",
                    "        this.dynamic = !(this.angularVelocity instanceof ConstantValue || this.angularVelocity instanceof IntervalValue);",
                    "        if (!this.dynamic && typeof particle.rotation === 'number') {",
                    "            particle.angularVelocity = this.angularVelocity.genValue();",
                    "        }",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (!this.dynamic) {",
                    "            if (typeof particle.rotation === 'number') {",
                    "                particle.rotation += delta * particle.angularVelocity;",
                    "            }",
                    "        }",
                    "        else {",
                    "            if (typeof particle.rotation === 'number') {",
                    "                particle.rotation +=",
                    "                    delta * this.angularVelocity.genValue(particle.age / particle.life);",
                    "            }",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            angularVelocity: this.angularVelocity.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new RotationOverLife(ValueGeneratorFromJSON(json.angularVelocity));",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new RotationOverLife(this.angularVelocity.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "const IdentityQuaternion = new THREE.Quaternion();",
                    "class Rotation3DOverLife {",
                    "    constructor(angularVelocity) {",
                    "        this.angularVelocity = angularVelocity;",
                    "        this.type = 'Rotation3DOverLife';",
                    "        this.tempQuat = new THREE.Quaternion();",
                    "        this.dynamic = !(angularVelocity instanceof RandomQuatGenerator);",
                    "    }",
                    "    initialize(particle) {",
                    "        this.dynamic = !(this.angularVelocity instanceof RandomQuatGenerator);",
                    "        if (particle.rotation instanceof THREE.Quaternion) {",
                    "            particle.angularVelocity = new THREE.Quaternion();",
                    "            this.angularVelocity.genValue(particle.angularVelocity);",
                    "        }",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (particle.rotation instanceof THREE.Quaternion) {",
                    "            if (!this.dynamic) {",
                    "                this.tempQuat.slerpQuaternions(IdentityQuaternion, particle.angularVelocity, delta);",
                    "                particle.rotation.multiply(this.tempQuat);",
                    "            }",
                    "            else {",
                    "                this.angularVelocity.genValue(this.tempQuat, particle.age / particle.life);",
                    "                this.tempQuat.slerpQuaternions(IdentityQuaternion, this.tempQuat, delta);",
                    "                particle.rotation.multiply(this.tempQuat);",
                    "            }",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            angularVelocity: this.angularVelocity.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new Rotation3DOverLife(RotationGeneratorFromJSON(json.angularVelocity));",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new Rotation3DOverLife(this.angularVelocity.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class ForceOverLife {",
                    "    initialize(particle) { }",
                    "    constructor(x, y, z) {",
                    "        this.x = x;",
                    "        this.y = y;",
                    "        this.z = z;",
                    "        this.type = 'ForceOverLife';",
                    "        this._temp = new THREE.Vector3();",
                    "    }",
                    "    update(particle, delta) {",
                    "        this._temp.set(this.x.genValue(particle.age / particle.life), this.y.genValue(particle.age / particle.life), this.z.genValue(particle.age / particle.life));",
                    "        particle.velocity.addScaledVector(this._temp, delta);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            x: this.x.toJSON(),",
                    "            y: this.y.toJSON(),",
                    "            z: this.z.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ForceOverLife(ValueGeneratorFromJSON(json.x), ValueGeneratorFromJSON(json.y), ValueGeneratorFromJSON(json.z));",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new ForceOverLife(this.x.clone(), this.y.clone(), this.z.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class SizeOverLife {",
                    "    initialize(particle) {",
                    "    }",
                    "    constructor(size) {",
                    "        this.size = size;",
                    "        this.type = 'SizeOverLife';",
                    "    }",
                    "    update(particle) {",
                    "        particle.size = particle.startSize * this.size.genValue(particle.age / particle.life);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            size: this.size.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new SizeOverLife(ValueGeneratorFromJSON(json.size));",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    clone() {",
                    "        return new SizeOverLife(this.size.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class SpeedOverLife {",
                    "    initialize(particle) {",
                    "    }",
                    "    constructor(speed) {",
                    "        this.speed = speed;",
                    "        this.type = 'SpeedOverLife';",
                    "    }",
                    "    update(particle) {",
                    "        particle.speedModifier = this.speed.genValue(particle.age / particle.life);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new SpeedOverLife(ValueGeneratorFromJSON(json.speed));",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    clone() {",
                    "        return new SpeedOverLife(this.speed.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class FrameOverLife {",
                    "    constructor(frame) {",
                    "        this.frame = frame;",
                    "        this.type = 'FrameOverLife';",
                    "    }",
                    "    initialize(particle) {",
                    "        if (!(this.frame instanceof PiecewiseBezier)) {",
                    "            particle.uvTile = Math.floor(this.frame.genValue(0) + 0.001);",
                    "        }",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (this.frame instanceof PiecewiseBezier) {",
                    "            particle.uvTile = Math.floor(this.frame.genValue(particle.age / particle.life) + 0.001);",
                    "        }",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            frame: this.frame.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new FrameOverLife(ValueGeneratorFromJSON(json.frame));",
                    "    }",
                    "    clone() {",
                    "        return new FrameOverLife(this.frame.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "new THREE.Vector3(0, 0, 1);",
                    "class OrbitOverLife {",
                    "    constructor(orbitSpeed, axis = new THREE.Vector3(0, 1, 0)) {",
                    "        this.orbitSpeed = orbitSpeed;",
                    "        this.axis = axis;",
                    "        this.type = 'OrbitOverLife';",
                    "        this.temp = new THREE.Vector3();",
                    "        this.rotation = new THREE.Quaternion();",
                    "        this.line = new THREE.Line3();",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        this.line.set(new THREE.Vector3(0, 0, 0), this.axis);",
                    "        this.line.closestPointToPoint(particle.position, false, this.temp);",
                    "        this.rotation.setFromAxisAngle(this.axis, this.orbitSpeed.genValue(particle.age / particle.life) * delta);",
                    "        particle.position.sub(this.temp);",
                    "        particle.position.applyQuaternion(this.rotation);",
                    "        particle.position.add(this.temp);",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            orbitSpeed: this.orbitSpeed.toJSON(),",
                    "            axis: [this.axis.x, this.axis.y, this.axis.z],",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new OrbitOverLife(ValueGeneratorFromJSON(json.orbitSpeed), json.axis ? new THREE.Vector3(json.axis[0], json.axis[1], json.axis[2]) : undefined);",
                    "    }",
                    "    clone() {",
                    "        return new OrbitOverLife(this.orbitSpeed.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class WidthOverLength {",
                    "    initialize(particle) {",
                    "    }",
                    "    constructor(width) {",
                    "        this.width = width;",
                    "        this.type = 'WidthOverLength';",
                    "    }",
                    "    update(particle) {",
                    "        if (particle instanceof TrailParticle) {",
                    "            const iter = particle.previous.values();",
                    "            for (let i = 0; i < particle.previous.length; i++) {",
                    "                const cur = iter.next();",
                    "                cur.value.size = this.width.genValue((particle.previous.length - i) / particle.length);",
                    "            }",
                    "        }",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            width: this.width.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new WidthOverLength(ValueGeneratorFromJSON(json.width));",
                    "    }",
                    "    clone() {",
                    "        return new WidthOverLength(this.width.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class ApplyForce {",
                    "    constructor(direction, magnitude) {",
                    "        this.direction = direction;",
                    "        this.magnitude = magnitude;",
                    "        this.type = 'ApplyForce';",
                    "        this.magnitudeValue = this.magnitude.genValue();",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        particle.velocity.addScaledVector(this.direction, this.magnitudeValue * delta);",
                    "    }",
                    "    frameUpdate(delta) {",
                    "        this.magnitudeValue = this.magnitude.genValue();",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            direction: [this.direction.x, this.direction.y, this.direction.z],",
                    "            magnitude: this.magnitude.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        var _a;",
                    "        return new ApplyForce(new THREE.Vector3(json.direction[0], json.direction[1], json.direction[2]), ValueGeneratorFromJSON((_a = json.magnitude) !== null && _a !== void 0 ? _a : json.force));",
                    "    }",
                    "    clone() {",
                    "        return new ApplyForce(this.direction.clone(), this.magnitude.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class GravityForce {",
                    "    constructor(center, magnitude) {",
                    "        this.center = center;",
                    "        this.magnitude = magnitude;",
                    "        this.type = 'GravityForce';",
                    "        this.temp = new THREE.Vector3();",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        this.temp.copy(this.center).sub(particle.position).normalize();",
                    "        particle.velocity.addScaledVector(this.temp, this.magnitude / particle.position.distanceToSquared(this.center) * delta);",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            center: [this.center.x, this.center.y, this.center.z],",
                    "            magnitude: this.magnitude,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new GravityForce(new THREE.Vector3(json.center[0], json.center[1], json.center[2]), json.magnitude);",
                    "    }",
                    "    clone() {",
                    "        return new GravityForce(this.center.clone(), this.magnitude);",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "new THREE.Vector3(0, 0, 1);",
                    "class ChangeEmitDirection {",
                    "    constructor(angle) {",
                    "        this.angle = angle;",
                    "        this.type = 'ChangeEmitDirection';",
                    "        this._temp = new THREE.Vector3();",
                    "        this._q = new THREE.Quaternion();",
                    "    }",
                    "    initialize(particle) {",
                    "        const len = particle.velocity.length();",
                    "        if (len == 0)",
                    "            return;",
                    "        particle.velocity.normalize();",
                    "        if (particle.velocity.x === 0 && particle.velocity.y === 0) {",
                    "            this._temp.set(0, particle.velocity.z, 0);",
                    "        }",
                    "        else {",
                    "            this._temp.set(-particle.velocity.y, particle.velocity.x, 0);",
                    "        }",
                    "        this._q.setFromAxisAngle(this._temp.normalize(), this.angle.genValue());",
                    "        this._temp.copy(particle.velocity);",
                    "        particle.velocity.applyQuaternion(this._q);",
                    "        this._q.setFromAxisAngle(this._temp, Math.random() * Math.PI * 2);",
                    "        particle.velocity.applyQuaternion(this._q);",
                    "        particle.velocity.setLength(len);",
                    "    }",
                    "    update(particle, delta) {",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            angle: this.angle.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ChangeEmitDirection(ValueGeneratorFromJSON(json.angle));",
                    "    }",
                    "    clone() {",
                    "        return new ChangeEmitDirection(this.angle);",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "const VECTOR_ONE = new THREE.Vector3(1, 1, 1);",
                    "const VECTOR_Z = new THREE.Vector3(0, 0, 1);",
                    "gdjs.__particleEmmiter3DExtension.SubParticleEmitMode = void 0;",
                    "(function (SubParticleEmitMode) {",
                    "    SubParticleEmitMode[SubParticleEmitMode[\"Death\"] = 0] = \"Death\";",
                    "    SubParticleEmitMode[SubParticleEmitMode[\"Birth\"] = 1] = \"Birth\";",
                    "    SubParticleEmitMode[SubParticleEmitMode[\"Frame\"] = 2] = \"Frame\";",
                    "})(gdjs.__particleEmmiter3DExtension.SubParticleEmitMode || (gdjs.__particleEmmiter3DExtension.SubParticleEmitMode = {}));",
                    "class EmitSubParticleSystem {",
                    "    constructor(particleSystem, useVelocityAsBasis, subParticleSystem, mode = gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Frame, emitProbability = 1) {",
                    "        this.particleSystem = particleSystem;",
                    "        this.useVelocityAsBasis = useVelocityAsBasis;",
                    "        this.subParticleSystem = subParticleSystem;",
                    "        this.mode = mode;",
                    "        this.emitProbability = emitProbability;",
                    "        this.type = 'EmitSubParticleSystem';",
                    "        this.q_ = new THREE.Quaternion();",
                    "        this.v_ = new THREE.Vector3();",
                    "        this.v2_ = new THREE.Vector3();",
                    "        this.subEmissions = new Array();",
                    "        if (this.subParticleSystem && this.subParticleSystem.system) {",
                    "            this.subParticleSystem.system.onlyUsedByOther = true;",
                    "        }",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Frame) {",
                    "            this.emit(particle, delta);",
                    "        }",
                    "        else if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Birth && particle.age === 0) {",
                    "            this.emit(particle, delta);",
                    "        }",
                    "        else if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Death && particle.age + delta >= particle.life) {",
                    "            this.emit(particle, delta);",
                    "        }",
                    "    }",
                    "    emit(particle, delta) {",
                    "        if (!this.subParticleSystem)",
                    "            return;",
                    "        if (Math.random() > this.emitProbability) {",
                    "            return;",
                    "        }",
                    "        const m = new THREE.Matrix4();",
                    "        this.setMatrixFromParticle(m, particle);",
                    "        this.subEmissions.push({",
                    "            burstIndex: 0,",
                    "            burstWaveIndex: 0,",
                    "            time: 0,",
                    "            waitEmiting: 0,",
                    "            matrix: m,",
                    "            travelDistance: 0,",
                    "            particle: particle,",
                    "        });",
                    "    }",
                    "    frameUpdate(delta) {",
                    "        if (!this.subParticleSystem)",
                    "            return;",
                    "        for (let i = 0; i < this.subEmissions.length; i++) {",
                    "            if (this.subEmissions[i].time >= this.subParticleSystem.system.duration) {",
                    "                this.subEmissions[i] = this.subEmissions[this.subEmissions.length - 1];",
                    "                this.subEmissions.length = this.subEmissions.length - 1;",
                    "                i--;",
                    "            }",
                    "            else {",
                    "                let subEmissionState = this.subEmissions[i];",
                    "                if (subEmissionState.particle && subEmissionState.particle.age < subEmissionState.particle.life) {",
                    "                    this.setMatrixFromParticle(subEmissionState.matrix, subEmissionState.particle);",
                    "                }",
                    "                else {",
                    "                    subEmissionState.particle = undefined;",
                    "                }",
                    "                this.subParticleSystem.system.emit(delta, subEmissionState, subEmissionState.matrix);",
                    "            }",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            subParticleSystem: this.subParticleSystem ? this.subParticleSystem.uuid : '',",
                    "            useVelocityAsBasis: this.useVelocityAsBasis,",
                    "            mode: this.mode,",
                    "            emitProbability: this.emitProbability,",
                    "        };",
                    "    }",
                    "    static fromJSON(json, particleSystem) {",
                    "        return new EmitSubParticleSystem(particleSystem, json.useVelocityAsBasis, json.subParticleSystem, json.mode, json.emitProbability);",
                    "    }",
                    "    clone() {",
                    "        return new EmitSubParticleSystem(this.particleSystem, this.useVelocityAsBasis, this.subParticleSystem, this.mode, this.emitProbability);",
                    "    }",
                    "    reset() { }",
                    "    setMatrixFromParticle(m, particle) {",
                    "        let rotation;",
                    "        if (particle.rotation === undefined || this.useVelocityAsBasis) {",
                    "            if (particle.velocity.x === 0 &&",
                    "                particle.velocity.y === 0 &&",
                    "                (particle.velocity.z === 1 || particle.velocity.z === 0)) {",
                    "                m.set(1, 0, 0, particle.position.x, 0, 1, 0, particle.position.y, 0, 0, 1, particle.position.z, 0, 0, 0, 1);",
                    "            }",
                    "            else {",
                    "                this.v_.copy(VECTOR_Z).cross(particle.velocity);",
                    "                this.v2_.copy(particle.velocity).cross(this.v_);",
                    "                const len = this.v_.length();",
                    "                const len2 = this.v2_.length();",
                    "                m.set(this.v_.x / len, this.v2_.x / len2, particle.velocity.x, particle.position.x, this.v_.y / len, this.v2_.y / len2, particle.velocity.y, particle.position.y, this.v_.z / len, this.v2_.z / len2, particle.velocity.z, particle.position.z, 0, 0, 0, 1);",
                    "            }",
                    "        }",
                    "        else {",
                    "            if (particle.rotation instanceof THREE.Quaternion) {",
                    "                rotation = particle.rotation;",
                    "            }",
                    "            else {",
                    "                this.q_.setFromAxisAngle(VECTOR_Z, particle.rotation);",
                    "                rotation = this.q_;",
                    "            }",
                    "            m.compose(particle.position, rotation, VECTOR_ONE);",
                    "        }",
                    "        if (!this.particleSystem.worldSpace) {",
                    "            m.multiplyMatrices(this.particleSystem.emitter.matrixWorld, m);",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);",
                    "const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;",
                    "const F3 = 1.0 / 3.0;",
                    "const G3 = 1.0 / 6.0;",
                    "const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;",
                    "const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;",
                    "const grad3 = new Float32Array([1, 1, 0,",
                    "    -1, 1, 0,",
                    "    1, -1, 0,",
                    "    -1, -1, 0,",
                    "    1, 0, 1,",
                    "    -1, 0, 1,",
                    "    1, 0, -1,",
                    "    -1, 0, -1,",
                    "    0, 1, 1,",
                    "    0, -1, 1,",
                    "    0, 1, -1,",
                    "    0, -1, -1]);",
                    "const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,",
                    "    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,",
                    "    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,",
                    "    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,",
                    "    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,",
                    "    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,",
                    "    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,",
                    "    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);",
                    "class SimplexNoise {",
                    "    constructor(randomOrSeed = Math.random) {",
                    "        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);",
                    "        this.p = buildPermutationTable(random);",
                    "        this.perm = new Uint8Array(512);",
                    "        this.permMod12 = new Uint8Array(512);",
                    "        for (let i = 0; i < 512; i++) {",
                    "            this.perm[i] = this.p[i & 255];",
                    "            this.permMod12[i] = this.perm[i] % 12;",
                    "        }",
                    "    }",
                    "    noise2D(x, y) {",
                    "        const permMod12 = this.permMod12;",
                    "        const perm = this.perm;",
                    "        let n0 = 0;",
                    "        let n1 = 0;",
                    "        let n2 = 0;",
                    "        const s = (x + y) * F2;",
                    "        const i = Math.floor(x + s);",
                    "        const j = Math.floor(y + s);",
                    "        const t = (i + j) * G2;",
                    "        const X0 = i - t;",
                    "        const Y0 = j - t;",
                    "        const x0 = x - X0;",
                    "        const y0 = y - Y0;",
                    "        let i1, j1;",
                    "        if (x0 > y0) {",
                    "            i1 = 1;",
                    "            j1 = 0;",
                    "        }",
                    "        else {",
                    "            i1 = 0;",
                    "            j1 = 1;",
                    "        }",
                    "        const x1 = x0 - i1 + G2;",
                    "        const y1 = y0 - j1 + G2;",
                    "        const x2 = x0 - 1.0 + 2.0 * G2;",
                    "        const y2 = y0 - 1.0 + 2.0 * G2;",
                    "        const ii = i & 255;",
                    "        const jj = j & 255;",
                    "        let t0 = 0.5 - x0 * x0 - y0 * y0;",
                    "        if (t0 >= 0) {",
                    "            const gi0 = permMod12[ii + perm[jj]] * 3;",
                    "            t0 *= t0;",
                    "            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0);",
                    "        }",
                    "        let t1 = 0.5 - x1 * x1 - y1 * y1;",
                    "        if (t1 >= 0) {",
                    "            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;",
                    "            t1 *= t1;",
                    "            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);",
                    "        }",
                    "        let t2 = 0.5 - x2 * x2 - y2 * y2;",
                    "        if (t2 >= 0) {",
                    "            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;",
                    "            t2 *= t2;",
                    "            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);",
                    "        }",
                    "        return 70.0 * (n0 + n1 + n2);",
                    "    }",
                    "    noise3D(x, y, z) {",
                    "        const permMod12 = this.permMod12;",
                    "        const perm = this.perm;",
                    "        let n0, n1, n2, n3;",
                    "        const s = (x + y + z) * F3;",
                    "        const i = Math.floor(x + s);",
                    "        const j = Math.floor(y + s);",
                    "        const k = Math.floor(z + s);",
                    "        const t = (i + j + k) * G3;",
                    "        const X0 = i - t;",
                    "        const Y0 = j - t;",
                    "        const Z0 = k - t;",
                    "        const x0 = x - X0;",
                    "        const y0 = y - Y0;",
                    "        const z0 = z - Z0;",
                    "        let i1, j1, k1;",
                    "        let i2, j2, k2;",
                    "        if (x0 >= y0) {",
                    "            if (y0 >= z0) {",
                    "                i1 = 1;",
                    "                j1 = 0;",
                    "                k1 = 0;",
                    "                i2 = 1;",
                    "                j2 = 1;",
                    "                k2 = 0;",
                    "            }",
                    "            else if (x0 >= z0) {",
                    "                i1 = 1;",
                    "                j1 = 0;",
                    "                k1 = 0;",
                    "                i2 = 1;",
                    "                j2 = 0;",
                    "                k2 = 1;",
                    "            }",
                    "            else {",
                    "                i1 = 0;",
                    "                j1 = 0;",
                    "                k1 = 1;",
                    "                i2 = 1;",
                    "                j2 = 0;",
                    "                k2 = 1;",
                    "            }",
                    "        }",
                    "        else {",
                    "            if (y0 < z0) {",
                    "                i1 = 0;",
                    "                j1 = 0;",
                    "                k1 = 1;",
                    "                i2 = 0;",
                    "                j2 = 1;",
                    "                k2 = 1;",
                    "            }",
                    "            else if (x0 < z0) {",
                    "                i1 = 0;",
                    "                j1 = 1;",
                    "                k1 = 0;",
                    "                i2 = 0;",
                    "                j2 = 1;",
                    "                k2 = 1;",
                    "            }",
                    "            else {",
                    "                i1 = 0;",
                    "                j1 = 1;",
                    "                k1 = 0;",
                    "                i2 = 1;",
                    "                j2 = 1;",
                    "                k2 = 0;",
                    "            }",
                    "        }",
                    "        const x1 = x0 - i1 + G3;",
                    "        const y1 = y0 - j1 + G3;",
                    "        const z1 = z0 - k1 + G3;",
                    "        const x2 = x0 - i2 + 2.0 * G3;",
                    "        const y2 = y0 - j2 + 2.0 * G3;",
                    "        const z2 = z0 - k2 + 2.0 * G3;",
                    "        const x3 = x0 - 1.0 + 3.0 * G3;",
                    "        const y3 = y0 - 1.0 + 3.0 * G3;",
                    "        const z3 = z0 - 1.0 + 3.0 * G3;",
                    "        const ii = i & 255;",
                    "        const jj = j & 255;",
                    "        const kk = k & 255;",
                    "        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;",
                    "        if (t0 < 0)",
                    "            n0 = 0.0;",
                    "        else {",
                    "            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;",
                    "            t0 *= t0;",
                    "            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);",
                    "        }",
                    "        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;",
                    "        if (t1 < 0)",
                    "            n1 = 0.0;",
                    "        else {",
                    "            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;",
                    "            t1 *= t1;",
                    "            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);",
                    "        }",
                    "        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;",
                    "        if (t2 < 0)",
                    "            n2 = 0.0;",
                    "        else {",
                    "            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;",
                    "            t2 *= t2;",
                    "            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);",
                    "        }",
                    "        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;",
                    "        if (t3 < 0)",
                    "            n3 = 0.0;",
                    "        else {",
                    "            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;",
                    "            t3 *= t3;",
                    "            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);",
                    "        }",
                    "        return 32.0 * (n0 + n1 + n2 + n3);",
                    "    }",
                    "    noise4D(x, y, z, w) {",
                    "        const perm = this.perm;",
                    "        let n0, n1, n2, n3, n4;",
                    "        const s = (x + y + z + w) * F4;",
                    "        const i = Math.floor(x + s);",
                    "        const j = Math.floor(y + s);",
                    "        const k = Math.floor(z + s);",
                    "        const l = Math.floor(w + s);",
                    "        const t = (i + j + k + l) * G4;",
                    "        const X0 = i - t;",
                    "        const Y0 = j - t;",
                    "        const Z0 = k - t;",
                    "        const W0 = l - t;",
                    "        const x0 = x - X0;",
                    "        const y0 = y - Y0;",
                    "        const z0 = z - Z0;",
                    "        const w0 = w - W0;",
                    "        let rankx = 0;",
                    "        let ranky = 0;",
                    "        let rankz = 0;",
                    "        let rankw = 0;",
                    "        if (x0 > y0)",
                    "            rankx++;",
                    "        else",
                    "            ranky++;",
                    "        if (x0 > z0)",
                    "            rankx++;",
                    "        else",
                    "            rankz++;",
                    "        if (x0 > w0)",
                    "            rankx++;",
                    "        else",
                    "            rankw++;",
                    "        if (y0 > z0)",
                    "            ranky++;",
                    "        else",
                    "            rankz++;",
                    "        if (y0 > w0)",
                    "            ranky++;",
                    "        else",
                    "            rankw++;",
                    "        if (z0 > w0)",
                    "            rankz++;",
                    "        else",
                    "            rankw++;",
                    "        const i1 = rankx >= 3 ? 1 : 0;",
                    "        const j1 = ranky >= 3 ? 1 : 0;",
                    "        const k1 = rankz >= 3 ? 1 : 0;",
                    "        const l1 = rankw >= 3 ? 1 : 0;",
                    "        const i2 = rankx >= 2 ? 1 : 0;",
                    "        const j2 = ranky >= 2 ? 1 : 0;",
                    "        const k2 = rankz >= 2 ? 1 : 0;",
                    "        const l2 = rankw >= 2 ? 1 : 0;",
                    "        const i3 = rankx >= 1 ? 1 : 0;",
                    "        const j3 = ranky >= 1 ? 1 : 0;",
                    "        const k3 = rankz >= 1 ? 1 : 0;",
                    "        const l3 = rankw >= 1 ? 1 : 0;",
                    "        const x1 = x0 - i1 + G4;",
                    "        const y1 = y0 - j1 + G4;",
                    "        const z1 = z0 - k1 + G4;",
                    "        const w1 = w0 - l1 + G4;",
                    "        const x2 = x0 - i2 + 2.0 * G4;",
                    "        const y2 = y0 - j2 + 2.0 * G4;",
                    "        const z2 = z0 - k2 + 2.0 * G4;",
                    "        const w2 = w0 - l2 + 2.0 * G4;",
                    "        const x3 = x0 - i3 + 3.0 * G4;",
                    "        const y3 = y0 - j3 + 3.0 * G4;",
                    "        const z3 = z0 - k3 + 3.0 * G4;",
                    "        const w3 = w0 - l3 + 3.0 * G4;",
                    "        const x4 = x0 - 1.0 + 4.0 * G4;",
                    "        const y4 = y0 - 1.0 + 4.0 * G4;",
                    "        const z4 = z0 - 1.0 + 4.0 * G4;",
                    "        const w4 = w0 - 1.0 + 4.0 * G4;",
                    "        const ii = i & 255;",
                    "        const jj = j & 255;",
                    "        const kk = k & 255;",
                    "        const ll = l & 255;",
                    "        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;",
                    "        if (t0 < 0)",
                    "            n0 = 0.0;",
                    "        else {",
                    "            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;",
                    "            t0 *= t0;",
                    "            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);",
                    "        }",
                    "        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;",
                    "        if (t1 < 0)",
                    "            n1 = 0.0;",
                    "        else {",
                    "            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;",
                    "            t1 *= t1;",
                    "            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);",
                    "        }",
                    "        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;",
                    "        if (t2 < 0)",
                    "            n2 = 0.0;",
                    "        else {",
                    "            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;",
                    "            t2 *= t2;",
                    "            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);",
                    "        }",
                    "        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;",
                    "        if (t3 < 0)",
                    "            n3 = 0.0;",
                    "        else {",
                    "            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;",
                    "            t3 *= t3;",
                    "            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);",
                    "        }",
                    "        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;",
                    "        if (t4 < 0)",
                    "            n4 = 0.0;",
                    "        else {",
                    "            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;",
                    "            t4 *= t4;",
                    "            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);",
                    "        }",
                    "        return 27.0 * (n0 + n1 + n2 + n3 + n4);",
                    "    }",
                    "}",
                    "function buildPermutationTable(random) {",
                    "    const p = new Uint8Array(256);",
                    "    for (let i = 0; i < 256; i++) {",
                    "        p[i] = i;",
                    "    }",
                    "    for (let i = 0; i < 255; i++) {",
                    "        const r = i + ~~(random() * (256 - i));",
                    "        const aux = p[i];",
                    "        p[i] = p[r];",
                    "        p[r] = aux;",
                    "    }",
                    "    return p;",
                    "}",
                    "function alea(seed) {",
                    "    let s0 = 0;",
                    "    let s1 = 0;",
                    "    let s2 = 0;",
                    "    let c = 1;",
                    "    const mash = masher();",
                    "    s0 = mash(' ');",
                    "    s1 = mash(' ');",
                    "    s2 = mash(' ');",
                    "    s0 -= mash(seed);",
                    "    if (s0 < 0) {",
                    "        s0 += 1;",
                    "    }",
                    "    s1 -= mash(seed);",
                    "    if (s1 < 0) {",
                    "        s1 += 1;",
                    "    }",
                    "    s2 -= mash(seed);",
                    "    if (s2 < 0) {",
                    "        s2 += 1;",
                    "    }",
                    "    return function () {",
                    "        const t = 2091639 * s0 + c * 2.3283064365386963e-10;",
                    "        s0 = s1;",
                    "        s1 = s2;",
                    "        return s2 = t - (c = t | 0);",
                    "    };",
                    "}",
                    "function masher() {",
                    "    let n = 0xefc8249d;",
                    "    return function (data) {",
                    "        data = data.toString();",
                    "        for (let i = 0; i < data.length; i++) {",
                    "            n += data.charCodeAt(i);",
                    "            let h = 0.02519603282416938 * n;",
                    "            n = h >>> 0;",
                    "            h -= n;",
                    "            h *= n;",
                    "            n = h >>> 0;",
                    "            h -= n;",
                    "            n += h * 0x100000000;",
                    "        }",
                    "        return (n >>> 0) * 2.3283064365386963e-10;",
                    "    };",
                    "}",
                    "",
                    "class TurbulenceField {",
                    "    constructor(scale, octaves, velocityMultiplier, timeScale) {",
                    "        this.scale = scale;",
                    "        this.octaves = octaves;",
                    "        this.velocityMultiplier = velocityMultiplier;",
                    "        this.timeScale = timeScale;",
                    "        this.type = 'TurbulenceField';",
                    "        this.generator = new SimplexNoise();",
                    "        this.timeOffset = new THREE.Vector3();",
                    "        this.temp = new THREE.Vector3();",
                    "        this.temp2 = new THREE.Vector3();",
                    "        this.timeOffset.x = Math.random() / this.scale.x * this.timeScale.x;",
                    "        this.timeOffset.y = Math.random() / this.scale.y * this.timeScale.y;",
                    "        this.timeOffset.z = Math.random() / this.scale.z * this.timeScale.z;",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        const x = particle.position.x / this.scale.x;",
                    "        const y = particle.position.y / this.scale.y;",
                    "        const z = particle.position.z / this.scale.z;",
                    "        this.temp.set(0, 0, 0);",
                    "        let lvl = 1;",
                    "        for (let i = 0; i < this.octaves; i++) {",
                    "            this.temp2.set(this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.x * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.y * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.z * lvl) / lvl);",
                    "            this.temp.add(this.temp2);",
                    "            lvl *= 2;",
                    "        }",
                    "        this.temp.multiply(this.velocityMultiplier);",
                    "        particle.velocity.addScaledVector(this.temp, delta);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            scale: [this.scale.x, this.scale.y, this.scale.z],",
                    "            octaves: this.octaves,",
                    "            velocityMultiplier: [this.velocityMultiplier.x, this.velocityMultiplier.y, this.velocityMultiplier.z],",
                    "            timeScale: [this.timeScale.x, this.timeScale.y, this.timeScale.z],",
                    "        };",
                    "    }",
                    "    frameUpdate(delta) {",
                    "        this.timeOffset.x += delta * this.timeScale.x;",
                    "        this.timeOffset.y += delta * this.timeScale.y;",
                    "        this.timeOffset.z += delta * this.timeScale.z;",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new TurbulenceField(new THREE.Vector3(json.scale[0], json.scale[1], json.scale[2]), json.octaves, new THREE.Vector3(json.velocityMultiplier[0], json.velocityMultiplier[1], json.velocityMultiplier[2]), new THREE.Vector3(json.timeScale[0], json.timeScale[1], json.timeScale[2]));",
                    "    }",
                    "    clone() {",
                    "        return new TurbulenceField(this.scale.clone(), this.octaves, this.velocityMultiplier.clone(), this.timeScale.clone());",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "function randomInt(a, b) {",
                    "    return Math.floor(Math.random() * (b - a)) + a;",
                    "}",
                    "",
                    "const generators = [];",
                    "const tempV$2 = new THREE.Vector3();",
                    "const tempQ$2 = new THREE.Quaternion();",
                    "class Noise {",
                    "    constructor(frequency, power, positionAmount = new ConstantValue(1), rotationAmount = new ConstantValue(0)) {",
                    "        this.frequency = frequency;",
                    "        this.power = power;",
                    "        this.positionAmount = positionAmount;",
                    "        this.rotationAmount = rotationAmount;",
                    "        this.type = 'Noise';",
                    "        this.duration = 0;",
                    "        if (generators.length === 0) {",
                    "            for (let i = 0; i < 100; i++) {",
                    "                generators.push(new SimplexNoise());",
                    "            }",
                    "        }",
                    "    }",
                    "    initialize(particle) {",
                    "        particle.lastPosNoise = new THREE.Vector3();",
                    "        if (typeof particle.rotation === 'number') {",
                    "            particle.lastRotNoise = 0;",
                    "        }",
                    "        else {",
                    "            particle.lastRotNoise = new THREE.Quaternion();",
                    "        }",
                    "        particle.generatorIndex = [randomInt(0, 100), randomInt(0, 100), randomInt(0, 100), randomInt(0, 100)];",
                    "    }",
                    "    update(particle, _) {",
                    "        let frequency = this.frequency.genValue(particle.age / particle.life);",
                    "        let power = this.power.genValue(particle.age / particle.life);",
                    "        let positionAmount = this.positionAmount.genValue(particle.age / particle.life);",
                    "        let rotationAmount = this.rotationAmount.genValue(particle.age / particle.life);",
                    "        if (positionAmount > 0 && particle.lastPosNoise !== undefined) {",
                    "            particle.position.sub(particle.lastPosNoise);",
                    "            tempV$2.set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *",
                    "                power *",
                    "                positionAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *",
                    "                power *",
                    "                positionAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *",
                    "                power *",
                    "                positionAmount);",
                    "            particle.position.add(tempV$2);",
                    "            particle.lastPosNoise.copy(tempV$2);",
                    "        }",
                    "        if (rotationAmount > 0 && particle.lastRotNoise !== undefined) {",
                    "            if (typeof particle.rotation === 'number') {",
                    "                particle.rotation -= particle.lastRotNoise;",
                    "                particle.rotation +=",
                    "                    generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *",
                    "                    Math.PI *",
                    "                    power *",
                    "                    rotationAmount;",
                    "            }",
                    "            else {",
                    "                particle.lastRotNoise.invert();",
                    "                particle.rotation.multiply(particle.lastRotNoise);",
                    "                tempQ$2",
                    "                    .set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *",
                    "                        power *",
                    "                        rotationAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *",
                    "                        power *",
                    "                        rotationAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *",
                    "                        power *",
                    "                        rotationAmount, generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *",
                    "                        power *",
                    "                        rotationAmount)",
                    "                    .normalize();",
                    "                particle.rotation.multiply(tempQ$2);",
                    "                particle.lastRotNoise.copy(tempQ$2);",
                    "            }",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            frequency: this.frequency.toJSON(),",
                    "            power: this.power.toJSON(),",
                    "            positionAmount: this.positionAmount.toJSON(),",
                    "            rotationAmount: this.rotationAmount.toJSON(),",
                    "        };",
                    "    }",
                    "    frameUpdate(delta) {",
                    "        this.duration += delta;",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new Noise(ValueGeneratorFromJSON(json.frequency), ValueGeneratorFromJSON(json.power), ValueGeneratorFromJSON(json.positionAmount), ValueGeneratorFromJSON(json.rotationAmount));",
                    "    }",
                    "    clone() {",
                    "        return new Noise(this.frequency.clone(), this.power.clone(), this.positionAmount.clone(), this.rotationAmount.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class TextureSequencer {",
                    "    constructor(scaleX = 0, scaleY = 0, position = new THREE.Vector3()) {",
                    "        this.scaleX = scaleX;",
                    "        this.scaleY = scaleY;",
                    "        this.position = position;",
                    "        this.locations = [];",
                    "    }",
                    "    transform(position, index) {",
                    "        position.x = this.locations[index % this.locations.length].x * this.scaleX + this.position.x;",
                    "        position.y = this.locations[index % this.locations.length].y * this.scaleY + this.position.y;",
                    "        position.z = this.position.z;",
                    "    }",
                    "    static fromJSON(json) {",
                    "        const textureSequencer = new TextureSequencer(json.scaleX, json.scaleY, new THREE.Vector3(json.position[0], json.position[1], json.position[2]));",
                    "        textureSequencer.locations = json.locations.map((loc) => new THREE.Vector2(loc.x, loc.y));",
                    "        return textureSequencer;",
                    "    }",
                    "    clone() {",
                    "        const textureSequencer = new TextureSequencer(this.scaleX, this.scaleY, this.position.clone());",
                    "        textureSequencer.locations = this.locations.map(loc => loc.clone());",
                    "        return textureSequencer;",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            scaleX: this.scaleX,",
                    "            scaleY: this.scaleY,",
                    "            position: this.position,",
                    "            locations: this.locations.map(loc => ({",
                    "                x: loc.x,",
                    "                y: loc.y,",
                    "            }))",
                    "        };",
                    "    }",
                    "    fromImage(img, threshold) {",
                    "        const canvas = document.createElement(\"canvas\");",
                    "        canvas.width = img.width;",
                    "        canvas.height = img.height;",
                    "        const ctx = canvas.getContext(\"2d\");",
                    "        if (!ctx) {",
                    "            return;",
                    "        }",
                    "        ctx.drawImage(img, 0, 0);",
                    "        const data = ctx.getImageData(0, 0, canvas.width, canvas.height, { colorSpace: \"srgb\" });",
                    "        canvas.remove();",
                    "        this.locations.length = 0;",
                    "        for (let i = 0; i < data.height; i++) {",
                    "            for (let j = 0; j < data.width; j++) {",
                    "                if (data.data[(i * data.width + j) * 4 + 3] > threshold) {",
                    "                    this.locations.push(new THREE.Vector2(j, data.height - i));",
                    "                }",
                    "            }",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "function SequencerFromJSON(json) {",
                    "    switch (json.type) {",
                    "        case 'TextureSequencer':",
                    "            return TextureSequencer.fromJSON(json);",
                    "        default:",
                    "            return new TextureSequencer();",
                    "    }",
                    "}",
                    "",
                    "class ApplySequences {",
                    "    constructor(delayBetweenParticles) {",
                    "        this.type = 'ApplySequences';",
                    "        this.sequencers = [];",
                    "        this.time = 0;",
                    "        this.index = 0;",
                    "        this.pCount = 0;",
                    "        this.tempV = new THREE.Vector3();",
                    "        this.delay = delayBetweenParticles;",
                    "    }",
                    "    initialize(particle) {",
                    "        particle.id = this.pCount;",
                    "        particle.dst = new THREE.Vector3();",
                    "        particle.begin = new THREE.Vector3();",
                    "        particle.inMotion = false;",
                    "        this.pCount++;",
                    "    }",
                    "    reset() {",
                    "        this.time = 0;",
                    "        this.index = 0;",
                    "        this.pCount = 0;",
                    "    }",
                    "    update(particle, delta) {",
                    "        const sequencer = this.sequencers[this.index];",
                    "        const delay = particle.id * this.delay;",
                    "        if (this.time >= sequencer[0].a + delay && this.time <= sequencer[0].b + delay) {",
                    "            if (!particle.inMotion) {",
                    "                particle.inMotion = true;",
                    "                particle.begin.copy(particle.position);",
                    "                sequencer[1].transform(particle.dst, particle.id);",
                    "            }",
                    "            particle.position.lerpVectors(particle.begin, particle.dst, ApplySequences.BEZIER.genValue((this.time - sequencer[0].a - delay) / (sequencer[0].b - sequencer[0].a)));",
                    "        }",
                    "        else if (this.time > sequencer[0].b + delay) {",
                    "            particle.inMotion = false;",
                    "        }",
                    "    }",
                    "    frameUpdate(delta) {",
                    "        while (this.index + 1 < this.sequencers.length && this.time >= this.sequencers[this.index + 1][0].a) {",
                    "            this.index++;",
                    "        }",
                    "        this.time += delta;",
                    "    }",
                    "    appendSequencer(range, sequencer) {",
                    "        this.sequencers.push([range, sequencer]);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            delay: this.delay,",
                    "            sequencers: this.sequencers.map(([range, sequencer]) => ({",
                    "                range: range.toJSON(),",
                    "                sequencer: sequencer.toJSON(),",
                    "            })),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        const seq = new ApplySequences(json.delay);",
                    "        json.sequencers.forEach((sequencerJson) => {",
                    "            seq.sequencers.push([ValueGeneratorFromJSON(sequencerJson.range), SequencerFromJSON(sequencerJson.sequencer)]);",
                    "        });",
                    "        return seq;",
                    "    }",
                    "    clone() {",
                    "        const applySequences = new ApplySequences(this.delay);",
                    "        applySequences.sequencers = this.sequencers.map(seq => [seq[0].clone(), seq[1].clone()]);",
                    "        return applySequences;",
                    "    }",
                    "}",
                    "ApplySequences.BEZIER = new Bezier(0, 0, 1, 1);",
                    "",
                    "let physicsResolver;",
                    "function setPhysicsResolver(resolver) {",
                    "    physicsResolver = resolver;",
                    "}",
                    "function getPhysicsResolver() {",
                    "    return physicsResolver;",
                    "}",
                    "class ApplyCollision {",
                    "    constructor(resolver, bounce) {",
                    "        this.resolver = resolver;",
                    "        this.bounce = bounce;",
                    "        this.type = 'ApplyCollision';",
                    "        this.tempV = new THREE.Vector3();",
                    "    }",
                    "    initialize(particle) {",
                    "    }",
                    "    update(particle, delta) {",
                    "        if (this.resolver.resolve(particle.position, this.tempV)) {",
                    "            particle.velocity.reflect(this.tempV).multiplyScalar(this.bounce);",
                    "        }",
                    "    }",
                    "    frameUpdate(delta) {",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            bounce: this.bounce,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ApplyCollision(getPhysicsResolver(), json.bounce);",
                    "    }",
                    "    clone() {",
                    "        return new ApplyCollision(this.resolver, this.bounce);",
                    "    }",
                    "    reset() {",
                    "    }",
                    "}",
                    "",
                    "class ColorBySpeed {",
                    "    constructor(color, speedRange) {",
                    "        this.color = color;",
                    "        this.speedRange = speedRange;",
                    "        this.type = 'ColorBySpeed';",
                    "    }",
                    "    initialize(particle) {",
                    "        if (this.color.type === 'memorizedFunction') {",
                    "            particle.colorOverLifeMemory = {};",
                    "            this.color.startGen(particle.colorOverLifeMemory);",
                    "        }",
                    "    }",
                    "    update(particle, delta) {",
                    "        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);",
                    "        if (this.color.type === 'memorizedFunction') {",
                    "            this.color.genColor(particle.color, t, particle.colorOverLifeMemory);",
                    "        }",
                    "        else {",
                    "            this.color.genColor(particle.color, t);",
                    "        }",
                    "        particle.color.x *= particle.startColor.x;",
                    "        particle.color.y *= particle.startColor.y;",
                    "        particle.color.z *= particle.startColor.z;",
                    "        particle.color.w *= particle.startColor.w;",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            color: this.color.toJSON(),",
                    "            speedRange: this.speedRange.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ColorBySpeed(ColorGeneratorFromJSON(json.color), IntervalValue.fromJSON(json.speedRange));",
                    "    }",
                    "    clone() {",
                    "        return new ColorBySpeed(this.color.clone(), this.speedRange.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class SizeBySpeed {",
                    "    initialize(particle) { }",
                    "    constructor(size, speedRange) {",
                    "        this.size = size;",
                    "        this.speedRange = speedRange;",
                    "        this.type = 'SizeBySpeed';",
                    "    }",
                    "    update(particle) {",
                    "        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);",
                    "        particle.size = particle.startSize * this.size.genValue(t);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            size: this.size.toJSON(),",
                    "            speedRange: this.speedRange.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new SizeBySpeed(ValueGeneratorFromJSON(json.size), IntervalValue.fromJSON(json.speedRange));",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new SizeBySpeed(this.size.clone(), this.speedRange.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class RotationBySpeed {",
                    "    constructor(angularVelocity, speedRange) {",
                    "        this.angularVelocity = angularVelocity;",
                    "        this.speedRange = speedRange;",
                    "        this.type = 'RotationBySpeed';",
                    "        this.tempQuat = new THREE.Quaternion();",
                    "    }",
                    "    initialize(particle) { }",
                    "    update(particle, delta) {",
                    "        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);",
                    "        particle.rotation += delta * this.angularVelocity.genValue(t);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            angularVelocity: this.angularVelocity.toJSON(),",
                    "            speedRange: this.speedRange.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new RotationBySpeed(ValueGeneratorFromJSON(json.angularVelocity), IntervalValue.fromJSON(json.speedRange));",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new RotationBySpeed(this.angularVelocity.clone(), this.speedRange.clone());",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "class LimitSpeedOverLife {",
                    "    initialize(particle) { }",
                    "    constructor(speed, dampen) {",
                    "        this.speed = speed;",
                    "        this.dampen = dampen;",
                    "        this.type = 'LimitSpeedOverLife';",
                    "    }",
                    "    update(particle, delta) {",
                    "        let speed = particle.velocity.length();",
                    "        let limit = this.speed.genValue(particle.age / particle.life);",
                    "        if (speed > limit) {",
                    "            const percent = (speed - limit) / speed;",
                    "            particle.velocity.multiplyScalar(1 - percent * this.dampen * delta * 20);",
                    "        }",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: this.type,",
                    "            speed: this.speed.toJSON(),",
                    "            dampen: this.dampen,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new LimitSpeedOverLife(ValueGeneratorFromJSON(json.speed), json.dampen);",
                    "    }",
                    "    frameUpdate(delta) { }",
                    "    clone() {",
                    "        return new LimitSpeedOverLife(this.speed.clone(), this.dampen);",
                    "    }",
                    "    reset() { }",
                    "}",
                    "",
                    "const BehaviorTypes = {",
                    "    ApplyForce: {",
                    "        type: 'ApplyForce',",
                    "        constructor: ApplyForce,",
                    "        params: [",
                    "            ['direction', 'vec3'],",
                    "            ['magnitude', 'value'],",
                    "        ],",
                    "        loadJSON: ApplyForce.fromJSON,",
                    "    },",
                    "    Noise: {",
                    "        type: 'Noise',",
                    "        constructor: Noise,",
                    "        params: [",
                    "            ['frequency', 'value'],",
                    "            ['power', 'value'],",
                    "            ['positionAmount', 'value'],",
                    "            ['rotationAmount', 'value'],",
                    "        ],",
                    "        loadJSON: Noise.fromJSON,",
                    "    },",
                    "    TurbulenceField: {",
                    "        type: 'TurbulenceField',",
                    "        constructor: TurbulenceField,",
                    "        params: [",
                    "            ['scale', 'vec3'],",
                    "            ['octaves', 'number'],",
                    "            ['velocityMultiplier', 'vec3'],",
                    "            ['timeScale', 'vec3'],",
                    "        ],",
                    "        loadJSON: TurbulenceField.fromJSON,",
                    "    },",
                    "    GravityForce: {",
                    "        type: 'GravityForce',",
                    "        constructor: GravityForce,",
                    "        params: [",
                    "            ['center', 'vec3'],",
                    "            ['magnitude', 'number'],",
                    "        ],",
                    "        loadJSON: GravityForce.fromJSON,",
                    "    },",
                    "    ColorOverLife: {",
                    "        type: 'ColorOverLife',",
                    "        constructor: ColorOverLife,",
                    "        params: [['color', 'colorFunc']],",
                    "        loadJSON: ColorOverLife.fromJSON,",
                    "    },",
                    "    RotationOverLife: {",
                    "        type: 'RotationOverLife',",
                    "        constructor: RotationOverLife,",
                    "        params: [['angularVelocity', 'valueFunc']],",
                    "        loadJSON: RotationOverLife.fromJSON,",
                    "    },",
                    "    Rotation3DOverLife: {",
                    "        type: 'Rotation3DOverLife',",
                    "        constructor: Rotation3DOverLife,",
                    "        params: [['angularVelocity', 'rotationFunc']],",
                    "        loadJSON: Rotation3DOverLife.fromJSON,",
                    "    },",
                    "    SizeOverLife: {",
                    "        type: 'SizeOverLife',",
                    "        constructor: SizeOverLife,",
                    "        params: [['size', 'valueFunc']],",
                    "        loadJSON: SizeOverLife.fromJSON,",
                    "    },",
                    "    ColorBySpeed: {",
                    "        type: 'ColorBySpeed',",
                    "        constructor: ColorBySpeed,",
                    "        params: [",
                    "            ['color', 'colorFunc'],",
                    "            ['speedRange', 'range'],",
                    "        ],",
                    "        loadJSON: ColorBySpeed.fromJSON,",
                    "    },",
                    "    RotationBySpeed: {",
                    "        type: 'RotationBySpeed',",
                    "        constructor: RotationBySpeed,",
                    "        params: [",
                    "            ['angularVelocity', 'valueFunc'],",
                    "            ['speedRange', 'range'],",
                    "        ],",
                    "        loadJSON: RotationBySpeed.fromJSON,",
                    "    },",
                    "    SizeBySpeed: {",
                    "        type: 'SizeBySpeed',",
                    "        constructor: SizeBySpeed,",
                    "        params: [",
                    "            ['size', 'valueFunc'],",
                    "            ['speedRange', 'range'],",
                    "        ],",
                    "        loadJSON: SizeBySpeed.fromJSON,",
                    "    },",
                    "    SpeedOverLife: {",
                    "        type: 'SpeedOverLife',",
                    "        constructor: SpeedOverLife,",
                    "        params: [['speed', 'valueFunc']],",
                    "        loadJSON: SpeedOverLife.fromJSON,",
                    "    },",
                    "    FrameOverLife: {",
                    "        type: 'FrameOverLife',",
                    "        constructor: FrameOverLife,",
                    "        params: [['frame', 'valueFunc']],",
                    "        loadJSON: FrameOverLife.fromJSON,",
                    "    },",
                    "    ForceOverLife: {",
                    "        type: 'ForceOverLife',",
                    "        constructor: ForceOverLife,",
                    "        params: [",
                    "            ['x', 'valueFunc'],",
                    "            ['y', 'valueFunc'],",
                    "            ['z', 'valueFunc'],",
                    "        ],",
                    "        loadJSON: ForceOverLife.fromJSON,",
                    "    },",
                    "    OrbitOverLife: {",
                    "        type: 'OrbitOverLife',",
                    "        constructor: OrbitOverLife,",
                    "        params: [",
                    "            ['orbitSpeed', 'valueFunc'],",
                    "            ['axis', 'vec3'],",
                    "        ],",
                    "        loadJSON: OrbitOverLife.fromJSON,",
                    "    },",
                    "    WidthOverLength: {",
                    "        type: 'WidthOverLength',",
                    "        constructor: WidthOverLength,",
                    "        params: [['width', 'valueFunc']],",
                    "        loadJSON: WidthOverLength.fromJSON,",
                    "    },",
                    "    ChangeEmitDirection: {",
                    "        type: 'ChangeEmitDirection',",
                    "        constructor: ChangeEmitDirection,",
                    "        params: [['angle', 'value']],",
                    "        loadJSON: ChangeEmitDirection.fromJSON,",
                    "    },",
                    "    EmitSubParticleSystem: {",
                    "        type: 'EmitSubParticleSystem',",
                    "        constructor: EmitSubParticleSystem,",
                    "        params: [",
                    "            ['particleSystem', 'self'],",
                    "            ['useVelocityAsBasis', 'boolean'],",
                    "            ['subParticleSystem', 'particleSystem'],",
                    "            ['mode', 'number'],",
                    "            ['emitProbability', 'number'],",
                    "        ],",
                    "        loadJSON: EmitSubParticleSystem.fromJSON,",
                    "    },",
                    "    LimitSpeedOverLife: {",
                    "        type: 'LimitSpeedOverLife',",
                    "        constructor: LimitSpeedOverLife,",
                    "        params: [",
                    "            ['speed', 'valueFunc'],",
                    "            ['dampen', 'number'],",
                    "        ],",
                    "        loadJSON: LimitSpeedOverLife.fromJSON,",
                    "    },",
                    "};",
                    "function BehaviorFromJSON(json, particleSystem) {",
                    "    return BehaviorTypes[json.type].loadJSON(json, particleSystem);",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.EmitterMode = void 0;",
                    "(function (EmitterMode) {",
                    "    EmitterMode[EmitterMode[\"Random\"] = 0] = \"Random\";",
                    "    EmitterMode[EmitterMode[\"Loop\"] = 1] = \"Loop\";",
                    "    EmitterMode[EmitterMode[\"PingPong\"] = 2] = \"PingPong\";",
                    "    EmitterMode[EmitterMode[\"Burst\"] = 3] = \"Burst\";",
                    "})(gdjs.__particleEmmiter3DExtension.EmitterMode || (gdjs.__particleEmmiter3DExtension.EmitterMode = {}));",
                    "function getValueFromEmitterMode(mode, currentValue, spread) {",
                    "    let u;",
                    "    if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random === mode) {",
                    "        currentValue = Math.random();",
                    "    }",
                    "    if (spread > 0) {",
                    "        u = Math.floor(currentValue / spread) * spread;",
                    "    }",
                    "    else {",
                    "        u = currentValue;",
                    "    }",
                    "    switch (mode) {",
                    "        case gdjs.__particleEmmiter3DExtension.EmitterMode.Loop:",
                    "            u = u % 1;",
                    "            break;",
                    "        case gdjs.__particleEmmiter3DExtension.EmitterMode.PingPong:",
                    "            u = Math.abs((u % 2) - 1);",
                    "            break;",
                    "    }",
                    "    return u;",
                    "}",
                    "",
                    "class ConeEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d, _e, _f, _g;",
                    "        this.type = 'cone';",
                    "        this.currentValue = 0;",
                    "        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;",
                    "        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;",
                    "        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;",
                    "        this.angle = (_d = parameters.angle) !== null && _d !== void 0 ? _d : Math.PI / 6;",
                    "        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;",
                    "        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;",
                    "        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);",
                    "    }",
                    "    update(system, delta) {",
                    "        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {",
                    "            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;",
                    "        }",
                    "    }",
                    "    initialize(p) {",
                    "        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);",
                    "        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());",
                    "        const theta = u * this.arc;",
                    "        const r = Math.sqrt(rand);",
                    "        const sinTheta = Math.sin(theta);",
                    "        const cosTheta = Math.cos(theta);",
                    "        p.position.x = r * cosTheta;",
                    "        p.position.y = r * sinTheta;",
                    "        p.position.z = 0;",
                    "        const angle = this.angle * r;",
                    "        p.velocity.set(0, 0, Math.cos(angle)).addScaledVector(p.position, Math.sin(angle)).multiplyScalar(p.startSpeed);",
                    "        p.position.multiplyScalar(this.radius);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'cone',",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            angle: this.angle,",
                    "            mode: this.mode,",
                    "            spread: this.spread,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new ConeEmitter({",
                    "            radius: json.radius,",
                    "            arc: json.arc,",
                    "            thickness: json.thickness,",
                    "            angle: json.angle,",
                    "            mode: json.mode,",
                    "            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,",
                    "            spread: json.spread,",
                    "        });",
                    "    }",
                    "    clone() {",
                    "        return new ConeEmitter({",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            angle: this.angle,",
                    "            mode: this.mode,",
                    "            speed: this.speed.clone(),",
                    "            spread: this.spread,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "class CircleEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d, _e, _f;",
                    "        this.type = 'circle';",
                    "        this.currentValue = 0;",
                    "        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;",
                    "        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;",
                    "        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;",
                    "        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;",
                    "        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;",
                    "        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);",
                    "    }",
                    "    update(system, delta) {",
                    "        this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;",
                    "    }",
                    "    initialize(p) {",
                    "        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);",
                    "        const r = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());",
                    "        const theta = u * this.arc;",
                    "        p.position.x = Math.cos(theta);",
                    "        p.position.y = Math.sin(theta);",
                    "        p.position.z = 0;",
                    "        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);",
                    "        p.position.multiplyScalar(this.radius * r);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'circle',",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            spread: this.spread,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new CircleEmitter({",
                    "            radius: json.radius,",
                    "            arc: json.arc,",
                    "            thickness: json.thickness,",
                    "            mode: json.mode,",
                    "            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,",
                    "            spread: json.spread,",
                    "        });",
                    "    }",
                    "    clone() {",
                    "        return new CircleEmitter({",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            speed: this.speed.clone(),",
                    "            spread: this.spread,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "class DonutEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d, _e, _f, _g;",
                    "        this.type = 'donut';",
                    "        this.currentValue = 0;",
                    "        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;",
                    "        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;",
                    "        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;",
                    "        this.donutRadius = (_d = parameters.donutRadius) !== null && _d !== void 0 ? _d : this.radius * 0.2;",
                    "        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;",
                    "        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;",
                    "        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);",
                    "    }",
                    "    update(system, delta) {",
                    "        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {",
                    "            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;",
                    "        }",
                    "    }",
                    "    initialize(p) {",
                    "        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);",
                    "        const v = Math.random();",
                    "        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());",
                    "        const theta = u * this.arc;",
                    "        const phi = v * Math.PI * 2;",
                    "        const sinTheta = Math.sin(theta);",
                    "        const cosTheta = Math.cos(theta);",
                    "        p.position.x = this.radius * cosTheta;",
                    "        p.position.y = this.radius * sinTheta;",
                    "        p.position.z = 0;",
                    "        p.velocity.z = this.donutRadius * rand * Math.sin(phi);",
                    "        p.velocity.x = this.donutRadius * rand * Math.cos(phi) * cosTheta;",
                    "        p.velocity.y = this.donutRadius * rand * Math.cos(phi) * sinTheta;",
                    "        p.position.add(p.velocity);",
                    "        p.velocity.normalize().multiplyScalar(p.startSpeed);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'donut',",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            donutRadius: this.donutRadius,",
                    "            mode: this.mode,",
                    "            spread: this.spread,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new DonutEmitter({",
                    "            radius: json.radius,",
                    "            arc: json.arc,",
                    "            thickness: json.thickness,",
                    "            donutRadius: json.donutRadius,",
                    "            mode: json.mode,",
                    "            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,",
                    "            spread: json.spread,",
                    "        });",
                    "    }",
                    "    clone() {",
                    "        return new DonutEmitter({",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            donutRadius: this.donutRadius,",
                    "            mode: this.mode,",
                    "            speed: this.speed.clone(),",
                    "            spread: this.spread,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "class PointEmitter {",
                    "    constructor() {",
                    "        this.type = 'point';",
                    "    }",
                    "    update(system, delta) { }",
                    "    initialize(p) {",
                    "        const u = Math.random();",
                    "        const v = Math.random();",
                    "        const theta = u * Math.PI * 2;",
                    "        const phi = Math.acos(2.0 * v - 1.0);",
                    "        const r = Math.cbrt(Math.random());",
                    "        const sinTheta = Math.sin(theta);",
                    "        const cosTheta = Math.cos(theta);",
                    "        const sinPhi = Math.sin(phi);",
                    "        const cosPhi = Math.cos(phi);",
                    "        p.velocity.x = r * sinPhi * cosTheta;",
                    "        p.velocity.y = r * sinPhi * sinTheta;",
                    "        p.velocity.z = r * cosPhi;",
                    "        p.velocity.multiplyScalar(p.startSpeed);",
                    "        p.position.setScalar(0);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'point',",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new PointEmitter();",
                    "    }",
                    "    clone() {",
                    "        return new PointEmitter();",
                    "    }",
                    "}",
                    "",
                    "class SphereEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d, _e, _f;",
                    "        this.type = 'sphere';",
                    "        this.currentValue = 0;",
                    "        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;",
                    "        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;",
                    "        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;",
                    "        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;",
                    "        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;",
                    "        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);",
                    "    }",
                    "    update(system, delta) {",
                    "        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {",
                    "            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;",
                    "        }",
                    "    }",
                    "    initialize(p) {",
                    "        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);",
                    "        const v = Math.random();",
                    "        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());",
                    "        const theta = u * this.arc;",
                    "        const phi = Math.acos(2.0 * v - 1.0);",
                    "        const sinTheta = Math.sin(theta);",
                    "        const cosTheta = Math.cos(theta);",
                    "        const sinPhi = Math.sin(phi);",
                    "        const cosPhi = Math.cos(phi);",
                    "        p.position.x = sinPhi * cosTheta;",
                    "        p.position.y = sinPhi * sinTheta;",
                    "        p.position.z = cosPhi;",
                    "        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);",
                    "        p.position.multiplyScalar(this.radius * rand);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'sphere',",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            spread: this.spread,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new SphereEmitter({",
                    "            radius: json.radius,",
                    "            arc: json.arc,",
                    "            thickness: json.thickness,",
                    "            mode: json.mode,",
                    "            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,",
                    "            spread: json.spread,",
                    "        });",
                    "    }",
                    "    clone() {",
                    "        return new SphereEmitter({",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            speed: this.speed.clone(),",
                    "            spread: this.spread,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "class HemisphereEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d, _e, _f;",
                    "        this.type = 'sphere';",
                    "        this.currentValue = 0;",
                    "        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;",
                    "        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;",
                    "        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;",
                    "        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;",
                    "        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;",
                    "        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);",
                    "    }",
                    "    update(system, delta) {",
                    "        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {",
                    "            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;",
                    "        }",
                    "    }",
                    "    initialize(p) {",
                    "        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);",
                    "        const v = Math.random();",
                    "        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());",
                    "        const theta = u * this.arc;",
                    "        const phi = Math.acos(v);",
                    "        const sinTheta = Math.sin(theta);",
                    "        const cosTheta = Math.cos(theta);",
                    "        const sinPhi = Math.sin(phi);",
                    "        const cosPhi = Math.cos(phi);",
                    "        p.position.x = sinPhi * cosTheta;",
                    "        p.position.y = sinPhi * sinTheta;",
                    "        p.position.z = cosPhi;",
                    "        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);",
                    "        p.position.multiplyScalar(this.radius * rand);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'hemisphere',",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            spread: this.spread,",
                    "            speed: this.speed.toJSON(),",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new HemisphereEmitter({",
                    "            radius: json.radius,",
                    "            arc: json.arc,",
                    "            thickness: json.thickness,",
                    "            mode: json.mode,",
                    "            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,",
                    "            spread: json.spread,",
                    "        });",
                    "    }",
                    "    clone() {",
                    "        return new HemisphereEmitter({",
                    "            radius: this.radius,",
                    "            arc: this.arc,",
                    "            thickness: this.thickness,",
                    "            mode: this.mode,",
                    "            speed: this.speed.clone(),",
                    "            spread: this.spread,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "class GridEmitter {",
                    "    constructor(parameters = {}) {",
                    "        var _a, _b, _c, _d;",
                    "        this.type = 'grid';",
                    "        this.width = (_a = parameters.width) !== null && _a !== void 0 ? _a : 1;",
                    "        this.height = (_b = parameters.height) !== null && _b !== void 0 ? _b : 1;",
                    "        this.column = (_c = parameters.column) !== null && _c !== void 0 ? _c : 10;",
                    "        this.row = (_d = parameters.row) !== null && _d !== void 0 ? _d : 10;",
                    "    }",
                    "    initialize(p) {",
                    "        const r = Math.floor(Math.random() * this.row);",
                    "        const c = Math.floor(Math.random() * this.column);",
                    "        p.position.x = (c * this.width) / this.column - this.width / 2;",
                    "        p.position.y = (r * this.height) / this.row - this.height / 2;",
                    "        p.position.z = 0;",
                    "        p.velocity.set(0, 0, p.startSpeed);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'grid',",
                    "            width: this.width,",
                    "            height: this.height,",
                    "            column: this.column,",
                    "            row: this.row,",
                    "        };",
                    "    }",
                    "    static fromJSON(json) {",
                    "        return new GridEmitter(json);",
                    "    }",
                    "    clone() {",
                    "        return new GridEmitter({",
                    "            width: this.width,",
                    "            height: this.height,",
                    "            column: this.column,",
                    "            row: this.row,",
                    "        });",
                    "    }",
                    "    update(system, delta) { }",
                    "}",
                    "",
                    "class MeshSurfaceEmitter {",
                    "    get geometry() {",
                    "        return this._geometry;",
                    "    }",
                    "    set geometry(geometry) {",
                    "        this._geometry = geometry;",
                    "        if (geometry === undefined) {",
                    "            return;",
                    "        }",
                    "        if (typeof geometry === 'string') {",
                    "            return;",
                    "        }",
                    "        const tri = new THREE.Triangle();",
                    "        this._triangleIndexToArea.length = 0;",
                    "        let area = 0;",
                    "        if (!geometry.getIndex()) {",
                    "            return;",
                    "        }",
                    "        const array = geometry.getIndex().array;",
                    "        const triCount = array.length / 3;",
                    "        this._triangleIndexToArea.push(0);",
                    "        for (let i = 0; i < triCount; i++) {",
                    "            tri.setFromAttributeAndIndices(geometry.getAttribute('position'), array[i * 3], array[i * 3 + 1], array[i * 3 + 2]);",
                    "            area += tri.getArea();",
                    "            this._triangleIndexToArea.push(area);",
                    "        }",
                    "        geometry.userData.triangleIndexToArea = this._triangleIndexToArea;",
                    "    }",
                    "    constructor(geometry) {",
                    "        this.type = 'mesh_surface';",
                    "        this._triangleIndexToArea = [];",
                    "        this._tempA = new THREE.Vector3();",
                    "        this._tempB = new THREE.Vector3();",
                    "        this._tempC = new THREE.Vector3();",
                    "        if (!geometry) {",
                    "            return;",
                    "        }",
                    "        this.geometry = geometry;",
                    "    }",
                    "    initialize(p) {",
                    "        const geometry = this._geometry;",
                    "        if (!geometry || geometry.getIndex() === null) {",
                    "            p.position.set(0, 0, 0);",
                    "            p.velocity.set(0, 0, 1).multiplyScalar(p.startSpeed);",
                    "            return;",
                    "        }",
                    "        const triCount = this._triangleIndexToArea.length - 1;",
                    "        let left = 0, right = triCount;",
                    "        const target = Math.random() * this._triangleIndexToArea[triCount];",
                    "        while (left + 1 < right) {",
                    "            const mid = Math.floor((left + right) / 2);",
                    "            if (target < this._triangleIndexToArea[mid]) {",
                    "                right = mid;",
                    "            }",
                    "            else {",
                    "                left = mid;",
                    "            }",
                    "        }",
                    "        let u1 = Math.random();",
                    "        let u2 = Math.random();",
                    "        if (u1 + u2 > 1) {",
                    "            u1 = 1 - u1;",
                    "            u2 = 1 - u2;",
                    "        }",
                    "        const index1 = geometry.getIndex().array[left * 3];",
                    "        const index2 = geometry.getIndex().array[left * 3 + 1];",
                    "        const index3 = geometry.getIndex().array[left * 3 + 2];",
                    "        const positionBuffer = geometry.getAttribute('position');",
                    "        this._tempA.fromBufferAttribute(positionBuffer, index1);",
                    "        this._tempB.fromBufferAttribute(positionBuffer, index2);",
                    "        this._tempC.fromBufferAttribute(positionBuffer, index3);",
                    "        this._tempB.sub(this._tempA);",
                    "        this._tempC.sub(this._tempA);",
                    "        this._tempA.addScaledVector(this._tempB, u1).addScaledVector(this._tempC, u2);",
                    "        p.position.copy(this._tempA);",
                    "        this._tempA.copy(this._tempB).cross(this._tempC).normalize();",
                    "        p.velocity.copy(this._tempA).normalize().multiplyScalar(p.startSpeed);",
                    "    }",
                    "    toJSON() {",
                    "        return {",
                    "            type: 'mesh_surface',",
                    "            mesh: this._geometry ? this._geometry.uuid : '',",
                    "        };",
                    "    }",
                    "    static fromJSON(json, meta) {",
                    "        return new MeshSurfaceEmitter(meta.geometries[json.geometry]);",
                    "    }",
                    "    clone() {",
                    "        return new MeshSurfaceEmitter(this._geometry);",
                    "    }",
                    "    update(system, delta) { }",
                    "}",
                    "",
                    "const EmitterShapes = {",
                    "    circle: {",
                    "        type: 'circle',",
                    "        params: [",
                    "            ['radius', 'number'],",
                    "            ['arc', 'radian'],",
                    "            ['thickness', 'number'],",
                    "            ['mode', 'emitterMode'],",
                    "            ['spread', 'number'],",
                    "            ['speed', 'valueFunc'],",
                    "        ],",
                    "        constructor: CircleEmitter,",
                    "        loadJSON: CircleEmitter.fromJSON,",
                    "    },",
                    "    cone: {",
                    "        type: 'cone',",
                    "        params: [",
                    "            ['radius', 'number'],",
                    "            ['arc', 'radian'],",
                    "            ['thickness', 'number'],",
                    "            ['angle', 'radian'],",
                    "            ['mode', 'emitterMode'],",
                    "            ['spread', 'number'],",
                    "            ['speed', 'valueFunc'],",
                    "        ],",
                    "        constructor: ConeEmitter,",
                    "        loadJSON: ConeEmitter.fromJSON,",
                    "    },",
                    "    donut: {",
                    "        type: 'donut',",
                    "        params: [",
                    "            ['radius', 'number'],",
                    "            ['arc', 'radian'],",
                    "            ['thickness', 'number'],",
                    "            ['donutRadius', 'number'],",
                    "            ['mode', 'emitterMode'],",
                    "            ['spread', 'number'],",
                    "            ['speed', 'valueFunc'],",
                    "        ],",
                    "        constructor: DonutEmitter,",
                    "        loadJSON: DonutEmitter.fromJSON,",
                    "    },",
                    "    point: { type: 'point', params: [], constructor: PointEmitter, loadJSON: PointEmitter.fromJSON },",
                    "    sphere: {",
                    "        type: 'sphere',",
                    "        params: [",
                    "            ['radius', 'number'],",
                    "            ['arc', 'radian'],",
                    "            ['thickness', 'number'],",
                    "            ['angle', 'radian'],",
                    "            ['mode', 'emitterMode'],",
                    "            ['spread', 'number'],",
                    "            ['speed', 'valueFunc'],",
                    "        ],",
                    "        constructor: SphereEmitter,",
                    "        loadJSON: SphereEmitter.fromJSON,",
                    "    },",
                    "    hemisphere: {",
                    "        type: 'hemisphere',",
                    "        params: [",
                    "            ['radius', 'number'],",
                    "            ['arc', 'radian'],",
                    "            ['thickness', 'number'],",
                    "            ['angle', 'radian'],",
                    "            ['mode', 'emitterMode'],",
                    "            ['spread', 'number'],",
                    "            ['speed', 'valueFunc'],",
                    "        ],",
                    "        constructor: HemisphereEmitter,",
                    "        loadJSON: HemisphereEmitter.fromJSON,",
                    "    },",
                    "    grid: {",
                    "        type: 'grid',",
                    "        params: [",
                    "            ['width', 'number'],",
                    "            ['height', 'number'],",
                    "            ['rows', 'number'],",
                    "            ['column', 'number'],",
                    "        ],",
                    "        constructor: GridEmitter,",
                    "        loadJSON: GridEmitter.fromJSON,",
                    "    },",
                    "    mesh_surface: {",
                    "        type: 'mesh_surface',",
                    "        params: [['geometry', 'geometry']],",
                    "        constructor: MeshSurfaceEmitter,",
                    "        loadJSON: MeshSurfaceEmitter.fromJSON,",
                    "    },",
                    "};",
                    "function EmitterFromJSON(json, meta) {",
                    "    return EmitterShapes[json.type].loadJSON(json, meta);",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.RenderMode = void 0;",
                    "(function (RenderMode) {",
                    "    RenderMode[RenderMode[\"BillBoard\"] = 0] = \"BillBoard\";",
                    "    RenderMode[RenderMode[\"StretchedBillBoard\"] = 1] = \"StretchedBillBoard\";",
                    "    RenderMode[RenderMode[\"Mesh\"] = 2] = \"Mesh\";",
                    "    RenderMode[RenderMode[\"Trail\"] = 3] = \"Trail\";",
                    "    RenderMode[RenderMode[\"HorizontalBillBoard\"] = 4] = \"HorizontalBillBoard\";",
                    "    RenderMode[RenderMode[\"VerticalBillBoard\"] = 5] = \"VerticalBillBoard\";",
                    "})(gdjs.__particleEmmiter3DExtension.RenderMode || (gdjs.__particleEmmiter3DExtension.RenderMode = {}));",
                    "class VFXBatch extends THREE.Mesh {",
                    "    constructor(settings) {",
                    "        super();",
                    "        this.type = 'VFXBatch';",
                    "        this.maxParticles = 1000;",
                    "        this.systems = new Set();",
                    "        const layers = new THREE.Layers();",
                    "        layers.mask = settings.layers.mask;",
                    "        const newMat = settings.material.clone();",
                    "        newMat.defines = {};",
                    "        Object.assign(newMat.defines, settings.material.defines);",
                    "        this.settings = {",
                    "            instancingGeometry: settings.instancingGeometry,",
                    "            renderMode: settings.renderMode,",
                    "            renderOrder: settings.renderOrder,",
                    "            material: newMat,",
                    "            uTileCount: settings.uTileCount,",
                    "            vTileCount: settings.vTileCount,",
                    "            layers: layers,",
                    "        };",
                    "        this.frustumCulled = false;",
                    "        this.renderOrder = this.settings.renderOrder;",
                    "    }",
                    "    addSystem(system) {",
                    "        this.systems.add(system);",
                    "    }",
                    "    removeSystem(system) {",
                    "        this.systems.delete(system);",
                    "    }",
                    "}",
                    "",
                    "const UP = new THREE.Vector3(0, 0, 1);",
                    "const tempQ$1 = new THREE.Quaternion();",
                    "const tempV$1 = new THREE.Vector3();",
                    "const tempV2$1 = new THREE.Vector3();",
                    "new THREE.Vector3();",
                    "const PREWARM_FPS$1 = 60;",
                    "const DEFAULT_GEOMETRY$1 = new THREE.PlaneGeometry(1, 1, 1, 1);",
                    "class ParticleSystem {",
                    "    set time(time) {",
                    "        this.emissionState.time = time;",
                    "    }",
                    "    get time() {",
                    "        return this.emissionState.time;",
                    "    }",
                    "    get layers() {",
                    "        return this.rendererSettings.layers;",
                    "    }",
                    "    get texture() {",
                    "        return this.rendererSettings.material.map;",
                    "    }",
                    "    set texture(texture) {",
                    "        this.rendererSettings.material.map = texture;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get material() {",
                    "        return this.rendererSettings.material;",
                    "    }",
                    "    set material(material) {",
                    "        this.rendererSettings.material = material;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get uTileCount() {",
                    "        return this.rendererSettings.uTileCount;",
                    "    }",
                    "    set uTileCount(u) {",
                    "        this.rendererSettings.uTileCount = u;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get vTileCount() {",
                    "        return this.rendererSettings.vTileCount;",
                    "    }",
                    "    set vTileCount(v) {",
                    "        this.rendererSettings.vTileCount = v;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get instancingGeometry() {",
                    "        return this.rendererSettings.instancingGeometry;",
                    "    }",
                    "    set instancingGeometry(geometry) {",
                    "        this.restart();",
                    "        this.particles.length = 0;",
                    "        this.rendererSettings.instancingGeometry = geometry;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get renderMode() {",
                    "        return this.rendererSettings.renderMode;",
                    "    }",
                    "    set renderMode(renderMode) {",
                    "        if ((this.rendererSettings.renderMode != gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) ||",
                    "            (this.rendererSettings.renderMode == gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode !== gdjs.__particleEmmiter3DExtension.RenderMode.Trail)) {",
                    "            this.restart();",
                    "            this.particles.length = 0;",
                    "        }",
                    "        if (this.rendererSettings.renderMode !== renderMode) {",
                    "            switch (renderMode) {",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:",
                    "                    this.rendererEmitterSettings = {",
                    "                        startLength: new ConstantValue(30),",
                    "                        followLocalOrigin: false,",
                    "                    };",
                    "                    break;",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:",
                    "                    this.rendererEmitterSettings = {",
                    "                        geometry: new THREE.PlaneGeometry(1, 1),",
                    "                    };",
                    "                    this.startRotation = new AxisAngleGenerator(new THREE.Vector3(0, 1, 0), new ConstantValue(0));",
                    "                    break;",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:",
                    "                    this.rendererEmitterSettings = { speedFactor: 0, lengthFactor: 2 };",
                    "                    if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                        this.startRotation = new ConstantValue(0);",
                    "                    }",
                    "                    break;",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:",
                    "                    this.rendererEmitterSettings = {};",
                    "                    if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                        this.startRotation = new ConstantValue(0);",
                    "                    }",
                    "                    break;",
                    "            }",
                    "        }",
                    "        this.rendererSettings.renderMode = renderMode;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get renderOrder() {",
                    "        return this.rendererSettings.renderOrder;",
                    "    }",
                    "    set renderOrder(renderOrder) {",
                    "        this.rendererSettings.renderOrder = renderOrder;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get blending() {",
                    "        return this.rendererSettings.material.blending;",
                    "    }",
                    "    set blending(blending) {",
                    "        this.rendererSettings.material.blending = blending;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    constructor(parameters) {",
                    "        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;",
                    "        this.temp = new THREE.Vector3();",
                    "        this.travelDistance = 0;",
                    "        this.normalMatrix = new THREE.Matrix3();",
                    "        this.firstTimeUpdate = true;",
                    "        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;",
                    "        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;",
                    "        this.looping = parameters.looping === undefined ? true : parameters.looping;",
                    "        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;",
                    "        this.startLife = (_b = parameters.startLife) !== null && _b !== void 0 ? _b : new ConstantValue(5);",
                    "        this.startSpeed = (_c = parameters.startSpeed) !== null && _c !== void 0 ? _c : new ConstantValue(0);",
                    "        this.startRotation = (_d = parameters.startRotation) !== null && _d !== void 0 ? _d : new ConstantValue(0);",
                    "        this.startSize = (_e = parameters.startSize) !== null && _e !== void 0 ? _e : new ConstantValue(1);",
                    "        this.startColor = (_f = parameters.startColor) !== null && _f !== void 0 ? _f : new ConstantColor(new THREE.Vector4(1, 1, 1, 1));",
                    "        this.emissionOverTime = (_g = parameters.emissionOverTime) !== null && _g !== void 0 ? _g : new ConstantValue(10);",
                    "        this.emissionOverDistance = (_h = parameters.emissionOverDistance) !== null && _h !== void 0 ? _h : new ConstantValue(0);",
                    "        this.emissionBursts = (_j = parameters.emissionBursts) !== null && _j !== void 0 ? _j : [];",
                    "        this.onlyUsedByOther = (_k = parameters.onlyUsedByOther) !== null && _k !== void 0 ? _k : false;",
                    "        this.emitterShape = (_l = parameters.shape) !== null && _l !== void 0 ? _l : new SphereEmitter();",
                    "        this.behaviors = (_m = parameters.behaviors) !== null && _m !== void 0 ? _m : new Array();",
                    "        this.worldSpace = (_o = parameters.worldSpace) !== null && _o !== void 0 ? _o : false;",
                    "        this.rendererEmitterSettings = (_p = parameters.rendererEmitterSettings) !== null && _p !== void 0 ? _p : {};",
                    "        if (parameters.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            const stretchedBillboardSettings = this.rendererEmitterSettings;",
                    "            if (parameters.speedFactor !== undefined) {",
                    "                stretchedBillboardSettings.speedFactor = parameters.speedFactor;",
                    "            }",
                    "            stretchedBillboardSettings.speedFactor = (_q = stretchedBillboardSettings.speedFactor) !== null && _q !== void 0 ? _q : 0;",
                    "            stretchedBillboardSettings.lengthFactor = (_r = stretchedBillboardSettings.lengthFactor) !== null && _r !== void 0 ? _r : 0;",
                    "        }",
                    "        this.rendererSettings = {",
                    "            instancingGeometry: (_s = parameters.instancingGeometry) !== null && _s !== void 0 ? _s : DEFAULT_GEOMETRY$1,",
                    "            renderMode: (_t = parameters.renderMode) !== null && _t !== void 0 ? _t : gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard,",
                    "            renderOrder: (_u = parameters.renderOrder) !== null && _u !== void 0 ? _u : 0,",
                    "            material: parameters.material,",
                    "            uTileCount: (_v = parameters.uTileCount) !== null && _v !== void 0 ? _v : 1,",
                    "            vTileCount: (_w = parameters.vTileCount) !== null && _w !== void 0 ? _w : 1,",
                    "            layers: (_x = parameters.layers) !== null && _x !== void 0 ? _x : new THREE.Layers(),",
                    "        };",
                    "        this.neededToUpdateRender = true;",
                    "        this.particles = new Array();",
                    "        this.startTileIndex = parameters.startTileIndex || new ConstantValue(0);",
                    "        this.emitter = new ParticleEmitter(this);",
                    "        this.paused = false;",
                    "        this.particleNum = 0;",
                    "        this.emissionState = {",
                    "            burstIndex: 0,",
                    "            burstWaveIndex: 0,",
                    "            time: 0,",
                    "            waitEmiting: 0,",
                    "            travelDistance: 0,",
                    "        };",
                    "        this.emitEnded = false;",
                    "        this.markForDestroy = false;",
                    "        this.prewarmed = false;",
                    "    }",
                    "    pause() {",
                    "        this.paused = true;",
                    "    }",
                    "    play() {",
                    "        this.paused = false;",
                    "    }",
                    "    spawn(count, emissionState, matrix) {",
                    "        tempQ$1.setFromRotationMatrix(matrix);",
                    "        const translation = tempV$1;",
                    "        const quaternion = tempQ$1;",
                    "        const scale = tempV2$1;",
                    "        matrix.decompose(translation, quaternion, scale);",
                    "        for (let i = 0; i < count; i++) {",
                    "            this.particleNum++;",
                    "            while (this.particles.length < this.particleNum) {",
                    "                if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "                    this.particles.push(new TrailParticle());",
                    "                }",
                    "                else {",
                    "                    this.particles.push(new SpriteParticle());",
                    "                }",
                    "            }",
                    "            const particle = this.particles[this.particleNum - 1];",
                    "            particle.speedModifier = 1;",
                    "            this.startColor.genColor(particle.startColor, this.emissionState.time, {});",
                    "            particle.color.copy(particle.startColor);",
                    "            particle.startSpeed = this.startSpeed.genValue(emissionState.time / this.duration);",
                    "            particle.life = this.startLife.genValue(emissionState.time / this.duration);",
                    "            particle.age = 0;",
                    "            particle.startSize = this.startSize.genValue(emissionState.time / this.duration);",
                    "            particle.uvTile = Math.floor(this.startTileIndex.genValue() + 0.001);",
                    "            particle.size = particle.startSize;",
                    "            if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh ||",
                    "                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||",
                    "                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||",
                    "                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||",
                    "                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "                const sprite = particle;",
                    "                if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                    if (!(sprite.rotation instanceof THREE.Quaternion)) {",
                    "                        sprite.rotation = new THREE.Quaternion();",
                    "                    }",
                    "                    if (this.startRotation.type === 'rotation') {",
                    "                        this.startRotation.genValue(sprite.rotation, emissionState.time / this.duration);",
                    "                    }",
                    "                    else {",
                    "                        sprite.rotation.setFromAxisAngle(UP, this.startRotation.genValue((emissionState.time / this.duration)));",
                    "                    }",
                    "                }",
                    "                else {",
                    "                    if (this.startRotation.type === 'rotation') {",
                    "                        sprite.rotation = 0;",
                    "                    }",
                    "                    else {",
                    "                        sprite.rotation = this.startRotation.genValue(emissionState.time / this.duration);",
                    "                    }",
                    "                }",
                    "            }",
                    "            else if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "                const trail = particle;",
                    "                trail.length = this.rendererEmitterSettings.startLength.genValue(emissionState.time / this.duration);",
                    "            }",
                    "            this.emitterShape.initialize(particle);",
                    "            if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail &&",
                    "                this.rendererEmitterSettings.followLocalOrigin) {",
                    "                const trail = particle;",
                    "                trail.localPosition = new THREE.Vector3().copy(trail.position);",
                    "            }",
                    "            if (this.worldSpace) {",
                    "                particle.position.applyMatrix4(matrix);",
                    "                particle.startSize =",
                    "                    (particle.startSize * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3;",
                    "                particle.size = particle.startSize;",
                    "                particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);",
                    "                if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {",
                    "                    particle.rotation.multiplyQuaternions(tempQ$1, particle.rotation);",
                    "                }",
                    "            }",
                    "            else {",
                    "                if (this.onlyUsedByOther) {",
                    "                    particle.parentMatrix = matrix;",
                    "                }",
                    "            }",
                    "            for (let j = 0; j < this.behaviors.length; j++) {",
                    "                this.behaviors[j].initialize(particle);",
                    "            }",
                    "        }",
                    "    }",
                    "    endEmit() {",
                    "        this.emitEnded = true;",
                    "        if (this.autoDestroy) {",
                    "            this.markForDestroy = true;",
                    "        }",
                    "    }",
                    "    dispose() {",
                    "        if (this._renderer)",
                    "            this._renderer.deleteSystem(this);",
                    "        this.emitter.dispose();",
                    "        if (this.emitter.parent)",
                    "            this.emitter.parent.remove(this.emitter);",
                    "    }",
                    "    restart() {",
                    "        this.paused = false;",
                    "        this.particleNum = 0;",
                    "        this.emissionState.burstIndex = 0;",
                    "        this.emissionState.burstWaveIndex = 0;",
                    "        this.emissionState.time = 0;",
                    "        this.emissionState.waitEmiting = 0;",
                    "        this.behaviors.forEach((behavior) => {",
                    "            behavior.reset();",
                    "        });",
                    "        this.emitEnded = false;",
                    "        this.markForDestroy = false;",
                    "        this.prewarmed = false;",
                    "    }",
                    "    update(delta) {",
                    "        if (this.paused)",
                    "            return;",
                    "        let currentParent = this.emitter;",
                    "        while (currentParent.parent) {",
                    "            currentParent = currentParent.parent;",
                    "        }",
                    "        if (currentParent.type !== 'Scene') {",
                    "            this.dispose();",
                    "            return;",
                    "        }",
                    "        if (this.firstTimeUpdate) {",
                    "            this.firstTimeUpdate = false;",
                    "            this.emitter.updateWorldMatrix(true, false);",
                    "        }",
                    "        if (this.emitEnded && this.particleNum === 0) {",
                    "            if (this.markForDestroy && this.emitter.parent)",
                    "                this.dispose();",
                    "            return;",
                    "        }",
                    "        if (this.looping && this.prewarm && !this.prewarmed) {",
                    "            this.prewarmed = true;",
                    "            for (let i = 0; i < this.duration * PREWARM_FPS$1; i++) {",
                    "                this.update(1.0 / PREWARM_FPS$1);",
                    "            }",
                    "        }",
                    "        if (delta > 0.1) {",
                    "            delta = 0.1;",
                    "        }",
                    "        if (this.neededToUpdateRender) {",
                    "            if (this._renderer)",
                    "                this._renderer.updateSystem(this);",
                    "            this.neededToUpdateRender = false;",
                    "        }",
                    "        if (!this.onlyUsedByOther) {",
                    "            this.emit(delta, this.emissionState, this.emitter.matrixWorld);",
                    "        }",
                    "        this.emitterShape.update(this, delta);",
                    "        for (let j = 0; j < this.behaviors.length; j++) {",
                    "            for (let i = 0; i < this.particleNum; i++) {",
                    "                if (!this.particles[i].died) {",
                    "                    this.behaviors[j].update(this.particles[i], delta);",
                    "                }",
                    "            }",
                    "            this.behaviors[j].frameUpdate(delta);",
                    "        }",
                    "        for (let i = 0; i < this.particleNum; i++) {",
                    "            if (this.rendererEmitterSettings.followLocalOrigin &&",
                    "                this.particles[i].localPosition) {",
                    "                this.particles[i].position.copy(this.particles[i].localPosition);",
                    "                if (this.particles[i].parentMatrix) {",
                    "                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);",
                    "                }",
                    "                else {",
                    "                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);",
                    "                }",
                    "            }",
                    "            else {",
                    "                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta * this.particles[i].speedModifier);",
                    "            }",
                    "            this.particles[i].age += delta;",
                    "        }",
                    "        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            for (let i = 0; i < this.particleNum; i++) {",
                    "                const particle = this.particles[i];",
                    "                particle.update();",
                    "            }",
                    "        }",
                    "        for (let i = 0; i < this.particleNum; i++) {",
                    "            const particle = this.particles[i];",
                    "            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {",
                    "                this.particles[i] = this.particles[this.particleNum - 1];",
                    "                this.particles[this.particleNum - 1] = particle;",
                    "                this.particleNum--;",
                    "                i--;",
                    "            }",
                    "        }",
                    "    }",
                    "    emit(delta, emissionState, emitterMatrix) {",
                    "        if (emissionState.time > this.duration) {",
                    "            if (this.looping) {",
                    "                emissionState.time -= this.duration;",
                    "                emissionState.burstIndex = 0;",
                    "                this.behaviors.forEach((behavior) => {",
                    "                    behavior.reset();",
                    "                });",
                    "            }",
                    "            else {",
                    "                if (!this.emitEnded && !this.onlyUsedByOther) {",
                    "                    this.endEmit();",
                    "                }",
                    "            }",
                    "        }",
                    "        this.normalMatrix.getNormalMatrix(emitterMatrix);",
                    "        const totalSpawn = Math.ceil(emissionState.waitEmiting);",
                    "        this.spawn(totalSpawn, emissionState, emitterMatrix);",
                    "        emissionState.waitEmiting -= totalSpawn;",
                    "        while (emissionState.burstIndex < this.emissionBursts.length &&",
                    "            this.emissionBursts[emissionState.burstIndex].time <= emissionState.time) {",
                    "            if (Math.random() < this.emissionBursts[emissionState.burstIndex].probability) {",
                    "                const count = this.emissionBursts[emissionState.burstIndex].count.genValue(this.time);",
                    "                this.spawn(count, emissionState, emitterMatrix);",
                    "            }",
                    "            emissionState.burstIndex++;",
                    "        }",
                    "        if (!this.emitEnded) {",
                    "            emissionState.waitEmiting += delta * this.emissionOverTime.genValue(emissionState.time / this.duration);",
                    "            if (emissionState.previousWorldPos != undefined) {",
                    "                this.temp.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);",
                    "                emissionState.travelDistance += emissionState.previousWorldPos.distanceTo(this.temp);",
                    "                const emitPerMeter = this.emissionOverDistance.genValue(emissionState.time / this.duration);",
                    "                if (emissionState.travelDistance * emitPerMeter > 0) {",
                    "                    const count = Math.floor(emissionState.travelDistance * emitPerMeter);",
                    "                    emissionState.travelDistance -= count / emitPerMeter;",
                    "                    emissionState.waitEmiting += count;",
                    "                }",
                    "            }",
                    "        }",
                    "        if (emissionState.previousWorldPos === undefined)",
                    "            emissionState.previousWorldPos = new THREE.Vector3();",
                    "        emissionState.previousWorldPos.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);",
                    "        emissionState.time += delta;",
                    "    }",
                    "    toJSON(meta, options = {}) {",
                    "        const isRootObject = meta === undefined || typeof meta === 'string';",
                    "        if (isRootObject) {",
                    "            meta = {",
                    "                geometries: {},",
                    "                materials: {},",
                    "                textures: {},",
                    "                images: {},",
                    "                shapes: {},",
                    "                skeletons: {},",
                    "                animations: {},",
                    "                nodes: {},",
                    "            };",
                    "        }",
                    "        meta.materials[this.rendererSettings.material.uuid] = this.rendererSettings.material.toJSON(meta);",
                    "        if (options.useUrlForImage) {",
                    "            if (this.texture.source !== undefined) {",
                    "                const image = this.texture.source;",
                    "                meta.images[image.uuid] = {",
                    "                    uuid: image.uuid,",
                    "                    url: this.texture.image.url,",
                    "                };",
                    "            }",
                    "        }",
                    "        let rendererSettingsJSON;",
                    "        if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            rendererSettingsJSON = {",
                    "                startLength: this.rendererEmitterSettings.startLength.toJSON(),",
                    "                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,",
                    "            };",
                    "        }",
                    "        else if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "            rendererSettingsJSON = {};",
                    "        }",
                    "        else if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            rendererSettingsJSON = {",
                    "                speedFactor: this.rendererEmitterSettings.speedFactor,",
                    "                lengthFactor: this.rendererEmitterSettings.lengthFactor,",
                    "            };",
                    "        }",
                    "        else {",
                    "            rendererSettingsJSON = {};",
                    "        }",
                    "        const geometry = this.rendererSettings.instancingGeometry;",
                    "        if (meta.geometries && !meta.geometries[geometry.uuid]) {",
                    "            meta.geometries[geometry.uuid] = geometry.toJSON();",
                    "        }",
                    "        return {",
                    "            version: '2.0',",
                    "            autoDestroy: this.autoDestroy,",
                    "            looping: this.looping,",
                    "            prewarm: this.prewarm,",
                    "            duration: this.duration,",
                    "            shape: this.emitterShape.toJSON(),",
                    "            startLife: this.startLife.toJSON(),",
                    "            startSpeed: this.startSpeed.toJSON(),",
                    "            startRotation: this.startRotation.toJSON(),",
                    "            startSize: this.startSize.toJSON(),",
                    "            startColor: this.startColor.toJSON(),",
                    "            emissionOverTime: this.emissionOverTime.toJSON(),",
                    "            emissionOverDistance: this.emissionOverDistance.toJSON(),",
                    "            emissionBursts: this.emissionBursts.map((burst) => ({",
                    "                time: burst.time,",
                    "                count: burst.count.toJSON(),",
                    "                probability: burst.probability,",
                    "                interval: burst.interval,",
                    "                cycle: burst.cycle,",
                    "            })),",
                    "            onlyUsedByOther: this.onlyUsedByOther,",
                    "            instancingGeometry: this.rendererSettings.instancingGeometry.uuid,",
                    "            renderOrder: this.renderOrder,",
                    "            renderMode: this.renderMode,",
                    "            rendererEmitterSettings: rendererSettingsJSON,",
                    "            material: this.rendererSettings.material.uuid,",
                    "            layers: this.layers.mask,",
                    "            startTileIndex: this.startTileIndex.toJSON(),",
                    "            uTileCount: this.uTileCount,",
                    "            vTileCount: this.vTileCount,",
                    "            behaviors: this.behaviors.map((behavior) => behavior.toJSON()),",
                    "            worldSpace: this.worldSpace,",
                    "        };",
                    "    }",
                    "    static fromJSON(json, meta, dependencies) {",
                    "        var _a, _b;",
                    "        const shape = EmitterFromJSON(json.shape, meta);",
                    "        let rendererEmitterSettings;",
                    "        if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            let trailSettings = json.rendererEmitterSettings;",
                    "            rendererEmitterSettings = {",
                    "                startLength: trailSettings.startLength != undefined",
                    "                    ? ValueGeneratorFromJSON(trailSettings.startLength)",
                    "                    : new ConstantValue(30),",
                    "                followLocalOrigin: trailSettings.followLocalOrigin,",
                    "            };",
                    "        }",
                    "        else if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "            rendererEmitterSettings = {};",
                    "        }",
                    "        else if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            rendererEmitterSettings = json.rendererEmitterSettings;",
                    "            if (json.speedFactor != undefined) {",
                    "                rendererEmitterSettings.speedFactor = json.speedFactor;",
                    "            }",
                    "        }",
                    "        else {",
                    "            rendererEmitterSettings = {};",
                    "        }",
                    "        const layers = new THREE.Layers();",
                    "        if (json.layers) {",
                    "            layers.mask = json.layers;",
                    "        }",
                    "        const ps = new ParticleSystem({",
                    "            autoDestroy: json.autoDestroy,",
                    "            looping: json.looping,",
                    "            prewarm: json.prewarm,",
                    "            duration: json.duration,",
                    "            shape: shape,",
                    "            startLife: ValueGeneratorFromJSON(json.startLife),",
                    "            startSpeed: ValueGeneratorFromJSON(json.startSpeed),",
                    "            startRotation: GeneratorFromJSON(json.startRotation),",
                    "            startSize: ValueGeneratorFromJSON(json.startSize),",
                    "            startColor: ColorGeneratorFromJSON(json.startColor),",
                    "            emissionOverTime: ValueGeneratorFromJSON(json.emissionOverTime),",
                    "            emissionOverDistance: ValueGeneratorFromJSON(json.emissionOverDistance),",
                    "            emissionBursts: (_a = json.emissionBursts) === null || _a === void 0 ? void 0 : _a.map((burst) => ({",
                    "                time: burst.time,",
                    "                count: typeof burst.count === 'number'",
                    "                    ? new ConstantValue(burst.count)",
                    "                    : ValueGeneratorFromJSON(burst.count),",
                    "                probability: burst.probability,",
                    "                interval: burst.interval,",
                    "                cycle: burst.cycle,",
                    "            })),",
                    "            onlyUsedByOther: json.onlyUsedByOther,",
                    "            instancingGeometry: meta.geometries[json.instancingGeometry],",
                    "            renderMode: json.renderMode,",
                    "            rendererEmitterSettings: rendererEmitterSettings,",
                    "            renderOrder: json.renderOrder,",
                    "            layers: layers,",
                    "            material: json.material",
                    "                ? meta.materials[json.material]",
                    "                : json.texture",
                    "                    ? new THREE.MeshBasicMaterial({",
                    "                        map: meta.textures[json.texture],",
                    "                        transparent: (_b = json.transparent) !== null && _b !== void 0 ? _b : true,",
                    "                        blending: json.blending,",
                    "                        side: THREE.DoubleSide,",
                    "                    })",
                    "                    : new THREE.MeshBasicMaterial({",
                    "                        color: 0xffffff,",
                    "                        transparent: true,",
                    "                        blending: THREE.AdditiveBlending,",
                    "                        side: THREE.DoubleSide,",
                    "                    }),",
                    "            startTileIndex: typeof json.startTileIndex === 'number'",
                    "                ? new ConstantValue(json.startTileIndex)",
                    "                : ValueGeneratorFromJSON(json.startTileIndex),",
                    "            uTileCount: json.uTileCount,",
                    "            vTileCount: json.vTileCount,",
                    "            behaviors: [],",
                    "            worldSpace: json.worldSpace,",
                    "        });",
                    "        ps.behaviors = json.behaviors.map((behaviorJson) => {",
                    "            const behavior = BehaviorFromJSON(behaviorJson, ps);",
                    "            if (behavior.type === 'EmitSubParticleSystem') {",
                    "                dependencies[behaviorJson.subParticleSystem] = behavior;",
                    "            }",
                    "            return behavior;",
                    "        });",
                    "        return ps;",
                    "    }",
                    "    addBehavior(behavior) {",
                    "        this.behaviors.push(behavior);",
                    "    }",
                    "    getRendererSettings() {",
                    "        return this.rendererSettings;",
                    "    }",
                    "    clone() {",
                    "        const newEmissionBursts = [];",
                    "        for (const emissionBurst of this.emissionBursts) {",
                    "            const newEmissionBurst = {};",
                    "            Object.assign(newEmissionBurst, emissionBurst);",
                    "            newEmissionBursts.push(newEmissionBurst);",
                    "        }",
                    "        const newBehaviors = [];",
                    "        for (const behavior of this.behaviors) {",
                    "            newBehaviors.push(behavior.clone());",
                    "        }",
                    "        let rendererEmitterSettings;",
                    "        if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            rendererEmitterSettings = {",
                    "                startLength: this.rendererEmitterSettings.startLength.clone(),",
                    "                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,",
                    "            };",
                    "        }",
                    "        else {",
                    "            rendererEmitterSettings = {};",
                    "        }",
                    "        const layers = new THREE.Layers();",
                    "        layers.mask = this.layers.mask;",
                    "        return new ParticleSystem({",
                    "            autoDestroy: this.autoDestroy,",
                    "            looping: this.looping,",
                    "            duration: this.duration,",
                    "            shape: this.emitterShape.clone(),",
                    "            startLife: this.startLife.clone(),",
                    "            startSpeed: this.startSpeed.clone(),",
                    "            startRotation: this.startRotation.clone(),",
                    "            startSize: this.startSize.clone(),",
                    "            startColor: this.startColor.clone(),",
                    "            emissionOverTime: this.emissionOverTime.clone(),",
                    "            emissionOverDistance: this.emissionOverDistance.clone(),",
                    "            emissionBursts: newEmissionBursts,",
                    "            onlyUsedByOther: this.onlyUsedByOther,",
                    "            instancingGeometry: this.rendererSettings.instancingGeometry,",
                    "            renderMode: this.renderMode,",
                    "            renderOrder: this.renderOrder,",
                    "            rendererEmitterSettings: rendererEmitterSettings,",
                    "            material: this.rendererSettings.material,",
                    "            startTileIndex: this.startTileIndex,",
                    "            uTileCount: this.uTileCount,",
                    "            vTileCount: this.vTileCount,",
                    "            behaviors: newBehaviors,",
                    "            worldSpace: this.worldSpace,",
                    "            layers: layers,",
                    "        });",
                    "    }",
                    "}",
                    "",
                    "var particle_frag = `",
                    "",
                    "#include <common>",
                    "#include <uv_pars_fragment>",
                    "#include <color_pars_fragment>",
                    "#include <map_pars_fragment>",
                    "#include <logdepthbuf_pars_fragment>",
                    "#include <clipping_planes_pars_fragment>",
                    "#include <alphatest_pars_fragment>",
                    "",
                    "void main() {",
                    "",
                    "    #include <clipping_planes_fragment>",
                    "    ",
                    "    vec3 outgoingLight = vec3( 0.0 );",
                    "    vec4 diffuseColor = vColor;",
                    "    ",
                    "    #include <logdepthbuf_fragment>",
                    "    ",
                    "    #ifdef USE_MAP",
                    "    diffuseColor *= texture2D( map, vMapUv);",
                    "    #endif",
                    "    ",
                    "    #include <alphatest_fragment>",
                    "",
                    "    outgoingLight = diffuseColor.rgb;",
                    "    ",
                    "    #ifdef USE_COLOR_AS_ALPHA",
                    "    gl_FragColor = vec4( outgoingLight, diffuseColor.r );",
                    "    #else",
                    "    gl_FragColor = vec4( outgoingLight, diffuseColor.a );",
                    "    #endif",
                    "    ",
                    "    ",
                    "    #include <tonemapping_fragment>",
                    "",
                    "}",
                    "`;",
                    "",
                    "var particle_physics_frag = `",
                    "#define STANDARD",
                    "#ifdef PHYSICAL",
                    "#define IOR",
                    "#define SPECULAR",
                    "#endif",
                    "uniform vec3 diffuse;",
                    "uniform vec3 emissive;",
                    "uniform float roughness;",
                    "uniform float metalness;",
                    "uniform float opacity;",
                    "#ifdef IOR",
                    "uniform float ior;",
                    "#endif",
                    "#ifdef SPECULAR",
                    "uniform float specularIntensity;",
                    "uniform vec3 specularColor;",
                    "#ifdef USE_SPECULARINTENSITYMAP",
                    "uniform sampler2D specularIntensityMap;",
                    "#endif",
                    "#ifdef USE_SPECULARCOLORMAP",
                    "uniform sampler2D specularColorMap;",
                    "#endif",
                    "#endif",
                    "#ifdef USE_CLEARCOAT",
                    "uniform float clearcoat;",
                    "uniform float clearcoatRoughness;",
                    "#endif",
                    "#ifdef USE_IRIDESCENCE",
                    "uniform float iridescence;",
                    "uniform float iridescenceIOR;",
                    "uniform float iridescenceThicknessMinimum;",
                    "uniform float iridescenceThicknessMaximum;",
                    "#endif",
                    "#ifdef USE_SHEEN",
                    "uniform vec3 sheenColor;",
                    "uniform float sheenRoughness;",
                    "#ifdef USE_SHEENCOLORMAP",
                    "uniform sampler2D sheenColorMap;",
                    "#endif",
                    "#ifdef USE_SHEENROUGHNESSMAP",
                    "uniform sampler2D sheenRoughnessMap;",
                    "#endif",
                    "#endif",
                    "",
                    "varying vec3 vViewPosition;",
                    "#include <common>",
                    "#include <packing>",
                    "#include <dithering_pars_fragment>",
                    "#include <color_pars_fragment>",
                    "#include <uv_pars_fragment>",
                    "#include <map_pars_fragment>",
                    "#include <alphamap_pars_fragment>",
                    "#include <alphatest_pars_fragment>",
                    "#include <aomap_pars_fragment>",
                    "#include <lightmap_pars_fragment>",
                    "#include <emissivemap_pars_fragment>",
                    "#include <bsdfs>",
                    "#include <iridescence_fragment>",
                    "#include <cube_uv_reflection_fragment>",
                    "#include <envmap_common_pars_fragment>",
                    "#include <envmap_physical_pars_fragment>",
                    "#include <fog_pars_fragment>",
                    "#include <lights_pars_begin>",
                    "#include <normal_pars_fragment>",
                    "#include <lights_physical_pars_fragment>",
                    "#include <transmission_pars_fragment>",
                    "#include <shadowmap_pars_fragment>",
                    "#include <bumpmap_pars_fragment>",
                    "#include <normalmap_pars_fragment>",
                    "#include <clearcoat_pars_fragment>",
                    "#include <iridescence_pars_fragment>",
                    "#include <roughnessmap_pars_fragment>",
                    "#include <metalnessmap_pars_fragment>",
                    "#include <logdepthbuf_pars_fragment>",
                    "#include <clipping_planes_pars_fragment>",
                    "",
                    "void main() {",
                    "    #include <clipping_planes_fragment>",
                    "    vec4 diffuseColor = vec4( diffuse, opacity );",
                    "    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",
                    "    vec3 totalEmissiveRadiance = emissive;",
                    "    #include <logdepthbuf_fragment>",
                    "    #include <map_fragment>",
                    "    #include <color_fragment>",
                    "    #include <alphamap_fragment>",
                    "    #include <alphatest_fragment>",
                    "    #include <roughnessmap_fragment>",
                    "    #include <metalnessmap_fragment>",
                    "    #include <normal_fragment_begin>",
                    "    #include <normal_fragment_maps>",
                    "    #include <clearcoat_normal_fragment_begin>",
                    "    #include <clearcoat_normal_fragment_maps>",
                    "    #include <emissivemap_fragment>",
                    "    // accumulation",
                    "    #include <lights_physical_fragment>",
                    "    #include <lights_fragment_begin>",
                    "    #include <lights_fragment_maps>",
                    "    #include <lights_fragment_end>",
                    "    // modulation",
                    "    #include <aomap_fragment>",
                    "    vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;",
                    "    vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;",
                    "    #include <transmission_fragment>",
                    "    vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;",
                    "    #ifdef USE_SHEEN",
                    "    // Sheen energy compensation approximation calculation can be found at the end of",
                    "        // https://drive.google.com/file/d/1T0D1VSyR4AllqIJTQAraEIzjlb5h4FKH/view?usp=sharing",
                    "        float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );",
                    "        outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;",
                    "    #endif",
                    "    #ifdef USE_CLEARCOAT",
                    "        float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );",
                    "        vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );",
                    "        outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;",
                    "    #endif",
                    "    #include <output_fragment>",
                    "    #include <tonemapping_fragment>",
                    "    #include <encodings_fragment>",
                    "    #include <fog_fragment>",
                    "    #include <premultiplied_alpha_fragment>",
                    "    #include <dithering_fragment>",
                    "}`;",
                    "",
                    "var uv_vertex_tile = `",
                    "",
                    "    #ifdef UV_TILE",
                    "        float col = mod(uvTile, tileCount.x);",
                    "        float row = (tileCount.y - floor(uvTile / tileCount.x) - 1.0);",
                    "        ",
                    "        mat3 tileTransform = mat3(",
                    "          1.0 / tileCount.x, 0.0, 0.0,",
                    "          0.0, 1.0 / tileCount.y, 0.0, ",
                    "          col / tileCount.x, row / tileCount.y, 1.0);",
                    "    #else",
                    "        mat3 tileTransform = mat3(1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0);",
                    "    #endif",
                    "",
                    "#if defined( USE_UV ) || defined( USE_ANISOTROPY )",
                    "",
                    "vUv = (tileTransform *vec3( uv, 1 )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_MAP",
                    "",
                    "vMapUv = ( tileTransform * (mapTransform * vec3( MAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_ALPHAMAP",
                    "",
                    "vAlphaMapUv = ( tileTransform * (alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_LIGHTMAP",
                    "",
                    "vLightMapUv = ( tileTransform * (lightMapTransform * vec3( LIGHTMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_AOMAP",
                    "",
                    "vAoMapUv = ( tileTransform * (aoMapTransform * vec3( AOMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_BUMPMAP",
                    "",
                    "vBumpMapUv = ( tileTransform * (bumpMapTransform * vec3( BUMPMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_NORMALMAP",
                    "",
                    "vNormalMapUv = ( tileTransform * (normalMapTransform * vec3( NORMALMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_DISPLACEMENTMAP",
                    "",
                    "vDisplacementMapUv = ( tileTransform * (displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_EMISSIVEMAP",
                    "",
                    "vEmissiveMapUv = ( tileTransform * (emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_METALNESSMAP",
                    "",
                    "vMetalnessMapUv = ( tileTransform * (metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_ROUGHNESSMAP",
                    "",
                    "vRoughnessMapUv = ( tileTransform * (roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_ANISOTROPYMAP",
                    "",
                    "vAnisotropyMapUv = ( tileTransform * (anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_CLEARCOATMAP",
                    "",
                    "vClearcoatMapUv = ( tileTransform * (clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_CLEARCOAT_NORMALMAP",
                    "",
                    "vClearcoatNormalMapUv = ( tileTransform * (clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_CLEARCOAT_ROUGHNESSMAP",
                    "",
                    "vClearcoatRoughnessMapUv = ( tileTransform * (clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_IRIDESCENCEMAP",
                    "",
                    "vIridescenceMapUv = ( tileTransform * (iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_IRIDESCENCE_THICKNESSMAP",
                    "",
                    "vIridescenceThicknessMapUv = ( tileTransform * (iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_SHEEN_COLORMAP",
                    "",
                    "vSheenColorMapUv = ( tileTransform * (sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_SHEEN_ROUGHNESSMAP",
                    "",
                    "vSheenRoughnessMapUv = ( tileTransform * (sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_SPECULARMAP",
                    "",
                    "vSpecularMapUv = ( tileTransform * (specularMapTransform * vec3( SPECULARMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_SPECULAR_COLORMAP",
                    "",
                    "vSpecularColorMapUv = ( tileTransform * (specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_SPECULAR_INTENSITYMAP",
                    "",
                    "vSpecularIntensityMapUv = ( tileTransform * (specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_TRANSMISSIONMAP",
                    "",
                    "vTransmissionMapUv = ( tileTransform * transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "#ifdef USE_THICKNESSMAP",
                    "",
                    "vThicknessMapUv = ( tileTransform * thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) )).xy;",
                    "",
                    "#endif",
                    "`;",
                    "",
                    "var particle_vert = `",
                    "#include <common>",
                    "#include <color_pars_vertex>",
                    "#include <uv_pars_vertex>",
                    "#include <logdepthbuf_pars_vertex>",
                    "#include <clipping_planes_pars_vertex>",
                    "",
                    "attribute vec3 offset;",
                    "attribute float rotation;",
                    "attribute float size;",
                    "attribute float uvTile;",
                    "",
                    "#ifdef UV_TILE",
                    "uniform vec2 tileCount;",
                    "#endif",
                    "",
                    "void main() {",
                    "",
                    "    ${uv_vertex_tile}",
                    "\t",
                    "    vec2 alignedPosition = ( position.xy ) * size;",
                    "    ",
                    "    vec2 rotatedPosition;",
                    "    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;",
                    "    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;",
                    "#ifdef HORIZONTAL",
                    "    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );",
                    "    mvPosition.x += rotatedPosition.x;",
                    "    mvPosition.z -= rotatedPosition.y;",
                    "    mvPosition = viewMatrix * mvPosition;",
                    "#elif defined(VERTICAL)",
                    "    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );",
                    "    mvPosition.y += rotatedPosition.y;",
                    "    mvPosition = viewMatrix * mvPosition;",
                    "    mvPosition.x += rotatedPosition.x;",
                    "#else",
                    "    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );",
                    "    mvPosition.xy += rotatedPosition;",
                    "#endif",
                    "",
                    "\tvColor = color;",
                    "",
                    "\tgl_Position = projectionMatrix * mvPosition;",
                    "",
                    "\t#include <logdepthbuf_vertex>",
                    "\t#include <clipping_planes_vertex>",
                    "",
                    "}",
                    "`;",
                    "",
                    "var local_particle_vert = `",
                    "#include <common>",
                    "#include <uv_pars_vertex>",
                    "#include <color_pars_vertex>",
                    "#include <logdepthbuf_pars_vertex>",
                    "#include <clipping_planes_pars_vertex>",
                    "",
                    "attribute vec3 offset;",
                    "attribute vec4 rotation;",
                    "attribute float size;",
                    "// attribute vec4 color;",
                    "attribute float uvTile;",
                    "",
                    "#ifdef UV_TILE",
                    "uniform vec2 tileCount;",
                    "#endif",
                    "",
                    "void main() {",
                    "",
                    "    ${uv_vertex_tile}",
                    "    ",
                    "    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;",
                    "    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;",
                    "    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;",
                    "    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;",
                    "    float sx = size, sy = size, sz = size;",
                    "    ",
                    "    mat4 matrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column",
                    "                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column",
                    "                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column",
                    "                      offset.x, offset.y, offset.z, 1.0);",
                    "    ",
                    "    vec4 mvPosition = modelViewMatrix * (matrix * vec4( position, 1.0 ));",
                    "",
                    "\tvColor = color;",
                    "",
                    "\tgl_Position = projectionMatrix * mvPosition;",
                    "",
                    "\t#include <logdepthbuf_vertex>",
                    "\t#include <clipping_planes_vertex>",
                    "",
                    "}",
                    "`;",
                    "",
                    "var local_particle_physics_vert = `",
                    "#define STANDARD",
                    "varying vec3 vViewPosition;",
                    "#ifdef USE_TRANSMISSION",
                    "\tvarying vec3 vWorldPosition;",
                    "#endif",
                    "#include <common>",
                    "#include <uv_pars_vertex>",
                    "",
                    "attribute vec3 offset;",
                    "attribute vec4 rotation;",
                    "attribute float size;",
                    "attribute float uvTile;",
                    "",
                    "#ifdef UV_TILE",
                    "uniform vec2 tileCount;",
                    "#endif",
                    "",
                    "#include <displacementmap_pars_vertex>",
                    "#include <color_pars_vertex>",
                    "#include <fog_pars_vertex>",
                    "#include <normal_pars_vertex>",
                    "#include <morphtarget_pars_vertex>",
                    "#include <skinning_pars_vertex>",
                    "#include <shadowmap_pars_vertex>",
                    "#include <logdepthbuf_pars_vertex>",
                    "#include <clipping_planes_pars_vertex>",
                    "",
                    "void main() {",
                    "    ${uv_vertex_tile}",
                    "",
                    "    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;",
                    "    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;",
                    "    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;",
                    "    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;",
                    "    float sx = size, sy = size, sz = size;",
                    "",
                    "    mat4 particleMatrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column",
                    "                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column",
                    "                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column",
                    "                      offset.x, offset.y, offset.z, 1.0);",
                    "",
                    "\t#include <color_vertex>",
                    "\t#include <morphcolor_vertex>",
                    "\t#include <beginnormal_vertex>",
                    "\t#include <morphnormal_vertex>",
                    "\t#include <skinbase_vertex>",
                    "\t#include <skinnormal_vertex>",
                    "",
                    "\t// replace defaultnormal_vertex",
                    "\tvec3 transformedNormal = objectNormal;",
                    "    mat3 m = mat3( particleMatrix );",
                    "    transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );",
                    "    transformedNormal = m * transformedNormal;",
                    "    transformedNormal = normalMatrix * transformedNormal;",
                    "    #ifdef FLIP_SIDED",
                    "        transformedNormal = - transformedNormal;",
                    "    #endif",
                    "    #ifdef USE_TANGENT",
                    "        vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;",
                    "        #ifdef FLIP_SIDED",
                    "        transformedTangent = - transformedTangent;",
                    "        #endif",
                    "    #endif",
                    "",
                    "\t#include <normal_vertex>",
                    "\t#include <begin_vertex>",
                    "\t#include <morphtarget_vertex>",
                    "\t#include <skinning_vertex>",
                    "\t#include <displacementmap_vertex>",
                    "",
                    "\t// replace include <project_vertex>",
                    "  vec4 mvPosition = vec4( transformed, 1.0 );",
                    "  mvPosition = modelViewMatrix * (particleMatrix * mvPosition);",
                    "\tgl_Position = projectionMatrix * mvPosition;",
                    "",
                    "\t#include <logdepthbuf_vertex>",
                    "\t#include <clipping_planes_vertex>",
                    "\t",
                    "\tvViewPosition = - mvPosition.xyz;",
                    "\t",
                    "\t#include <worldpos_vertex>",
                    "\t#include <shadowmap_vertex>",
                    "\t#include <fog_vertex>",
                    "#ifdef USE_TRANSMISSION",
                    "\tvWorldPosition = worldPosition.xyz;",
                    "#endif",
                    "}",
                    "`;",
                    "",
                    "var stretched_bb_particle_vert = `",
                    "#include <common>",
                    "#include <uv_pars_vertex>",
                    "#include <color_pars_vertex>",
                    "#include <logdepthbuf_pars_vertex>",
                    "#include <clipping_planes_pars_vertex>",
                    "",
                    "attribute vec3 offset;",
                    "attribute float rotation;",
                    "attribute float size;",
                    "attribute vec4 velocity;",
                    "attribute float uvTile;",
                    "",
                    "#ifdef UV_TILE",
                    "uniform vec2 tileCount;",
                    "#endif",
                    "",
                    "uniform float speedFactor;",
                    "",
                    "void main() {",
                    "",
                    "    ${uv_vertex_tile}",
                    "    ",
                    "    float lengthFactor = velocity.w;",
                    "#ifdef USE_SKEW",
                    "    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );",
                    "    vec3 viewVelocity = normalMatrix * velocity.xyz;",
                    "",
                    "    vec3 scaledPos = vec3(position.xy * size, position.z);",
                    "    float vlength = length(viewVelocity);",
                    "    vec3 projVelocity =  dot(scaledPos, viewVelocity) * viewVelocity / vlength;",
                    "    mvPosition.xyz += scaledPos + projVelocity * (speedFactor / size + lengthFactor / vlength);",
                    "#else",
                    "    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );",
                    "    vec3 viewVelocity = normalMatrix * velocity.xyz;",
                    "    float vlength = length(viewVelocity); ",
                    "    mvPosition.xyz += position.y * normalize(cross(mvPosition.xyz, viewVelocity)) * size; // switch the cross to  match unity implementation",
                    "    mvPosition.xyz -= (position.x + 0.5) * viewVelocity * (1.0 + lengthFactor / vlength) * size; // minus position.x to match unity implementation",
                    "#endif",
                    "\tvColor = color;",
                    "\tgl_Position = projectionMatrix * mvPosition;",
                    "\t#include <logdepthbuf_vertex>",
                    "\t#include <clipping_planes_vertex>",
                    "}",
                    "`;",
                    "",
                    "function getMaterialUVChannelName(value) {",
                    "    if (value === 0)",
                    "        return 'uv';",
                    "    return `uv${value}`;",
                    "}",
                    "",
                    "new THREE.Vector3(0, 0, 1);",
                    "class SpriteBatch extends VFXBatch {",
                    "    constructor(settings) {",
                    "        super(settings);",
                    "        this.vector_ = new THREE.Vector3();",
                    "        this.vector2_ = new THREE.Vector3();",
                    "        this.vector3_ = new THREE.Vector3();",
                    "        this.quaternion_ = new THREE.Quaternion();",
                    "        this.quaternion2_ = new THREE.Quaternion();",
                    "        this.quaternion3_ = new THREE.Quaternion();",
                    "        this.rotationMat_ = new THREE.Matrix3();",
                    "        this.rotationMat2_ = new THREE.Matrix3();",
                    "        this.maxParticles = 1000;",
                    "        this.setupBuffers();",
                    "        this.rebuildMaterial();",
                    "    }",
                    "    buildExpandableBuffers() {",
                    "        this.offsetBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 3), 3);",
                    "        this.offsetBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('offset', this.offsetBuffer);",
                    "        this.colorBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);",
                    "        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('color', this.colorBuffer);",
                    "        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);",
                    "            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "            this.geometry.setAttribute('rotation', this.rotationBuffer);",
                    "        }",
                    "        else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);",
                    "            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "            this.geometry.setAttribute('rotation', this.rotationBuffer);",
                    "        }",
                    "        this.sizeBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);",
                    "        this.sizeBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('size', this.sizeBuffer);",
                    "        this.uvTileBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);",
                    "        this.uvTileBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('uvTile', this.uvTileBuffer);",
                    "        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            this.velocityBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);",
                    "            this.velocityBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "            this.geometry.setAttribute('velocity', this.velocityBuffer);",
                    "        }",
                    "    }",
                    "    setupBuffers() {",
                    "        if (this.geometry)",
                    "            this.geometry.dispose();",
                    "        this.geometry = new THREE.InstancedBufferGeometry();",
                    "        this.geometry.setIndex(this.settings.instancingGeometry.getIndex());",
                    "        if (this.settings.instancingGeometry.hasAttribute('normal')) {",
                    "            this.geometry.setAttribute('normal', this.settings.instancingGeometry.getAttribute('normal'));",
                    "        }",
                    "        this.geometry.setAttribute('position', this.settings.instancingGeometry.getAttribute('position'));",
                    "        this.geometry.setAttribute('uv', this.settings.instancingGeometry.getAttribute('uv'));",
                    "        this.buildExpandableBuffers();",
                    "    }",
                    "    expandBuffers(target) {",
                    "        while (target >= this.maxParticles) {",
                    "            this.maxParticles *= 2;",
                    "        }",
                    "        this.setupBuffers();",
                    "    }",
                    "    rebuildMaterial() {",
                    "        this.layers.mask = this.settings.layers.mask;",
                    "        let uniforms;",
                    "        const defines = {};",
                    "        if (this.settings.material.type === 'MeshStandardMaterial' ||",
                    "            this.settings.material.type === 'MeshPhysicalMaterial') {",
                    "            const mat = this.settings.material;",
                    "            uniforms = THREE.UniformsUtils.merge([",
                    "                THREE.UniformsLib.common,",
                    "                THREE.UniformsLib.envmap,",
                    "                THREE.UniformsLib.aomap,",
                    "                THREE.UniformsLib.lightmap,",
                    "                THREE.UniformsLib.emissivemap,",
                    "                THREE.UniformsLib.bumpmap,",
                    "                THREE.UniformsLib.normalmap,",
                    "                THREE.UniformsLib.displacementmap,",
                    "                THREE.UniformsLib.roughnessmap,",
                    "                THREE.UniformsLib.metalnessmap,",
                    "                THREE.UniformsLib.fog,",
                    "                THREE.UniformsLib.lights,",
                    "                {",
                    "                    emissive: { value: new THREE.Color(0x000000) },",
                    "                    roughness: { value: 1.0 },",
                    "                    metalness: { value: 0.0 },",
                    "                    envMapIntensity: { value: 1 },",
                    "                },",
                    "            ]);",
                    "            uniforms['diffuse'].value = mat.color;",
                    "            uniforms['opacity'].value = mat.opacity;",
                    "            uniforms['emissive'].value = mat.emissive;",
                    "            uniforms['roughness'].value = mat.roughness;",
                    "            uniforms['metalness'].value = mat.metalness;",
                    "            if (mat.envMap) {",
                    "                uniforms['envMap'].value = mat.envMap;",
                    "                uniforms['envMapIntensity'].value = mat.envMapIntensity;",
                    "            }",
                    "            if (mat.normalMap) {",
                    "                uniforms['normalMap'].value = mat.normalMap;",
                    "                uniforms['normalScale'].value = mat.normalScale;",
                    "            }",
                    "            if (mat.roughnessMap) {",
                    "                uniforms['roughnessMap'].value = mat.roughnessMap;",
                    "            }",
                    "            if (mat.metalnessMap) {",
                    "                uniforms['metalnessMap'].value = mat.metalnessMap;",
                    "            }",
                    "            if (mat.map) {",
                    "                uniforms['map'] = new THREE.Uniform(mat.map);",
                    "            }",
                    "        }",
                    "        else {",
                    "            uniforms = {};",
                    "            uniforms['map'] = new THREE.Uniform(this.settings.material.map);",
                    "        }",
                    "        if (this.settings.material.alphaTest) {",
                    "            defines['USE_ALPHATEST'] = '';",
                    "            uniforms['alphaTest'] = new THREE.Uniform(this.settings.material.alphaTest);",
                    "        }",
                    "        defines['USE_UV'] = '';",
                    "        const uTileCount = this.settings.uTileCount;",
                    "        const vTileCount = this.settings.vTileCount;",
                    "        if (uTileCount > 1 || vTileCount > 1) {",
                    "            defines['UV_TILE'] = '';",
                    "            uniforms['tileCount'] = new THREE.Uniform(new THREE.Vector2(uTileCount, vTileCount));",
                    "        }",
                    "        if (this.settings.material.defines &&",
                    "            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {",
                    "            defines['USE_COLOR_AS_ALPHA'] = '';",
                    "        }",
                    "        if (this.settings.material.normalMap) {",
                    "            defines['USE_NORMALMAP'] = '';",
                    "            defines['NORMALMAP_UV'] = getMaterialUVChannelName(this.settings.material.normalMap.channel);",
                    "            uniforms['normalMapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.normalMap.matrix));",
                    "        }",
                    "        if (this.settings.material.map) {",
                    "            defines['USE_MAP'] = '';",
                    "            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);",
                    "            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));",
                    "        }",
                    "        defines['USE_COLOR_ALPHA'] = '';",
                    "        let needLights = false;",
                    "        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||",
                    "            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "            let vertexShader;",
                    "            let fragmentShader;",
                    "            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                if (this.settings.material.type === 'MeshStandardMaterial' ||",
                    "                    this.settings.material.type === 'MeshPhysicalMaterial') {",
                    "                    defines['USE_COLOR'] = '';",
                    "                    vertexShader = local_particle_physics_vert;",
                    "                    fragmentShader = particle_physics_frag;",
                    "                    needLights = true;",
                    "                }",
                    "                else {",
                    "                    vertexShader = local_particle_vert;",
                    "                    fragmentShader = particle_frag;",
                    "                }",
                    "            }",
                    "            else {",
                    "                vertexShader = particle_vert;",
                    "                fragmentShader = particle_frag;",
                    "            }",
                    "            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard) {",
                    "                defines['VERTICAL'] = '';",
                    "            }",
                    "            else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard) {",
                    "                defines['HORIZONTAL'] = '';",
                    "            }",
                    "            this.material = new THREE.ShaderMaterial({",
                    "                uniforms: uniforms,",
                    "                defines: defines,",
                    "                vertexShader: vertexShader,",
                    "                fragmentShader: fragmentShader,",
                    "                transparent: this.settings.material.transparent,",
                    "                depthWrite: !this.settings.material.transparent,",
                    "                blending: this.settings.material.blending,",
                    "                side: this.settings.material.side,",
                    "                alphaTest: this.settings.material.alphaTest,",
                    "                lights: needLights,",
                    "            });",
                    "        }",
                    "        else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {",
                    "            uniforms['speedFactor'] = new THREE.Uniform(1.0);",
                    "            this.material = new THREE.ShaderMaterial({",
                    "                uniforms: uniforms,",
                    "                defines: defines,",
                    "                vertexShader: stretched_bb_particle_vert,",
                    "                fragmentShader: particle_frag,",
                    "                transparent: this.settings.material.transparent,",
                    "                depthWrite: !this.settings.material.transparent,",
                    "                blending: this.settings.material.blending,",
                    "                side: this.settings.material.side,",
                    "                alphaTest: this.settings.material.alphaTest,",
                    "            });",
                    "        }",
                    "        else {",
                    "            throw new Error('render mode unavailable');",
                    "        }",
                    "    }",
                    "    update() {",
                    "        let index = 0;",
                    "        let particleCount = 0;",
                    "        this.systems.forEach((system) => {",
                    "            particleCount += system.particleNum;",
                    "        });",
                    "        if (particleCount > this.maxParticles) {",
                    "            this.expandBuffers(particleCount);",
                    "        }",
                    "        this.systems.forEach((system) => {",
                    "            const particles = system.particles;",
                    "            const particleNum = system.particleNum;",
                    "            const rotation = this.quaternion2_;",
                    "            const translation = this.vector2_;",
                    "            const scale = this.vector3_;",
                    "            system.emitter.matrixWorld.decompose(translation, rotation, scale);",
                    "            this.rotationMat_.setFromMatrix4(system.emitter.matrixWorld);",
                    "            for (let j = 0; j < particleNum; j++ , index++) {",
                    "                const particle = particles[j];",
                    "                if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                    let q;",
                    "                    if (system.worldSpace) {",
                    "                        q = particle.rotation;",
                    "                    }",
                    "                    else {",
                    "                        let parentQ;",
                    "                        if (particle.parentMatrix) {",
                    "                            parentQ = this.quaternion3_.setFromRotationMatrix(particle.parentMatrix);",
                    "                        }",
                    "                        else {",
                    "                            parentQ = rotation;",
                    "                        }",
                    "                        q = this.quaternion_;",
                    "                        q.copy(particle.rotation).multiply(parentQ);",
                    "                    }",
                    "                    this.rotationBuffer.setXYZW(index, q.x, q.y, q.z, q.w);",
                    "                }",
                    "                else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard ||",
                    "                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||",
                    "                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||",
                    "                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard) {",
                    "                    this.rotationBuffer.setX(index, particle.rotation);",
                    "                }",
                    "                let vec;",
                    "                if (system.worldSpace) {",
                    "                    vec = particle.position;",
                    "                }",
                    "                else {",
                    "                    vec = this.vector_;",
                    "                    if (particle.parentMatrix) {",
                    "                        vec.copy(particle.position).applyMatrix4(particle.parentMatrix);",
                    "                    }",
                    "                    else {",
                    "                        vec.copy(particle.position).applyMatrix4(system.emitter.matrixWorld);",
                    "                    }",
                    "                }",
                    "                this.offsetBuffer.setXYZ(index, vec.x, vec.y, vec.z);",
                    "                this.colorBuffer.setXYZW(index, particle.color.x, particle.color.y, particle.color.z, particle.color.w);",
                    "                if (system.worldSpace) {",
                    "                    this.sizeBuffer.setX(index, particle.size);",
                    "                }",
                    "                else {",
                    "                    if (particle.parentMatrix) {",
                    "                        this.sizeBuffer.setX(index, particle.size);",
                    "                    }",
                    "                    else {",
                    "                        this.sizeBuffer.setX(index, (particle.size * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3);",
                    "                    }",
                    "                }",
                    "                this.uvTileBuffer.setX(index, particle.uvTile);",
                    "                if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard && this.velocityBuffer) {",
                    "                    let speedFactor = system.rendererEmitterSettings.speedFactor;",
                    "                    if (speedFactor === 0)",
                    "                        speedFactor = 0.001;",
                    "                    const lengthFactor = system.rendererEmitterSettings.lengthFactor;",
                    "                    let vec;",
                    "                    if (system.worldSpace) {",
                    "                        vec = particle.velocity;",
                    "                    }",
                    "                    else {",
                    "                        vec = this.vector_;",
                    "                        if (particle.parentMatrix) {",
                    "                            this.rotationMat2_.setFromMatrix4(particle.parentMatrix);",
                    "                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat2_);",
                    "                        }",
                    "                        else {",
                    "                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat_);",
                    "                        }",
                    "                    }",
                    "                    this.velocityBuffer.setXYZW(index, vec.x * speedFactor, vec.y * speedFactor, vec.z * speedFactor, lengthFactor);",
                    "                }",
                    "            }",
                    "        });",
                    "        this.geometry.instanceCount = index;",
                    "        if (index > 0) {",
                    "            this.offsetBuffer.updateRange.count = index * 3;",
                    "            this.offsetBuffer.needsUpdate = true;",
                    "            this.sizeBuffer.updateRange.count = index;",
                    "            this.sizeBuffer.needsUpdate = true;",
                    "            this.colorBuffer.updateRange.count = index * 4;",
                    "            this.colorBuffer.needsUpdate = true;",
                    "            this.uvTileBuffer.updateRange.count = index;",
                    "            this.uvTileBuffer.needsUpdate = true;",
                    "            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard && this.velocityBuffer) {",
                    "                this.velocityBuffer.updateRange.count = index * 4;",
                    "                this.velocityBuffer.needsUpdate = true;",
                    "            }",
                    "            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {",
                    "                this.rotationBuffer.updateRange.count = index * 4;",
                    "                this.rotationBuffer.needsUpdate = true;",
                    "            }",
                    "            else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard ||",
                    "                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||",
                    "                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||",
                    "                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard) {",
                    "                this.rotationBuffer.updateRange.count = index;",
                    "                this.rotationBuffer.needsUpdate = true;",
                    "            }",
                    "        }",
                    "    }",
                    "    dispose() {",
                    "        this.geometry.dispose();",
                    "    }",
                    "}",
                    "",
                    "var trail_frag = `",
                    "",
                    "#include <common>",
                    "#include <uv_pars_fragment>",
                    "#include <map_pars_fragment>",
                    "#include <fog_pars_fragment>",
                    "#include <logdepthbuf_pars_fragment>",
                    "#include <clipping_planes_pars_fragment>",
                    "",
                    "uniform sampler2D alphaMap;",
                    "uniform float useAlphaMap;",
                    "uniform float visibility;",
                    "uniform float alphaTest;",
                    "uniform vec2 repeat;",
                    "",
                    "varying vec4 vColor;",
                    "    ",
                    "void main() {",
                    "    #include <clipping_planes_fragment>",
                    "    #include <logdepthbuf_fragment>",
                    "",
                    "    vec4 c = vColor;",
                    "    ",
                    "    #ifdef USE_MAP",
                    "    #ifdef USE_COLOR_AS_ALPHA",
                    "    vec4 tex = texture2D( map, vUv * repeat );",
                    "    c *= vec4(tex.rgb, tex.r);",
                    "    #else",
                    "    c *= texture2D( map, vUv * repeat );",
                    "    #endif",
                    "    #endif",
                    "    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUv * repeat ).a;",
                    "    if( c.a < alphaTest ) discard;",
                    "    gl_FragColor = c;",
                    "",
                    "    #include <fog_fragment>",
                    "    #include <tonemapping_fragment>",
                    "}`;",
                    "",
                    "var trail_vert = `",
                    "#include <common>",
                    "#include <uv_pars_vertex>",
                    "#include <color_pars_vertex>",
                    "#include <clipping_planes_pars_vertex>",
                    "#include <logdepthbuf_pars_vertex>",
                    "#include <fog_pars_vertex>",
                    "",
                    "attribute vec3 previous;",
                    "attribute vec3 next;",
                    "attribute float side;",
                    "attribute float width;",
                    "",
                    "uniform vec2 resolution;",
                    "uniform float lineWidth;",
                    "uniform float sizeAttenuation;",
                    "    ",
                    "vec2 fix(vec4 i, float aspect) {",
                    "    vec2 res = i.xy / i.w;",
                    "    res.x *= aspect;",
                    "    return res;",
                    "}",
                    "    ",
                    "void main() {",
                    "",
                    "    ${uv_vertex_tile}",
                    "    ",
                    "    float aspect = resolution.x / resolution.y;",
                    "",
                    "    vColor = color;",
                    "",
                    "    mat4 m = projectionMatrix * modelViewMatrix;",
                    "    vec4 finalPosition = m * vec4( position, 1.0 );",
                    "    vec4 prevPos = m * vec4( previous, 1.0 );",
                    "    vec4 nextPos = m * vec4( next, 1.0 );",
                    "",
                    "    vec2 currentP = fix( finalPosition, aspect );",
                    "    vec2 prevP = fix( prevPos, aspect );",
                    "    vec2 nextP = fix( nextPos, aspect );",
                    "",
                    "    float w = lineWidth * width;",
                    "",
                    "    vec2 dir;",
                    "    if( nextP == currentP ) dir = normalize( currentP - prevP );",
                    "    else if( prevP == currentP ) dir = normalize( nextP - currentP );",
                    "    else {",
                    "        vec2 dir1 = normalize( currentP - prevP );",
                    "        vec2 dir2 = normalize( nextP - currentP );",
                    "        dir = normalize( dir1 + dir2 );",
                    "",
                    "        vec2 perp = vec2( -dir1.y, dir1.x );",
                    "        vec2 miter = vec2( -dir.y, dir.x );",
                    "        //w = clamp( w / dot( miter, perp ), 0., 4., * lineWidth * width );",
                    "",
                    "    }",
                    "",
                    "    //vec2 normal = ( cross( vec3( dir, 0. ) vec3( 0., 0., 1. ) ) ).xy;",
                    "    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );",
                    "    normal.xy *= .5 * w;",
                    "    normal *= projectionMatrix;",
                    "    if( sizeAttenuation == 0. ) {",
                    "        normal.xy *= finalPosition.w;",
                    "        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;",
                    "    }",
                    "",
                    "    finalPosition.xy += normal.xy * side;",
                    "",
                    "    gl_Position = finalPosition;",
                    "",
                    "\t#include <logdepthbuf_vertex>",
                    "\t#include <clipping_planes_vertex>",
                    "\t",
                    "    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",
                    "    ",
                    "\t#include <fog_vertex>",
                    "}`;",
                    "",
                    "new THREE.Vector3(0, 0, 1);",
                    "class TrailBatch extends VFXBatch {",
                    "    constructor(settings) {",
                    "        super(settings);",
                    "        this.vector_ = new THREE.Vector3();",
                    "        this.vector2_ = new THREE.Vector3();",
                    "        this.vector3_ = new THREE.Vector3();",
                    "        this.quaternion_ = new THREE.Quaternion();",
                    "        this.maxParticles = 10000;",
                    "        this.setupBuffers();",
                    "        this.rebuildMaterial();",
                    "    }",
                    "    setupBuffers() {",
                    "        if (this.geometry)",
                    "            this.geometry.dispose();",
                    "        this.geometry = new THREE.BufferGeometry();",
                    "        this.indexBuffer = new THREE.BufferAttribute(new Uint32Array(this.maxParticles * 6), 1);",
                    "        this.indexBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setIndex(this.indexBuffer);",
                    "        this.positionBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);",
                    "        this.positionBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('position', this.positionBuffer);",
                    "        this.previousBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);",
                    "        this.previousBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('previous', this.previousBuffer);",
                    "        this.nextBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);",
                    "        this.nextBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('next', this.nextBuffer);",
                    "        this.widthBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);",
                    "        this.widthBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('width', this.widthBuffer);",
                    "        this.sideBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);",
                    "        this.sideBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('side', this.sideBuffer);",
                    "        this.uvBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 4), 2);",
                    "        this.uvBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('uv', this.uvBuffer);",
                    "        this.colorBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 8), 4);",
                    "        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);",
                    "        this.geometry.setAttribute('color', this.colorBuffer);",
                    "    }",
                    "    expandBuffers(target) {",
                    "        while (target >= this.maxParticles) {",
                    "            this.maxParticles *= 2;",
                    "        }",
                    "        this.setupBuffers();",
                    "    }",
                    "    rebuildMaterial() {",
                    "        this.layers.mask = this.settings.layers.mask;",
                    "        const uniforms = {",
                    "            lineWidth: { value: 1 },",
                    "            map: { value: null },",
                    "            useMap: { value: 0 },",
                    "            alphaMap: { value: null },",
                    "            useAlphaMap: { value: 0 },",
                    "            resolution: { value: new THREE.Vector2(1, 1) },",
                    "            sizeAttenuation: { value: 1 },",
                    "            visibility: { value: 1 },",
                    "            alphaTest: { value: 0 },",
                    "            repeat: { value: new THREE.Vector2(1, 1) },",
                    "        };",
                    "        const defines = {};",
                    "        defines['USE_UV'] = '';",
                    "        defines['USE_COLOR_ALPHA'] = '';",
                    "        if (this.settings.material.map) {",
                    "            defines['USE_MAP'] = '';",
                    "            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);",
                    "            uniforms['map'] = new THREE.Uniform(this.settings.material.map);",
                    "            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));",
                    "        }",
                    "        if (this.settings.material.defines &&",
                    "            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {",
                    "            defines['USE_COLOR_AS_ALPHA'] = '';",
                    "        }",
                    "        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            this.material = new THREE.ShaderMaterial({",
                    "                uniforms: uniforms,",
                    "                defines: defines,",
                    "                vertexShader: trail_vert,",
                    "                fragmentShader: trail_frag,",
                    "                transparent: this.settings.material.transparent,",
                    "                depthWrite: !this.settings.material.transparent,",
                    "                side: this.settings.material.side,",
                    "                blending: this.settings.material.blending || THREE.AdditiveBlending,",
                    "            });",
                    "        }",
                    "        else {",
                    "            throw new Error('render mode unavailable');",
                    "        }",
                    "    }",
                    "    update() {",
                    "        let index = 0;",
                    "        let triangles = 0;",
                    "        let particleCount = 0;",
                    "        this.systems.forEach((system) => {",
                    "            for (let j = 0; j < system.particleNum; j++) {",
                    "                particleCount += system.particles[j].previous.length * 2;",
                    "            }",
                    "        });",
                    "        if (particleCount > this.maxParticles) {",
                    "            this.expandBuffers(particleCount);",
                    "        }",
                    "        this.systems.forEach((system) => {",
                    "            const rotation = this.quaternion_;",
                    "            const translation = this.vector2_;",
                    "            const scale = this.vector3_;",
                    "            system.emitter.matrixWorld.decompose(translation, rotation, scale);",
                    "            const particles = system.particles;",
                    "            const particleNum = system.particleNum;",
                    "            const uTileCount = this.settings.uTileCount;",
                    "            const vTileCount = this.settings.vTileCount;",
                    "            const tileWidth = 1 / uTileCount;",
                    "            const tileHeight = 1 / vTileCount;",
                    "            for (let j = 0; j < particleNum; j++) {",
                    "                const particle = particles[j];",
                    "                const col = particle.uvTile % vTileCount;",
                    "                const row = Math.floor(particle.uvTile / vTileCount + 0.001);",
                    "                const iter = particle.previous.values();",
                    "                let curIter = iter.next();",
                    "                let previous = curIter.value;",
                    "                let current = previous;",
                    "                if (!curIter.done)",
                    "                    curIter = iter.next();",
                    "                let next;",
                    "                if (curIter.value !== undefined) {",
                    "                    next = curIter.value;",
                    "                }",
                    "                else {",
                    "                    next = current;",
                    "                }",
                    "                for (let i = 0; i < particle.previous.length; i++ , index += 2) {",
                    "                    this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);",
                    "                    this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);",
                    "                    if (system.worldSpace) {",
                    "                        this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);",
                    "                        this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);",
                    "                    }",
                    "                    else {",
                    "                        if (particle.parentMatrix) {",
                    "                            this.vector_.copy(current.position).applyMatrix4(particle.parentMatrix);",
                    "                        }",
                    "                        else {",
                    "                            this.vector_.copy(current.position).applyMatrix4(system.emitter.matrixWorld);",
                    "                        }",
                    "                        this.positionBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                        this.positionBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                    }",
                    "                    if (system.worldSpace) {",
                    "                        this.previousBuffer.setXYZ(index, previous.position.x, previous.position.y, previous.position.z);",
                    "                        this.previousBuffer.setXYZ(index + 1, previous.position.x, previous.position.y, previous.position.z);",
                    "                    }",
                    "                    else {",
                    "                        if (particle.parentMatrix) {",
                    "                            this.vector_.copy(previous.position).applyMatrix4(particle.parentMatrix);",
                    "                        }",
                    "                        else {",
                    "                            this.vector_.copy(previous.position).applyMatrix4(system.emitter.matrixWorld);",
                    "                        }",
                    "                        this.previousBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                        this.previousBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                    }",
                    "                    if (system.worldSpace) {",
                    "                        this.nextBuffer.setXYZ(index, next.position.x, next.position.y, next.position.z);",
                    "                        this.nextBuffer.setXYZ(index + 1, next.position.x, next.position.y, next.position.z);",
                    "                    }",
                    "                    else {",
                    "                        if (particle.parentMatrix) {",
                    "                            this.vector_.copy(next.position).applyMatrix4(particle.parentMatrix);",
                    "                        }",
                    "                        else {",
                    "                            this.vector_.copy(next.position).applyMatrix4(system.emitter.matrixWorld);",
                    "                        }",
                    "                        this.nextBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                        this.nextBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);",
                    "                    }",
                    "                    this.sideBuffer.setX(index, -1);",
                    "                    this.sideBuffer.setX(index + 1, 1);",
                    "                    if (system.worldSpace) {",
                    "                        this.widthBuffer.setX(index, current.size);",
                    "                        this.widthBuffer.setX(index + 1, current.size);",
                    "                    }",
                    "                    else {",
                    "                        if (particle.parentMatrix) {",
                    "                            this.widthBuffer.setX(index, current.size);",
                    "                            this.widthBuffer.setX(index + 1, current.size);",
                    "                        }",
                    "                        else {",
                    "                            const objectScale = (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;",
                    "                            this.widthBuffer.setX(index, current.size * objectScale);",
                    "                            this.widthBuffer.setX(index + 1, current.size * objectScale);",
                    "                        }",
                    "                    }",
                    "                    this.uvBuffer.setXY(index, (i / particle.previous.length + col) * tileWidth, (vTileCount - row - 1) * tileHeight);",
                    "                    this.uvBuffer.setXY(index + 1, (i / particle.previous.length + col) * tileWidth, (vTileCount - row) * tileHeight);",
                    "                    this.colorBuffer.setXYZW(index, current.color.x, current.color.y, current.color.z, current.color.w);",
                    "                    this.colorBuffer.setXYZW(index + 1, current.color.x, current.color.y, current.color.z, current.color.w);",
                    "                    if (i + 1 < particle.previous.length) {",
                    "                        this.indexBuffer.setX(triangles * 3, index);",
                    "                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);",
                    "                        this.indexBuffer.setX(triangles * 3 + 2, index + 2);",
                    "                        triangles++;",
                    "                        this.indexBuffer.setX(triangles * 3, index + 2);",
                    "                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);",
                    "                        this.indexBuffer.setX(triangles * 3 + 2, index + 3);",
                    "                        triangles++;",
                    "                    }",
                    "                    previous = current;",
                    "                    current = next;",
                    "                    if (!curIter.done) {",
                    "                        curIter = iter.next();",
                    "                        if (curIter.value !== undefined) {",
                    "                            next = curIter.value;",
                    "                        }",
                    "                    }",
                    "                }",
                    "            }",
                    "        });",
                    "        this.positionBuffer.updateRange.count = index * 3;",
                    "        this.positionBuffer.needsUpdate = true;",
                    "        this.previousBuffer.updateRange.count = index * 3;",
                    "        this.previousBuffer.needsUpdate = true;",
                    "        this.nextBuffer.updateRange.count = index * 3;",
                    "        this.nextBuffer.needsUpdate = true;",
                    "        this.sideBuffer.updateRange.count = index;",
                    "        this.sideBuffer.needsUpdate = true;",
                    "        this.widthBuffer.updateRange.count = index;",
                    "        this.widthBuffer.needsUpdate = true;",
                    "        this.uvBuffer.updateRange.count = index * 2;",
                    "        this.uvBuffer.needsUpdate = true;",
                    "        this.colorBuffer.updateRange.count = index * 4;",
                    "        this.colorBuffer.needsUpdate = true;",
                    "        this.indexBuffer.updateRange.count = triangles * 3;",
                    "        this.indexBuffer.needsUpdate = true;",
                    "        this.geometry.setDrawRange(0, triangles * 3);",
                    "    }",
                    "    dispose() {",
                    "        this.geometry.dispose();",
                    "    }",
                    "}",
                    "",
                    "class BatchedRenderer extends THREE.Object3D {",
                    "    constructor() {",
                    "        super();",
                    "        this.batches = [];",
                    "        this.systemToBatchIndex = new Map();",
                    "        this.type = 'BatchedRenderer';",
                    "    }",
                    "    static equals(a, b) {",
                    "        return (a.material.side === b.material.side &&",
                    "            a.material.blending === b.material.blending &&",
                    "            a.material.transparent === b.material.transparent &&",
                    "            a.material.type === b.material.type &&",
                    "            a.material.alphaTest === b.material.alphaTest &&",
                    "            a.material.map === b.material.map &&",
                    "            a.renderMode === b.renderMode &&",
                    "            a.uTileCount === b.uTileCount &&",
                    "            a.vTileCount === b.vTileCount &&",
                    "            a.instancingGeometry === b.instancingGeometry &&",
                    "            a.renderOrder === b.renderOrder &&",
                    "            a.layers.mask === b.layers.mask);",
                    "    }",
                    "    addSystem(system) {",
                    "        system._renderer = this;",
                    "        const settings = system.getRendererSettings();",
                    "        for (let i = 0; i < this.batches.length; i++) {",
                    "            if (BatchedRenderer.equals(this.batches[i].settings, settings)) {",
                    "                this.batches[i].addSystem(system);",
                    "                this.systemToBatchIndex.set(system, i);",
                    "                return;",
                    "            }",
                    "        }",
                    "        let batch;",
                    "        switch (settings.renderMode) {",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:",
                    "                batch = new TrailBatch(settings);",
                    "                break;",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:",
                    "            case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:",
                    "                batch = new SpriteBatch(settings);",
                    "                break;",
                    "        }",
                    "        batch.addSystem(system);",
                    "        this.batches.push(batch);",
                    "        this.systemToBatchIndex.set(system, this.batches.length - 1);",
                    "        this.add(batch);",
                    "    }",
                    "    deleteSystem(system) {",
                    "        const batchIndex = this.systemToBatchIndex.get(system);",
                    "        if (batchIndex != undefined) {",
                    "            this.batches[batchIndex].removeSystem(system);",
                    "            this.systemToBatchIndex.delete(system);",
                    "        }",
                    "    }",
                    "    updateSystem(system) {",
                    "        this.deleteSystem(system);",
                    "        this.addSystem(system);",
                    "    }",
                    "    update(delta) {",
                    "        this.systemToBatchIndex.forEach((value, ps) => {",
                    "            ps.update(delta);",
                    "        });",
                    "        for (let i = 0; i < this.batches.length; i++) {",
                    "            this.batches[i].update();",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "const BatchedParticleRenderer = BatchedRenderer;",
                    "",
                    "class QuarksLoader extends THREE.ObjectLoader {",
                    "    constructor(manager) {",
                    "        super(manager);",
                    "    }",
                    "    linkReference(object) {",
                    "        const objectsMap = {};",
                    "        object.traverse(function (child) {",
                    "            objectsMap[child.uuid] = child;",
                    "        });",
                    "        object.traverse(function (child) {",
                    "            if (child.type === 'ParticleEmitter') {",
                    "                const system = child.system;",
                    "                system.emitterShape;",
                    "                for (let i = 0; i < system.behaviors.length; i++) {",
                    "                    if (system.behaviors[i] instanceof EmitSubParticleSystem) {",
                    "                        system.behaviors[i].subParticleSystem = objectsMap[system.behaviors[i].subParticleSystem];",
                    "                    }",
                    "                }",
                    "            }",
                    "        });",
                    "    }",
                    "    parse(json, onLoad) {",
                    "        const object = super.parse(json, onLoad);",
                    "        this.linkReference(object);",
                    "        return object;",
                    "    }",
                    "    parseObject(data, geometries, materials, textures, animations) {",
                    "        let object;",
                    "        function getGeometry(name) {",
                    "            if (geometries[name] === undefined) {",
                    "                console.warn('THREE.ObjectLoader: Undefined geometry', name);",
                    "            }",
                    "            return geometries[name];",
                    "        }",
                    "        function getMaterial(name) {",
                    "            if (name === undefined)",
                    "                return undefined;",
                    "            if (Array.isArray(name)) {",
                    "                const array = [];",
                    "                for (let i = 0, l = name.length; i < l; i++) {",
                    "                    const uuid = name[i];",
                    "                    if (materials[uuid] === undefined) {",
                    "                        console.warn('THREE.ObjectLoader: Undefined material', uuid);",
                    "                    }",
                    "                    array.push(materials[uuid]);",
                    "                }",
                    "                return array;",
                    "            }",
                    "            if (materials[name] === undefined) {",
                    "                console.warn('THREE.ObjectLoader: Undefined material', name);",
                    "            }",
                    "            return materials[name];",
                    "        }",
                    "        function getTexture(uuid) {",
                    "            if (textures[uuid] === undefined) {",
                    "                console.warn('THREE.ObjectLoader: Undefined texture', uuid);",
                    "            }",
                    "            return textures[uuid];",
                    "        }",
                    "        let geometry, material;",
                    "        const meta = {",
                    "            textures: textures,",
                    "            geometries: geometries,",
                    "            materials: materials,",
                    "        };",
                    "        const dependencies = {};",
                    "        switch (data.type) {",
                    "            case 'ParticleEmitter':",
                    "                object = ParticleSystem.fromJSON(data.ps, meta, dependencies).emitter;",
                    "                break;",
                    "            case 'Scene':",
                    "                object = new THREE.Scene();",
                    "                if (data.background !== undefined) {",
                    "                    if (Number.isInteger(data.background)) {",
                    "                        object.background = new THREE.Color(data.background);",
                    "                    }",
                    "                    else {",
                    "                        object.background = getTexture(data.background);",
                    "                    }",
                    "                }",
                    "                if (data.environment !== undefined) {",
                    "                    object.environment = getTexture(data.environment);",
                    "                }",
                    "                if (data.fog !== undefined) {",
                    "                    if (data.fog.type === 'Fog') {",
                    "                        object.fog = new THREE.Fog(data.fog.color, data.fog.near, data.fog.far);",
                    "                    }",
                    "                    else if (data.fog.type === 'FogExp2') {",
                    "                        object.fog = new THREE.FogExp2(data.fog.color, data.fog.density);",
                    "                    }",
                    "                }",
                    "                if (data.backgroundBlurriness !== undefined)",
                    "                    object.backgroundBlurriness = data.backgroundBlurriness;",
                    "                break;",
                    "            case 'PerspectiveCamera':",
                    "                object = new THREE.PerspectiveCamera(data.fov, data.aspect, data.near, data.far);",
                    "                if (data.focus !== undefined)",
                    "                    object.focus = data.focus;",
                    "                if (data.zoom !== undefined)",
                    "                    object.zoom = data.zoom;",
                    "                if (data.filmGauge !== undefined)",
                    "                    object.filmGauge = data.filmGauge;",
                    "                if (data.filmOffset !== undefined)",
                    "                    object.filmOffset = data.filmOffset;",
                    "                if (data.view !== undefined)",
                    "                    object.view = Object.assign({}, data.view);",
                    "                break;",
                    "            case 'OrthographicCamera':",
                    "                object = new THREE.OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);",
                    "                if (data.zoom !== undefined)",
                    "                    object.zoom = data.zoom;",
                    "                if (data.view !== undefined)",
                    "                    object.view = Object.assign({}, data.view);",
                    "                break;",
                    "            case 'AmbientLight':",
                    "                object = new THREE.AmbientLight(data.color, data.intensity);",
                    "                break;",
                    "            case 'DirectionalLight':",
                    "                object = new THREE.DirectionalLight(data.color, data.intensity);",
                    "                break;",
                    "            case 'PointLight':",
                    "                object = new THREE.PointLight(data.color, data.intensity, data.distance, data.decay);",
                    "                break;",
                    "            case 'RectAreaLight':",
                    "                object = new THREE.RectAreaLight(data.color, data.intensity, data.width, data.height);",
                    "                break;",
                    "            case 'SpotLight':",
                    "                object = new THREE.SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);",
                    "                break;",
                    "            case 'HemisphereLight':",
                    "                object = new THREE.HemisphereLight(data.color, data.groundColor, data.intensity);",
                    "                break;",
                    "            case 'LightProbe':",
                    "                object = new THREE.LightProbe().fromJSON(data);",
                    "                break;",
                    "            case 'SkinnedMesh':",
                    "                geometry = getGeometry(data.geometry);",
                    "                material = getMaterial(data.material);",
                    "                object = new THREE.SkinnedMesh(geometry, material);",
                    "                if (data.bindMode !== undefined)",
                    "                    object.bindMode = data.bindMode;",
                    "                if (data.bindMatrix !== undefined)",
                    "                    object.bindMatrix.fromArray(data.bindMatrix);",
                    "                if (data.skeleton !== undefined)",
                    "                    object.skeleton = data.skeleton;",
                    "                break;",
                    "            case 'Mesh':",
                    "                geometry = getGeometry(data.geometry);",
                    "                material = getMaterial(data.material);",
                    "                object = new THREE.Mesh(geometry, material);",
                    "                break;",
                    "            case 'InstancedMesh': {",
                    "                geometry = getGeometry(data.geometry);",
                    "                material = getMaterial(data.material);",
                    "                const count = data.count;",
                    "                const instanceMatrix = data.instanceMatrix;",
                    "                const instanceColor = data.instanceColor;",
                    "                object = new THREE.InstancedMesh(geometry, material, count);",
                    "                object.instanceMatrix = new THREE.InstancedBufferAttribute(new Float32Array(instanceMatrix.array), 16);",
                    "                if (instanceColor !== undefined)",
                    "                    object.instanceColor = new THREE.InstancedBufferAttribute(new Float32Array(instanceColor.array), instanceColor.itemSize);",
                    "                break;",
                    "            }",
                    "            case 'LOD':",
                    "                object = new THREE.LOD();",
                    "                break;",
                    "            case 'Line':",
                    "                object = new THREE.Line(getGeometry(data.geometry), getMaterial(data.material));",
                    "                break;",
                    "            case 'LineLoop':",
                    "                object = new THREE.LineLoop(getGeometry(data.geometry), getMaterial(data.material));",
                    "                break;",
                    "            case 'LineSegments':",
                    "                object = new THREE.LineSegments(getGeometry(data.geometry), getMaterial(data.material));",
                    "                break;",
                    "            case 'PointCloud':",
                    "            case 'Points':",
                    "                object = new THREE.Points(getGeometry(data.geometry), getMaterial(data.material));",
                    "                break;",
                    "            case 'Sprite':",
                    "                object = new THREE.Sprite(getMaterial(data.material));",
                    "                break;",
                    "            case 'Group':",
                    "                object = new THREE.Group();",
                    "                break;",
                    "            case 'Bone':",
                    "                object = new THREE.Bone();",
                    "                break;",
                    "            default:",
                    "                object = new THREE.Object3D();",
                    "        }",
                    "        object.uuid = data.uuid;",
                    "        if (data.name !== undefined)",
                    "            object.name = data.name;",
                    "        if (data.matrix !== undefined) {",
                    "            object.matrix.fromArray(data.matrix);",
                    "            if (data.matrixAutoUpdate !== undefined)",
                    "                object.matrixAutoUpdate = data.matrixAutoUpdate;",
                    "            if (object.matrixAutoUpdate)",
                    "                object.matrix.decompose(object.position, object.quaternion, object.scale);",
                    "        }",
                    "        else {",
                    "            if (data.position !== undefined)",
                    "                object.position.fromArray(data.position);",
                    "            if (data.rotation !== undefined)",
                    "                object.rotation.fromArray(data.rotation);",
                    "            if (data.quaternion !== undefined)",
                    "                object.quaternion.fromArray(data.quaternion);",
                    "            if (data.scale !== undefined)",
                    "                object.scale.fromArray(data.scale);",
                    "        }",
                    "        if (data.castShadow !== undefined)",
                    "            object.castShadow = data.castShadow;",
                    "        if (data.receiveShadow !== undefined)",
                    "            object.receiveShadow = data.receiveShadow;",
                    "        if (data.shadow) {",
                    "            if (data.shadow.bias !== undefined)",
                    "                object.shadow.bias = data.shadow.bias;",
                    "            if (data.shadow.normalBias !== undefined)",
                    "                object.normalBias = data.shadow.normalBias;",
                    "            if (data.shadow.radius !== undefined)",
                    "                object.radius = data.shadow.radius;",
                    "            if (data.shadow.mapSize !== undefined)",
                    "                object.mapSize.fromArray(data.shadow.mapSize);",
                    "            if (data.shadow.camera !== undefined) {",
                    "                object.camera = this.parseObject(data.shadow.camera);",
                    "            }",
                    "        }",
                    "        if (data.visible !== undefined)",
                    "            object.visible = data.visible;",
                    "        if (data.frustumCulled !== undefined)",
                    "            object.frustumCulled = data.frustumCulled;",
                    "        if (data.renderOrder !== undefined)",
                    "            object.renderOrder = data.renderOrder;",
                    "        if (data.userData !== undefined)",
                    "            object.userData = data.userData;",
                    "        if (data.layers !== undefined)",
                    "            object.layers.mask = data.layers;",
                    "        if (data.children !== undefined) {",
                    "            const children = data.children;",
                    "            for (let i = 0; i < children.length; i++) {",
                    "                object.add(this.parseObject(children[i], geometries, materials, textures, animations));",
                    "            }",
                    "        }",
                    "        if (data.animations !== undefined) {",
                    "            const objectAnimations = data.animations;",
                    "            for (let i = 0; i < objectAnimations.length; i++) {",
                    "                const uuid = objectAnimations[i];",
                    "                object.animations.push(animations[uuid]);",
                    "            }",
                    "        }",
                    "        if (data.type === 'LOD') {",
                    "            if (data.autoUpdate !== undefined)",
                    "                object.autoUpdate = data.autoUpdate;",
                    "            const levels = data.levels;",
                    "            for (let l = 0; l < levels.length; l++) {",
                    "                const level = levels[l];",
                    "                const child = object.getObjectByProperty('uuid', level.object);",
                    "                if (child !== undefined) {",
                    "                    object.addLevel(child, level.distance);",
                    "                }",
                    "            }",
                    "        }",
                    "        return object;",
                    "    }",
                    "}",
                    "",
                    "const Plugins = [];",
                    "function loadPlugin(plugin) {",
                    "    const existing = Plugins.find((item) => item.id === plugin.id);",
                    "    if (!existing) {",
                    "        plugin.initialize();",
                    "        for (const emitterShape of plugin.emitterShapes) {",
                    "            if (!EmitterShapes[emitterShape.type]) {",
                    "                EmitterShapes[emitterShape.type] = emitterShape;",
                    "            }",
                    "        }",
                    "        for (const behavior of plugin.behaviors) {",
                    "            if (!BehaviorTypes[behavior.type]) {",
                    "                BehaviorTypes[behavior.type] = behavior;",
                    "            }",
                    "        }",
                    "    }",
                    "}",
                    "function unloadPlugin(pluginId) {",
                    "    const plugin = Plugins.find((item) => item.id === pluginId);",
                    "    if (plugin) {",
                    "        for (const emitterShape of plugin.emitterShapes) {",
                    "            if (EmitterShapes[emitterShape.type]) {",
                    "                delete EmitterShapes[emitterShape.type];",
                    "            }",
                    "        }",
                    "        for (const behavior of plugin.behaviors) {",
                    "            if (BehaviorTypes[behavior.type]) {",
                    "                delete BehaviorTypes[behavior.type];",
                    "            }",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.NodeValueType = void 0;",
                    "(function (NodeValueType) {",
                    "    NodeValueType[NodeValueType[\"Number\"] = 0] = \"Number\";",
                    "    NodeValueType[NodeValueType[\"Vec2\"] = 1] = \"Vec2\";",
                    "    NodeValueType[NodeValueType[\"Vec3\"] = 2] = \"Vec3\";",
                    "    NodeValueType[NodeValueType[\"Vec4\"] = 3] = \"Vec4\";",
                    "    NodeValueType[NodeValueType[\"Boolean\"] = 4] = \"Boolean\";",
                    "    NodeValueType[NodeValueType[\"AnyType\"] = 5] = \"AnyType\";",
                    "    NodeValueType[NodeValueType[\"NullableAnyType\"] = 6] = \"NullableAnyType\";",
                    "    NodeValueType[NodeValueType[\"EventStream\"] = 7] = \"EventStream\";",
                    "})(gdjs.__particleEmmiter3DExtension.NodeValueType || (gdjs.__particleEmmiter3DExtension.NodeValueType = {}));",
                    "const genDefaultForNodeValueType = (type) => {",
                    "    switch (type) {",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean:",
                    "            return false;",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.Number:",
                    "            return 0;",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2:",
                    "            return new THREE.Vector2();",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3:",
                    "            return new THREE.Vector3();",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4:",
                    "            return new THREE.Vector4();",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType:",
                    "            return 0;",
                    "        case gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType:",
                    "            return undefined;",
                    "    }",
                    "};",
                    "",
                    "class Node {",
                    "    constructor(type, signatureIndex = -1, data = {}) {",
                    "        this.inputs = [];",
                    "        this.outputs = [];",
                    "        this.signatureIndex = -1;",
                    "        this.position = new THREE.Vector2();",
                    "        this.outputValues = [];",
                    "        this.id = '' + Math.round(Math.random() * 100000);",
                    "        this.type = type;",
                    "        this.signatureIndex = signatureIndex;",
                    "        this.data = data;",
                    "        const realIndex = signatureIndex === -1 ? 0 : signatureIndex;",
                    "        for (let i = 0; i < type.nodeTypeSignatures[realIndex].inputTypes.length; i++) {",
                    "            this.inputs.push(undefined);",
                    "        }",
                    "        for (let i = 0; i < type.nodeTypeSignatures[realIndex].outputTypes.length; i++) {",
                    "            this.outputs.push([]);",
                    "            this.outputValues.push(genDefaultForNodeValueType(type.nodeTypeSignatures[realIndex].outputTypes[i]));",
                    "        }",
                    "    }",
                    "    get inputTypes() {",
                    "        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;",
                    "        return this.type.nodeTypeSignatures[signatureIndex].inputTypes;",
                    "    }",
                    "    get outputTypes() {",
                    "        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;",
                    "        return this.type.nodeTypeSignatures[signatureIndex].outputTypes;",
                    "    }",
                    "    func(context, inputs, outputs) {",
                    "        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;",
                    "        this.type.nodeTypeSignatures[signatureIndex].func(context, this.data, inputs, outputs);",
                    "    }",
                    "}",
                    "class Wire {",
                    "    constructor(input, inputIndex, output, outputIndex) {",
                    "        this.input = input;",
                    "        this.inputIndex = inputIndex;",
                    "        this.input.outputs[inputIndex].push(this);",
                    "        this.output = output;",
                    "        this.outputIndex = outputIndex;",
                    "        this.output.inputs[outputIndex] = this;",
                    "    }",
                    "}",
                    "",
                    "class BaseCompiler {",
                    "    constructor() {",
                    "        this.visited = new Set();",
                    "        BaseCompiler.Instance = this;",
                    "    }",
                    "    buildExecutionOrder(graph, context) {",
                    "        graph.nodesInOrder.length = 0;",
                    "        this.visited.clear();",
                    "        for (let i = 0; i < graph.outputNodes.length; i++) {",
                    "            const node = graph.outputNodes[i];",
                    "            if (node.inputs[0] !== undefined) {",
                    "                this._traverse(node, graph, context);",
                    "            }",
                    "        }",
                    "        graph.compiled = true;",
                    "    }",
                    "    _traverse(node, graph, context) {",
                    "        this.visited.add(node.id);",
                    "        for (let i = 0; i < node.inputs.length; i++) {",
                    "            if (node.inputs[i] instanceof Wire) {",
                    "                const inputNode = node.inputs[i].input;",
                    "                if (!this.visited.has(inputNode.id)) {",
                    "                    this._traverse(inputNode, graph, context);",
                    "                }",
                    "            }",
                    "            else if (node.inputs[i] !== undefined);",
                    "            else;",
                    "        }",
                    "        graph.nodesInOrder.push(node);",
                    "    }",
                    "}",
                    "",
                    "class Interpreter extends BaseCompiler {",
                    "    constructor() {",
                    "        super();",
                    "    }",
                    "    executeCompiledGraph(graph, context) {",
                    "        const nodes = graph.nodesInOrder;",
                    "        for (let i = 0; i < nodes.length; i++) {",
                    "            const inputValues = [];",
                    "            const node = nodes[i];",
                    "            for (let j = 0; j < node.inputs.length; j++) {",
                    "                if (node.inputs[j] instanceof Wire) {",
                    "                    inputValues.push(node.inputs[j].input.outputValues[node.inputs[j].inputIndex]);",
                    "                }",
                    "                else if (node.inputs[j] !== undefined) {",
                    "                    inputValues.push(node.inputs[j].getValue(context));",
                    "                }",
                    "                else {",
                    "                    inputValues.push(undefined);",
                    "                }",
                    "            }",
                    "            node.func(context, inputValues, node.outputValues);",
                    "        }",
                    "    }",
                    "    run(graph, context) {",
                    "        if (!graph.compiled) {",
                    "            this.buildExecutionOrder(graph, context);",
                    "        }",
                    "        this.executeCompiledGraph(graph, context);",
                    "    }",
                    "}",
                    "",
                    "class NodeType {",
                    "    constructor(name) {",
                    "        this.nodeTypeSignatures = [];",
                    "        this.name = name;",
                    "    }",
                    "    addSignature(inputTypes, outputTypes, func) {",
                    "        this.nodeTypeSignatures.push({",
                    "            inputTypes: inputTypes,",
                    "            outputTypes: outputTypes,",
                    "            func: func,",
                    "        });",
                    "    }",
                    "}",
                    "class GraphNodeType extends NodeType {",
                    "    constructor(nodeGraph) {",
                    "        const inputTypes = [];",
                    "        for (let i = 0; i < nodeGraph.inputNodes.length; i++) {",
                    "            if (nodeGraph.inputNodes[i].type.name === 'input') {",
                    "                inputTypes.push(nodeGraph.inputNodes[i].data.type);",
                    "            }",
                    "        }",
                    "        const outputTypes = [];",
                    "        for (let i = 0; i < nodeGraph.outputNodes.length; i++) {",
                    "            if (nodeGraph.outputNodes[i].type.name === 'output') {",
                    "                outputTypes.push(nodeGraph.outputNodes[i].data.type);",
                    "            }",
                    "        }",
                    "        super(nodeGraph.name);",
                    "        this.addSignature(inputTypes, outputTypes, (context, data, inputs, outputs) => {",
                    "            context.inputs = inputs;",
                    "            context.outputs = outputs;",
                    "            Interpreter.Instance.run(nodeGraph, context);",
                    "        });",
                    "        this.nodeGraph = nodeGraph;",
                    "    }",
                    "}",
                    "",
                    "const NodeTypes = {};",
                    "const addNode = new NodeType('add');",
                    "addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] + inputs[1];",
                    "});",
                    "addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].addVectors(inputs[0], inputs[1]);",
                    "});",
                    "addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].addVectors(inputs[0], inputs[1]);",
                    "});",
                    "addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].addVectors(inputs[0], inputs[1]);",
                    "});",
                    "NodeTypes['add'] = addNode;",
                    "const subNode = new NodeType('sub');",
                    "subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] - inputs[1];",
                    "});",
                    "subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].subVectors(inputs[0], inputs[1]);",
                    "});",
                    "subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].subVectors(inputs[0], inputs[1]);",
                    "});",
                    "subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].subVectors(inputs[0], inputs[1]);",
                    "});",
                    "NodeTypes['sub'] = subNode;",
                    "const mulNode = new NodeType('mul');",
                    "mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] * inputs[1];",
                    "});",
                    "mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);",
                    "});",
                    "mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);",
                    "});",
                    "mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);",
                    "});",
                    "NodeTypes['mul'] = mulNode;",
                    "const divNode = new NodeType('div');",
                    "divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] / inputs[1];",
                    "});",
                    "divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);",
                    "});",
                    "divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);",
                    "});",
                    "divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);",
                    "});",
                    "NodeTypes['div'] = divNode;",
                    "const sinNode = new NodeType('sin');",
                    "sinNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.sin(inputs[0]);",
                    "});",
                    "NodeTypes['sin'] = sinNode;",
                    "const cosNode = new NodeType('cos');",
                    "cosNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.cos(inputs[0]);",
                    "});",
                    "NodeTypes['cos'] = cosNode;",
                    "const tanNode = new NodeType('tan');",
                    "tanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.tan(inputs[0]);",
                    "});",
                    "NodeTypes['tan'] = tanNode;",
                    "const absNode = new NodeType('abs');",
                    "absNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.abs(inputs[0]);",
                    "});",
                    "NodeTypes['abs'] = absNode;",
                    "const minNode = new NodeType('min');",
                    "minNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.min(inputs[0], inputs[1]);",
                    "});",
                    "NodeTypes['min'] = minNode;",
                    "const maxNode = new NodeType('max');",
                    "maxNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.max(inputs[0], inputs[1]);",
                    "});",
                    "NodeTypes['max'] = maxNode;",
                    "const dot = new NodeType('dot');",
                    "dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].dot(inputs[1]);",
                    "});",
                    "dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].dot(inputs[1]);",
                    "});",
                    "dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].dot(inputs[1]);",
                    "});",
                    "NodeTypes['dot'] = dot;",
                    "const cross = new NodeType('cross');",
                    "cross.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].crossVectors(inputs[0], inputs[1]);",
                    "});",
                    "NodeTypes['cross'] = cross;",
                    "const length = new NodeType('length');",
                    "length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].length();",
                    "});",
                    "length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].length();",
                    "});",
                    "length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].length();",
                    "});",
                    "NodeTypes['length'] = length;",
                    "const lengthSq = new NodeType('lengthSq');",
                    "lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].lengthSq();",
                    "});",
                    "lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].lengthSq();",
                    "});",
                    "lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].lengthSq();",
                    "});",
                    "NodeTypes['lengthSq'] = lengthSq;",
                    "const normalize = new NodeType('normalize');",
                    "normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).normalize();",
                    "});",
                    "normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).normalize();",
                    "});",
                    "normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].copy(inputs[0]).normalize();",
                    "});",
                    "NodeTypes['normalize'] = normalize;",
                    "const distance = new NodeType('distance');",
                    "distance.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].distanceTo(inputs[1]);",
                    "});",
                    "distance.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].distanceTo(inputs[1]);",
                    "});",
                    "NodeTypes['distance'] = distance;",
                    "const andNode = new NodeType('and');",
                    "andNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] && inputs[1];",
                    "});",
                    "NodeTypes['and'] = andNode;",
                    "const orNode = new NodeType('or');",
                    "orNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] || inputs[1];",
                    "});",
                    "NodeTypes['or'] = orNode;",
                    "const notNode = new NodeType('not');",
                    "notNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = !inputs[0];",
                    "});",
                    "NodeTypes['not'] = notNode;",
                    "const equalNode = new NodeType('equal');",
                    "equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] === inputs[1];",
                    "});",
                    "equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].equals(inputs[1]);",
                    "});",
                    "equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].equals(inputs[1]);",
                    "});",
                    "equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].equals(inputs[1]);",
                    "});",
                    "NodeTypes['equal'] = equalNode;",
                    "const lessThanNode = new NodeType('lessThan');",
                    "lessThanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] < inputs[1];",
                    "});",
                    "NodeTypes['lessThan'] = lessThanNode;",
                    "const greaterThanNode = new NodeType('greaterThan');",
                    "greaterThanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] > inputs[1];",
                    "});",
                    "NodeTypes['greaterThan'] = greaterThanNode;",
                    "const lessThanOrEqualNode = new NodeType('lessThanOrEqual');",
                    "lessThanOrEqualNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] <= inputs[1];",
                    "});",
                    "NodeTypes['lessThanOrEqual'] = lessThanOrEqualNode;",
                    "const greaterThanOrEqualNode = new NodeType('greaterThanOrEqual');",
                    "greaterThanOrEqualNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] >= inputs[1];",
                    "});",
                    "NodeTypes['greaterThanOrEqual'] = greaterThanOrEqualNode;",
                    "const ifNode = new NodeType('if');",
                    "ifNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType, gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0] ? inputs[1] : inputs[2];",
                    "});",
                    "NodeTypes['if'] = ifNode;",
                    "const numberNode = new NodeType('number');",
                    "numberNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = data.value;",
                    "});",
                    "NodeTypes['number'] = numberNode;",
                    "const vec2Node = new NodeType('vec2');",
                    "vec2Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].x = inputs[0];",
                    "    outputs[0].y = inputs[1];",
                    "});",
                    "NodeTypes['vec2'] = vec2Node;",
                    "const vec3Node = new NodeType('vec3');",
                    "vec3Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].x = inputs[0];",
                    "    outputs[0].y = inputs[1];",
                    "    outputs[0].z = inputs[2];",
                    "});",
                    "NodeTypes['vec3'] = vec3Node;",
                    "const vec4Node = new NodeType('vec4');",
                    "vec4Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].x = inputs[0];",
                    "    outputs[0].y = inputs[1];",
                    "    outputs[0].z = inputs[2];",
                    "    outputs[0].w = inputs[3];",
                    "});",
                    "NodeTypes['vec4'] = vec4Node;",
                    "const splitVec2Node = new NodeType('splitVec2');",
                    "splitVec2Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].x;",
                    "    outputs[1] = inputs[0].y;",
                    "});",
                    "NodeTypes['splitVec2'] = splitVec2Node;",
                    "const splitVec3Node = new NodeType('splitVec3');",
                    "splitVec3Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].x;",
                    "    outputs[1] = inputs[0].y;",
                    "    outputs[2] = inputs[0].z;",
                    "});",
                    "NodeTypes['splitVec3'] = splitVec3Node;",
                    "const splitVec4Node = new NodeType('splitVec4');",
                    "splitVec4Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0].x;",
                    "    outputs[1] = inputs[0].y;",
                    "    outputs[2] = inputs[0].z;",
                    "    outputs[3] = inputs[0].w;",
                    "});",
                    "NodeTypes['splitVec4'] = splitVec4Node;",
                    "const boolNode = new NodeType('bool');",
                    "boolNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = data.value;",
                    "});",
                    "NodeTypes['bool'] = boolNode;",
                    "const particlePropertyNode = new NodeType('particleProperty');",
                    "particlePropertyNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {",
                    "    if (inputs[0] !== undefined) {",
                    "        if (typeof inputs[0] === 'object') {",
                    "            context.particle[data.property].copy(inputs[0]);",
                    "        }",
                    "        else {",
                    "            context.particle[data.property] = inputs[0];",
                    "        }",
                    "    }",
                    "    if (context.particle[data.property] !== undefined) {",
                    "        if (typeof outputs[0] === 'object') {",
                    "            outputs[0].copy(context.particle[data.property]);",
                    "        }",
                    "        else {",
                    "            outputs[0] = context.particle[data.property];",
                    "        }",
                    "    }",
                    "});",
                    "NodeTypes['particleProperty'] = particlePropertyNode;",
                    "const emitNode = new NodeType('emit');",
                    "emitNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], [], (context, data, inputs, outputs) => {",
                    "    const arr = inputs[0];",
                    "    for (let i = 0; i < arr.length; i++) {",
                    "        context.signal(i, arr[i]);",
                    "    }",
                    "});",
                    "NodeTypes['emit'] = emitNode;",
                    "const graphPropertyNode = new NodeType('graphProperty');",
                    "graphPropertyNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {",
                    "    if (inputs[0] !== undefined) {",
                    "        if (typeof inputs[0] === 'object') {",
                    "            context.graph[data.property].copy(inputs[0]);",
                    "        }",
                    "        else {",
                    "            context.graph[data.property] = inputs[0];",
                    "        }",
                    "    }",
                    "    if (context.graph[data.property] !== undefined) {",
                    "        if (typeof outputs[0] === 'object') {",
                    "            outputs[0].copy(context.graph[data.property]);",
                    "        }",
                    "        else {",
                    "            outputs[0] = context.graph[data.property];",
                    "        }",
                    "    }",
                    "});",
                    "NodeTypes['graphProperty'] = graphPropertyNode;",
                    "const startEventNode = new NodeType('startEvent');",
                    "startEventNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], (context, data, inputs, outputs) => {",
                    "    outputs[0] = [{ type: 'start' }];",
                    "});",
                    "NodeTypes['startEvent'] = startEventNode;",
                    "const repeaterNode = new NodeType('repeater');",
                    "repeaterNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], (context, data, inputs, outputs) => {",
                    "    const arr = inputs[0];",
                    "    const count = inputs[1];",
                    "    const result = [];",
                    "    for (let j = 0; j < arr.length; j++) {",
                    "        for (let i = 0; i < count; i++) {",
                    "            result.push(arr[j]);",
                    "        }",
                    "    }",
                    "    outputs[0] = result;",
                    "});",
                    "NodeTypes['repeater'] = repeaterNode;",
                    "const timeNode = new NodeType('time');",
                    "timeNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = context.emissionState.time;",
                    "});",
                    "NodeTypes['time'] = timeNode;",
                    "const deltaNode = new NodeType('delta');",
                    "deltaNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = context.delta;",
                    "});",
                    "NodeTypes['delta'] = deltaNode;",
                    "const outputNode = new NodeType('output');",
                    "outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0];",
                    "});",
                    "outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0];",
                    "});",
                    "outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0];",
                    "});",
                    "outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0];",
                    "});",
                    "outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {",
                    "    outputs[0] = inputs[0];",
                    "});",
                    "NodeTypes['output'] = outputNode;",
                    "const lerpNode = new NodeType('lerp');",
                    "lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] =",
                    "        inputs[0] * (1 - inputs[2]) + inputs[1] * inputs[2];",
                    "});",
                    "lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);",
                    "});",
                    "lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);",
                    "});",
                    "lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);",
                    "});",
                    "NodeTypes['lerp'] = lerpNode;",
                    "const normalD = (x) => {",
                    "    return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(x * x * -0.5);",
                    "};",
                    "const normalDistributionNode = new NodeType('normDistrib');",
                    "normalDistributionNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = normalD(inputs[0]);",
                    "});",
                    "NodeTypes['normDistrib'] = normalDistributionNode;",
                    "const normcdfNode = new NodeType('normcdf');",
                    "normcdfNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    let x = inputs[0];",
                    "    const a1 = 0.254829592;",
                    "    const a2 = -0.284496736;",
                    "    const a3 = 1.421413741;",
                    "    const a4 = -1.453152027;",
                    "    const a5 = 1.061405429;",
                    "    const p = 0.3275911;",
                    "    let sign = 1;",
                    "    if (x < 0)",
                    "        sign = -1;",
                    "    x = Math.abs(x) / Math.sqrt(2.0);",
                    "    const t = 1.0 / (1.0 + p * x);",
                    "    const y = 1.0 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);",
                    "    outputs[0] = 0.5 * (1.0 + sign * y);",
                    "});",
                    "NodeTypes['normcdf'] = normcdfNode;",
                    "const normcdfInvNode = new NodeType('normcdfInv');",
                    "const rationalApproximation = (t) => {",
                    "    const c = [2.515517, 0.802853, 0.010328];",
                    "    const d = [1.432788, 0.189269, 0.001308];",
                    "    return t - ((c[2] * t + c[1]) * t + c[0]) / (((d[2] * t + d[1]) * t + d[0]) * t + 1.0);",
                    "};",
                    "const normcdfInv = (p) => {",
                    "    if (p < 0.5) {",
                    "        return -rationalApproximation(Math.sqrt(-2.0 * Math.log(p)));",
                    "    }",
                    "    else {",
                    "        return rationalApproximation(Math.sqrt(-2.0 * Math.log(1 - p)));",
                    "    }",
                    "};",
                    "normcdfInvNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = normcdfInv(inputs[0]);",
                    "});",
                    "NodeTypes['normcdfInv'] = normcdfInvNode;",
                    "const clampNode = new NodeType('clamp');",
                    "clampNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);",
                    "});",
                    "NodeTypes['clamp'] = clampNode;",
                    "const smoothstepNode = new NodeType('smoothstep');",
                    "smoothstepNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    const x = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);",
                    "    outputs[0] = x * x * (3 - 2 * x);",
                    "});",
                    "NodeTypes['smoothstep'] = smoothstepNode;",
                    "const randomNode = new NodeType('random');",
                    "randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {",
                    "    outputs[0] = Math.random() * (inputs[1] - inputs[0]) + inputs[0];",
                    "});",
                    "randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    let random = Math.random();",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], random);",
                    "});",
                    "randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    let random = Math.random();",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], random);",
                    "});",
                    "randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    let random = Math.random();",
                    "    outputs[0].lerpVectors(inputs[0], inputs[1], random);",
                    "});",
                    "NodeTypes['random'] = randomNode;",
                    "const vrandNode = new NodeType('vrand');",
                    "vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {",
                    "    let x = normcdfInv(Math.random());",
                    "    let y = normcdfInv(Math.random());",
                    "    const mag = Math.sqrt(x * x + y * y);",
                    "    outputs[0].set(x / mag, y / mag);",
                    "});",
                    "vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {",
                    "    let x = normcdfInv(Math.random());",
                    "    let y = normcdfInv(Math.random());",
                    "    let z = normcdfInv(Math.random());",
                    "    const mag = Math.sqrt(x * x + y * y + z * z);",
                    "    outputs[0].set(x / mag, y / mag, z / mag);",
                    "});",
                    "vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {",
                    "    let x = normcdfInv(Math.random());",
                    "    let y = normcdfInv(Math.random());",
                    "    let z = normcdfInv(Math.random());",
                    "    let w = normcdfInv(Math.random());",
                    "    const mag = Math.sqrt(x * x + y * y + z * z + w * w);",
                    "    outputs[0].set(x / mag, y / mag, z / mag, w / mag);",
                    "});",
                    "NodeTypes['vrand'] = vrandNode;",
                    "const bsdfNode = new NodeType('bsdf');",
                    "bsdfNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [], (context, data, inputs, outputs) => { });",
                    "NodeTypes['bsdf'] = bsdfNode;",
                    "const OutputNodeTypeNames = new Set(['output', 'particleProperty', 'graphProperty', 'emit']);",
                    "",
                    "class NodeGraph {",
                    "    constructor(name) {",
                    "        this.inputNodes = [];",
                    "        this.outputNodes = [];",
                    "        this.allNodes = new Map();",
                    "        this.wires = [];",
                    "        this.compiled = false;",
                    "        this.nodesInOrder = [];",
                    "        this.version = '1.0';",
                    "        this.uuid = THREE.MathUtils.generateUUID();",
                    "        this.name = name;",
                    "        this.revision = 0;",
                    "    }",
                    "    addWire(wire) {",
                    "        this.wires.push(wire);",
                    "        this.revision++;",
                    "    }",
                    "    addNode(node) {",
                    "        this.allNodes.set(node.id, node);",
                    "        if (node.type === NodeTypes['input']) {",
                    "            this.inputNodes.push(node);",
                    "        }",
                    "        else if (OutputNodeTypeNames.has(node.type.name)) {",
                    "            this.outputNodes.push(node);",
                    "        }",
                    "        this.revision++;",
                    "    }",
                    "    getNode(id) {",
                    "        return this.allNodes.get(id);",
                    "    }",
                    "    deleteNode(node) {",
                    "        this.allNodes.delete(node.id);",
                    "        this.revision++;",
                    "    }",
                    "    deleteWire(wire) {",
                    "        let index = wire.input.outputs[wire.inputIndex].indexOf(wire);",
                    "        if (index !== -1) {",
                    "            wire.input.outputs[wire.inputIndex].splice(index, 1);",
                    "        }",
                    "        wire.output.inputs[wire.outputIndex] = undefined;",
                    "        index = this.wires.indexOf(wire);",
                    "        if (index != -1) {",
                    "            this.wires[index] = this.wires[this.wires.length - 1];",
                    "            this.wires.pop();",
                    "        }",
                    "        this.revision++;",
                    "    }",
                    "    toJSON() {",
                    "        throw new Error('not implemented');",
                    "    }",
                    "    clone() {",
                    "        throw new Error('not implemented');",
                    "    }",
                    "}",
                    "",
                    "new THREE.Vector3(0, 0, 1);",
                    "const tempQ = new THREE.Quaternion();",
                    "const tempV = new THREE.Vector3();",
                    "const tempV2 = new THREE.Vector3();",
                    "const PREWARM_FPS = 60;",
                    "const DEFAULT_GEOMETRY = new THREE.PlaneGeometry(1, 1, 1, 1);",
                    "class NodeVFX {",
                    "    set time(time) {",
                    "        this.emissionState.time = time;",
                    "    }",
                    "    get time() {",
                    "        return this.emissionState.time;",
                    "    }",
                    "    get layers() {",
                    "        return this.rendererSettings.layers;",
                    "    }",
                    "    get texture() {",
                    "        return this.rendererSettings.material.map;",
                    "    }",
                    "    set texture(texture) {",
                    "        this.rendererSettings.material.map = texture;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get material() {",
                    "        return this.rendererSettings.material;",
                    "    }",
                    "    set material(material) {",
                    "        this.rendererSettings.material = material;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get instancingGeometry() {",
                    "        return this.rendererSettings.instancingGeometry;",
                    "    }",
                    "    set instancingGeometry(geometry) {",
                    "        this.restart();",
                    "        this.particles.length = 0;",
                    "        this.rendererSettings.instancingGeometry = geometry;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get renderMode() {",
                    "        return this.rendererSettings.renderMode;",
                    "    }",
                    "    set renderMode(renderMode) {",
                    "        if ((this.rendererSettings.renderMode != gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) ||",
                    "            (this.rendererSettings.renderMode == gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode !== gdjs.__particleEmmiter3DExtension.RenderMode.Trail)) {",
                    "            this.restart();",
                    "            this.particles.length = 0;",
                    "        }",
                    "        if (this.rendererSettings.renderMode !== renderMode) {",
                    "            switch (renderMode) {",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:",
                    "                    this.rendererEmitterSettings = {",
                    "                        startLength: 30,",
                    "                        followLocalOrigin: false,",
                    "                    };",
                    "                    break;",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:",
                    "                    this.rendererEmitterSettings = {",
                    "                        geometry: new THREE.PlaneGeometry(1, 1),",
                    "                    };",
                    "                    break;",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:",
                    "                case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:",
                    "                    this.rendererEmitterSettings = {};",
                    "                    break;",
                    "            }",
                    "        }",
                    "        this.rendererSettings.renderMode = renderMode;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get renderOrder() {",
                    "        return this.rendererSettings.renderOrder;",
                    "    }",
                    "    set renderOrder(renderOrder) {",
                    "        this.rendererSettings.renderOrder = renderOrder;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    get blending() {",
                    "        return this.rendererSettings.material.blending;",
                    "    }",
                    "    set blending(blending) {",
                    "        this.rendererSettings.material.blending = blending;",
                    "        this.neededToUpdateRender = true;",
                    "    }",
                    "    constructor(parameters) {",
                    "        var _a, _b, _c, _d, _e, _f, _g;",
                    "        this.temp = new THREE.Vector3();",
                    "        this.travelDistance = 0;",
                    "        this.normalMatrix = new THREE.Matrix3();",
                    "        this.speedFactor = 0;",
                    "        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;",
                    "        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;",
                    "        this.looping = parameters.looping === undefined ? true : parameters.looping;",
                    "        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;",
                    "        this.worldSpace = (_b = parameters.worldSpace) !== null && _b !== void 0 ? _b : false;",
                    "        this.rendererEmitterSettings = (_c = parameters.rendererEmitterSettings) !== null && _c !== void 0 ? _c : {};",
                    "        this.emissionGraph = parameters.emissionGraph;",
                    "        this.updateGraph = parameters.updateGraph;",
                    "        this.interpreter = new Interpreter();",
                    "        this.rendererSettings = {",
                    "            instancingGeometry: (_d = parameters.instancingGeometry) !== null && _d !== void 0 ? _d : DEFAULT_GEOMETRY,",
                    "            renderMode: (_e = parameters.renderMode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard,",
                    "            renderOrder: (_f = parameters.renderOrder) !== null && _f !== void 0 ? _f : 0,",
                    "            material: parameters.material,",
                    "            layers: (_g = parameters.layers) !== null && _g !== void 0 ? _g : new THREE.Layers(),",
                    "            uTileCount: 1,",
                    "            vTileCount: 1,",
                    "        };",
                    "        this.neededToUpdateRender = true;",
                    "        this.particles = new Array();",
                    "        this.emitter = new ParticleEmitter(this);",
                    "        this.paused = false;",
                    "        this.particleNum = 0;",
                    "        this.emissionState = {",
                    "            time: 0,",
                    "        };",
                    "        this.emitEnded = false;",
                    "        this.markForDestroy = false;",
                    "        this.prewarmed = false;",
                    "    }",
                    "    pause() {",
                    "        this.paused = true;",
                    "    }",
                    "    play() {",
                    "        this.paused = false;",
                    "    }",
                    "    spawn(emissionState, matrix) {",
                    "        tempQ.setFromRotationMatrix(matrix);",
                    "        const translation = tempV;",
                    "        const quaternion = tempQ;",
                    "        const scale = tempV2;",
                    "        matrix.decompose(translation, quaternion, scale);",
                    "        this.particleNum++;",
                    "        while (this.particles.length < this.particleNum) {",
                    "            this.particles.push(new NodeParticle());",
                    "        }",
                    "        const particle = this.particles[this.particleNum - 1];",
                    "        particle.reset();",
                    "        this.interpreter.run(this.updateGraph, { particle: particle, emissionState: this.emissionState });",
                    "        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail &&",
                    "            this.rendererEmitterSettings.followLocalOrigin) {",
                    "            const trail = particle;",
                    "            trail.localPosition = new THREE.Vector3().copy(trail.position);",
                    "        }",
                    "        if (this.worldSpace) {",
                    "            particle.position.applyMatrix4(matrix);",
                    "            particle.size *= (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;",
                    "            particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);",
                    "            if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {",
                    "                particle.rotation.multiplyQuaternions(tempQ, particle.rotation);",
                    "            }",
                    "        }",
                    "    }",
                    "    endEmit() {",
                    "        this.emitEnded = true;",
                    "        if (this.autoDestroy) {",
                    "            this.markForDestroy = true;",
                    "        }",
                    "    }",
                    "    dispose() {",
                    "        if (this._renderer)",
                    "            this._renderer.deleteSystem(this);",
                    "        this.emitter.dispose();",
                    "        if (this.emitter.parent)",
                    "            this.emitter.parent.remove(this.emitter);",
                    "    }",
                    "    restart() {",
                    "        this.paused = false;",
                    "        this.particleNum = 0;",
                    "        this.emissionState.time = 0;",
                    "        this.emitEnded = false;",
                    "        this.markForDestroy = false;",
                    "        this.prewarmed = false;",
                    "    }",
                    "    update(delta) {",
                    "        if (this.paused)",
                    "            return;",
                    "        let currentParent = this.emitter;",
                    "        while (currentParent.parent) {",
                    "            currentParent = currentParent.parent;",
                    "        }",
                    "        if (currentParent.type !== 'Scene') {",
                    "            this.dispose();",
                    "            return;",
                    "        }",
                    "        if (this.emitEnded && this.particleNum === 0) {",
                    "            if (this.markForDestroy && this.emitter.parent)",
                    "                this.dispose();",
                    "            return;",
                    "        }",
                    "        if (this.looping && this.prewarm && !this.prewarmed) {",
                    "            this.prewarmed = true;",
                    "            for (let i = 0; i < this.duration * PREWARM_FPS; i++) {",
                    "                this.update(1.0 / PREWARM_FPS);",
                    "            }",
                    "        }",
                    "        if (delta > 0.1) {",
                    "            delta = 0.1;",
                    "        }",
                    "        if (this.neededToUpdateRender) {",
                    "            if (this._renderer)",
                    "                this._renderer.updateSystem(this);",
                    "            this.neededToUpdateRender = false;",
                    "        }",
                    "        this.emit(delta, this.emissionState, this.emitter.matrixWorld);",
                    "        const context = { particle: undefined, emissionState: this.emissionState, delta };",
                    "        for (let i = 0; i < this.particleNum; i++) {",
                    "            context.particle = this.particles[i];",
                    "            this.interpreter.run(this.updateGraph, context);",
                    "        }",
                    "        for (let i = 0; i < this.particleNum; i++) {",
                    "            if (this.rendererEmitterSettings.followLocalOrigin &&",
                    "                this.particles[i].localPosition) {",
                    "                this.particles[i].position.copy(this.particles[i].localPosition);",
                    "                if (this.particles[i].parentMatrix) {",
                    "                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);",
                    "                }",
                    "                else {",
                    "                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);",
                    "                }",
                    "            }",
                    "            else {",
                    "                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta);",
                    "            }",
                    "            this.particles[i].age += delta;",
                    "        }",
                    "        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {",
                    "            for (let i = 0; i < this.particleNum; i++) {",
                    "                const particle = this.particles[i];",
                    "                particle.update();",
                    "            }",
                    "        }",
                    "        for (let i = 0; i < this.particleNum; i++) {",
                    "            const particle = this.particles[i];",
                    "            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {",
                    "                this.particles[i] = this.particles[this.particleNum - 1];",
                    "                this.particles[this.particleNum - 1] = particle;",
                    "                this.particleNum--;",
                    "                i--;",
                    "            }",
                    "        }",
                    "    }",
                    "    emit(delta, emissionState, emitterMatrix) {",
                    "        if (emissionState.time > this.duration) {",
                    "            if (this.looping) {",
                    "                emissionState.time -= this.duration;",
                    "            }",
                    "            else {",
                    "                if (!this.emitEnded) {",
                    "                    this.endEmit();",
                    "                }",
                    "            }",
                    "        }",
                    "        this.normalMatrix.getNormalMatrix(emitterMatrix);",
                    "        const context = {",
                    "            signal: () => {",
                    "                this.spawn(emissionState, emitterMatrix);",
                    "            },",
                    "            emissionState,",
                    "            delta,",
                    "        };",
                    "        if (!this.emitEnded) {",
                    "            this.interpreter.run(this.emissionGraph, context);",
                    "        }",
                    "        if (this.previousWorldPos === undefined)",
                    "            this.previousWorldPos = new THREE.Vector3();",
                    "        this.emitter.getWorldPosition(this.previousWorldPos);",
                    "        emissionState.time += delta;",
                    "    }",
                    "    toJSON(meta, options = {}) {",
                    "        return {};",
                    "    }",
                    "    getRendererSettings() {",
                    "        return this.rendererSettings;",
                    "    }",
                    "    clone() {",
                    "        return this;",
                    "    }",
                    "}",
                    "",
                    "gdjs.__particleEmmiter3DExtension.ApplyCollision = ApplyCollision;",
                    "gdjs.__particleEmmiter3DExtension.ApplyForce = ApplyForce;",
                    "gdjs.__particleEmmiter3DExtension.ApplySequences = ApplySequences;",
                    "gdjs.__particleEmmiter3DExtension.AxisAngleGenerator = AxisAngleGenerator;",
                    "gdjs.__particleEmmiter3DExtension.BatchedParticleRenderer = BatchedParticleRenderer;",
                    "gdjs.__particleEmmiter3DExtension.BatchedRenderer = BatchedRenderer;",
                    "gdjs.__particleEmmiter3DExtension.BehaviorFromJSON = BehaviorFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.BehaviorTypes = BehaviorTypes;",
                    "gdjs.__particleEmmiter3DExtension.Bezier = Bezier;",
                    "gdjs.__particleEmmiter3DExtension.ChangeEmitDirection = ChangeEmitDirection;",
                    "gdjs.__particleEmmiter3DExtension.ColorGeneratorFromJSON = ColorGeneratorFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.ColorOverLife = ColorOverLife;",
                    "gdjs.__particleEmmiter3DExtension.ColorRange = ColorRange;",
                    "gdjs.__particleEmmiter3DExtension.ConeEmitter = ConeEmitter;",
                    "gdjs.__particleEmmiter3DExtension.ConstantColor = ConstantColor;",
                    "gdjs.__particleEmmiter3DExtension.ConstantValue = ConstantValue;",
                    "gdjs.__particleEmmiter3DExtension.DonutEmitter = DonutEmitter;",
                    "gdjs.__particleEmmiter3DExtension.EmitSubParticleSystem = EmitSubParticleSystem;",
                    "gdjs.__particleEmmiter3DExtension.EmitterFromJSON = EmitterFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.EmitterShapes = EmitterShapes;",
                    "gdjs.__particleEmmiter3DExtension.EulerGenerator = EulerGenerator;",
                    "gdjs.__particleEmmiter3DExtension.ForceOverLife = ForceOverLife;",
                    "gdjs.__particleEmmiter3DExtension.FrameOverLife = FrameOverLife;",
                    "gdjs.__particleEmmiter3DExtension.GeneratorFromJSON = GeneratorFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.Gradient = Gradient;",
                    "gdjs.__particleEmmiter3DExtension.GraphNodeType = GraphNodeType;",
                    "gdjs.__particleEmmiter3DExtension.GravityForce = GravityForce;",
                    "gdjs.__particleEmmiter3DExtension.GridEmitter = GridEmitter;",
                    "gdjs.__particleEmmiter3DExtension.Interpreter = Interpreter;",
                    "gdjs.__particleEmmiter3DExtension.IntervalValue = IntervalValue;",
                    "gdjs.__particleEmmiter3DExtension.MeshSurfaceEmitter = MeshSurfaceEmitter;",
                    "gdjs.__particleEmmiter3DExtension.Node = Node;",
                    "gdjs.__particleEmmiter3DExtension.NodeGraph = NodeGraph;",
                    "gdjs.__particleEmmiter3DExtension.NodeType = NodeType;",
                    "gdjs.__particleEmmiter3DExtension.NodeTypes = NodeTypes;",
                    "gdjs.__particleEmmiter3DExtension.Noise = Noise;",
                    "gdjs.__particleEmmiter3DExtension.OrbitOverLife = OrbitOverLife;",
                    "gdjs.__particleEmmiter3DExtension.ParticleEmitter = ParticleEmitter;",
                    "gdjs.__particleEmmiter3DExtension.ParticleSystem = ParticleSystem;",
                    "gdjs.__particleEmmiter3DExtension.PiecewiseBezier = PiecewiseBezier;",
                    "gdjs.__particleEmmiter3DExtension.PiecewiseFunction = PiecewiseFunction;",
                    "gdjs.__particleEmmiter3DExtension.Plugins = Plugins;",
                    "gdjs.__particleEmmiter3DExtension.PointEmitter = PointEmitter;",
                    "gdjs.__particleEmmiter3DExtension.QuarksLoader = QuarksLoader;",
                    "gdjs.__particleEmmiter3DExtension.RandomColor = RandomColor;",
                    "gdjs.__particleEmmiter3DExtension.RandomColorBetweenGradient = RandomColorBetweenGradient;",
                    "gdjs.__particleEmmiter3DExtension.RandomQuatGenerator = RandomQuatGenerator;",
                    "gdjs.__particleEmmiter3DExtension.RecordState = RecordState;",
                    "gdjs.__particleEmmiter3DExtension.Rotation3DOverLife = Rotation3DOverLife;",
                    "gdjs.__particleEmmiter3DExtension.RotationGeneratorFromJSON = RotationGeneratorFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.RotationOverLife = RotationOverLife;",
                    "gdjs.__particleEmmiter3DExtension.SequencerFromJSON = SequencerFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.SizeOverLife = SizeOverLife;",
                    "gdjs.__particleEmmiter3DExtension.SpeedOverLife = SpeedOverLife;",
                    "gdjs.__particleEmmiter3DExtension.SphereEmitter = SphereEmitter;",
                    "gdjs.__particleEmmiter3DExtension.SpriteBatch = SpriteBatch;",
                    "gdjs.__particleEmmiter3DExtension.SpriteParticle = SpriteParticle;",
                    "gdjs.__particleEmmiter3DExtension.TextureSequencer = TextureSequencer;",
                    "gdjs.__particleEmmiter3DExtension.TrailBatch = TrailBatch;",
                    "gdjs.__particleEmmiter3DExtension.TrailParticle = TrailParticle;",
                    "gdjs.__particleEmmiter3DExtension.TurbulenceField = TurbulenceField;",
                    "gdjs.__particleEmmiter3DExtension.VFXBatch = VFXBatch;",
                    "gdjs.__particleEmmiter3DExtension.ValueGeneratorFromJSON = ValueGeneratorFromJSON;",
                    "gdjs.__particleEmmiter3DExtension.WidthOverLength = WidthOverLength;",
                    "gdjs.__particleEmmiter3DExtension.Wire = Wire;",
                    "gdjs.__particleEmmiter3DExtension.genDefaultForNodeValueType = genDefaultForNodeValueType;",
                    "gdjs.__particleEmmiter3DExtension.getPhysicsResolver = getPhysicsResolver;",
                    "gdjs.__particleEmmiter3DExtension.loadPlugin = loadPlugin;",
                    "gdjs.__particleEmmiter3DExtension.setPhysicsResolver = setPhysicsResolver;",
                    "gdjs.__particleEmmiter3DExtension.unloadPlugin = unloadPlugin;",
                    ""
                  ],
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onScenePreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "// See doStepPostEvents\r",
                "runtimeScene.__particleEmmiter3DExtension = runtimeScene.__particleEmmiter3DExtension || {};\r",
                "runtimeScene.__particleEmmiter3DExtension.emittersStepped = 0;"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": [
        {
          "defaultName": "ParticleEmitter",
          "description": "Display a large number of particles to create visual effects.",
          "fullName": "3D particle emitter",
          "is3D": true,
          "name": "ParticleEmitter3D",
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onCreated",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::DefineHelperClasses"
                      },
                      "parameters": [
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const BatchedRenderer = gdjs.__particleEmmiter3DExtension.BatchedRenderer;",
                    "const ParticleSystem = gdjs.__particleEmmiter3DExtension.ParticleSystem;",
                    "const TextureLoader = gdjs.__particleEmmiter3DExtension.TextureLoader;",
                    "const IntervalValue = gdjs.__particleEmmiter3DExtension.IntervalValue;",
                    "const ConstantValue = gdjs.__particleEmmiter3DExtension.ConstantValue;",
                    "const ConstantColor = gdjs.__particleEmmiter3DExtension.ConstantColor;",
                    "const ColorOverLife = gdjs.__particleEmmiter3DExtension.ColorOverLife;",
                    "const SizeOverLife = gdjs.__particleEmmiter3DExtension.SizeOverLife;",
                    "const ApplyForce = gdjs.__particleEmmiter3DExtension.ApplyForce;",
                    "const Gradient = gdjs.__particleEmmiter3DExtension.Gradient;",
                    "const PiecewiseBezier = gdjs.__particleEmmiter3DExtension.PiecewiseBezier;",
                    "const Bezier = gdjs.__particleEmmiter3DExtension.Bezier;",
                    "const PointEmitter = gdjs.__particleEmmiter3DExtension.PointEmitter;",
                    "const ConeEmitter = gdjs.__particleEmmiter3DExtension.ConeEmitter;",
                    "const RenderMode = gdjs.__particleEmmiter3DExtension.RenderMode;",
                    "",
                    "const { ParticleEmitterAdapter, ParticleEmitter3DRenderer } = gdjs.__particleEmmiter3DExtension;",
                    "",
                    "/** @type {gdjs.CustomRuntimeObject} */",
                    "const object = objects[0];",
                    "",
                    "// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.",
                    "const gameScene = object.getRuntimeScene();",
                    "",
                    "/** @type {SpriteObjectDataType} */",
                    "const particleSpriteData = object._instanceContainer._objects.get(\"Particle\");",
                    "const resourceName = particleSpriteData.animations[0].directions[0].sprites[0].image;",
                    "const texture = object",
                    "    .getInstanceContainer()",
                    "    .getGame()",
                    "    .getImageManager().getThreeTexture(resourceName);",
                    "",
                    "// Set the blending here because changes are not applied after the emitter creation.",
                    "const blendingString = object._getBlending();",
                    "const blending =",
                    "    blendingString === \"Additive\" ? THREE.AdditiveBlending :",
                    "        blendingString === \"Normal\" ? THREE.NormalBlending :",
                    "            blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :",
                    "                blendingString === \"Multiply\" ? THREE.MultiplyBlending :",
                    "                    blendingString === \"None\" ? THREE.NoBlending :",
                    "                        THREE.AdditiveBlending;",
                    "",
                    "",
                    "// Build a configuration with the right kind of objects.",
                    "// These values are not important as they are overrided by the object properties values.",
                    "const muzzle = {",
                    "    duration: 10,",
                    "    looping: false,",
                    "    startLife: new IntervalValue(1, 2),",
                    "    startSpeed: new IntervalValue(100, 200),",
                    "    startSize: new IntervalValue(20, 50),",
                    "    startColor: new ConstantColor(new THREE.Vector4(1, 1, 1, 1)),",
                    "    worldSpace: true,",
                    "",
                    "    maxParticle: 5,",
                    "    emissionOverTime: new ConstantValue(50),",
                    "    emissionBursts: [{",
                    "        time: 0,",
                    "        count: new ConstantValue(1),",
                    "        cycle: 1,",
                    "        interval: 0.01,",
                    "        probability: 1,",
                    "    }],",
                    "",
                    "    shape: new PointEmitter(),",
                    "    material: new THREE.MeshBasicMaterial({",
                    "        map: texture,",
                    "        blending: blending,",
                    "        transparent: true,",
                    "        side: THREE.DoubleSide",
                    "    }),",
                    "    startTileIndex: 0,",
                    "    uTileCount: 1,",
                    "    vTileCount: 1,",
                    "    renderOrder: 2,",
                    "    renderMode: RenderMode.BillBoard",
                    "};",
                    "const particleSystem = new ParticleSystem(muzzle);",
                    "",
                    "const colorOverLife = new ColorOverLife(",
                    "    new Gradient(",
                    "        [",
                    "            [new THREE.Vector3(1, 0, 0), 0],",
                    "            [new THREE.Vector3(1, 0, 0), 1],",
                    "        ],",
                    "        [",
                    "            [1, 0],",
                    "            [1, 1],",
                    "        ]",
                    "    ));",
                    "particleSystem.addBehavior(colorOverLife);",
                    "const sizeOverLife = new SizeOverLife(new PiecewiseBezier([[new Bezier(1, 2 / 3, 1 / 3, 0), 0]]));",
                    "particleSystem.addBehavior(sizeOverLife);",
                    "const applyForce = new ApplyForce(new THREE.Vector3(0, 0, -1), new ConstantValue(0));",
                    "particleSystem.addBehavior(applyForce);",
                    "",
                    "particleSystem.emitter.name = object.getName() + object.getNameId();",
                    "",
                    "object.__particleEmitterAdapter = new ParticleEmitterAdapter(particleSystem, colorOverLife, sizeOverLife, applyForce);",
                    "object.__particleSystem = particleSystem;",
                    "",
                    "// This is a hack that may break in future releases.",
                    "// Replace the group that would hold children objects by the emmiter.",
                    "const layer = gameScene.getLayer(object.getLayer());",
                    "const group = object.getRenderer()._threeGroup;",
                    "layer.getRenderer().remove3DRendererObject(group);",
                    "particleSystem.emitter.position.copy(group.position);",
                    "particleSystem.emitter.rotation.order = 'ZYX';",
                    "particleSystem.emitter.rotation.copy(group.rotation);",
                    "",
                    "const particleEmitter3DRenderer = new ParticleEmitter3DRenderer(object, object._instanceContainer, object.getInstanceContainer());",
                    "object._renderer = particleEmitter3DRenderer;",
                    "particleEmitter3DRenderer._threeGroup = particleSystem.emitter;",
                    "layer.getRenderer().add3DRendererObject(particleSystem.emitter);",
                    "",
                    "particleSystem.emitter.updateMatrixWorld(true);",
                    "",
                    "",
                    "// See doStepPostEvents",
                    "gameScene.__particleEmmiter3DExtension = gameScene.__particleEmmiter3DExtension || {};",
                    "gameScene.__particleEmmiter3DExtension.emittersCount = gameScene.__particleEmmiter3DExtension.emittersCount || 0;",
                    "gameScene.__particleEmmiter3DExtension.emittersCount++;",
                    "",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetRotationCenter"
                      },
                      "parameters": [
                        "Object",
                        "0",
                        "0",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onDestroy",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "/** @type {gdjs.CustomRuntimeObject} */",
                    "const object = objects[0];",
                    "// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.",
                    "const gameScene = object.getRuntimeScene();",
                    "",
                    "object.__particleSystem.dispose();",
                    "",
                    "// See doStepPostEvents",
                    "gameScene.__particleEmmiter3DExtension.emittersCount--;"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onHotReloading",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Update from properties.",
              "fullName": "Update from properties",
              "functionType": "Action",
              "name": "UpdateFromProperties",
              "private": true,
              "sentence": "Update from properties of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetZ"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Z()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetRotationX"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyRotationX()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetRotationY"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyRotationY()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartColor"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartColor()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetEndColor"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.EndColor()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartOpacity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartOpacity()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetEndOpacity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.EndOpacity()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetFlow"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Flow()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartSizeMin()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartSizeMax()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetEndScale"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.EndScale()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartSpeedMin()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.StartSpeedMax()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetLifespanMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.LifespanMin()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetLifespanMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.LifespanMax()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetDuration"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Duration()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetSpayConeAngle"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.SpayConeAngle()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetGravity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Gravity()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetGravityTop"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.GravityTop()",
                        ""
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"
                          },
                          "parameters": [
                            "Object"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"
                          },
                          "parameters": [
                            "Object",
                            "no",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"
                          },
                          "parameters": [
                            "Object"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"
                          },
                          "parameters": [
                            "Object",
                            "yes",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "TODO: Blending can't be changed."
                    },
                    {
                      "disabled": true,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ParticleEmitter3D::ParticleEmitter3D::SetBlending"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "Object.Blending()",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "doStepPostEvents",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::HasEnded"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::Delete"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "ParticleEmitter3D::ParticleEmitter3D::HasEnded"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::RegisterInLayer"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::JsCode",
                      "inlineCode": [
                        "/** @type {gdjs.CustomRuntimeObject3D} */",
                        "const object = objects[0];",
                        "// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.",
                        "const gameScene = object.getRuntimeScene();",
                        "",
                        "// Update batch system after having moved every emitter.",
                        "// See onScenePreEvents",
                        "gameScene.__particleEmmiter3DExtension.emittersStepped++;",
                        "if (gameScene.__particleEmmiter3DExtension.emittersStepped === gameScene.__particleEmmiter3DExtension.emittersCount) {",
                        "    gameScene.__particleEmmiter3DExtension.layerNames = gameScene.__particleEmmiter3DExtension.layerNames || [];",
                        "    const layerNames = gameScene.__particleEmmiter3DExtension.layerNames;",
                        "    gameScene.getAllLayerNames(layerNames);",
                        "    for (const layerName of layerNames) {",
                        "        const layer = gameScene.getLayer(layerName);",
                        "        if (layer.__particleEmmiter3DExtension) {",
                        "            layer.__particleEmmiter3DExtension.batchSystem.update(object.getElapsedTime() / 1000);",
                        "        }",
                        "    }",
                        "}"
                      ],
                      "parameterObjects": "Object",
                      "useStrict": true,
                      "eventsSheetExpanded": true
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "Register in layer",
              "functionType": "Action",
              "name": "RegisterInLayer",
              "private": true,
              "sentence": "Register _PARAM0_ in layer",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "/** @type {gdjs.CustomRuntimeObject} */",
                    "const object = objects[0];",
                    "",
                    "// TODO Handle layer changes?",
                    "if (object.__emitterLayerName === undefined) {",
                    "    // Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.",
                    "    const gameScene = object.getRuntimeScene();",
                    "",
                    "    const layer = gameScene.getLayer(object.getLayer());",
                    "    layer.__particleEmmiter3DExtension = layer.__particleEmmiter3DExtension || {};",
                    "    if (!layer.__particleEmmiter3DExtension.batchSystem) {",
                    "        const batchSystem = new gdjs.__particleEmmiter3DExtension.BatchedRenderer();",
                    "        const threeScene = layer.getRenderer().getThreeScene();",
                    "        if (threeScene) {",
                    "            threeScene.add(batchSystem);",
                    "        }",
                    "        layer.__particleEmmiter3DExtension.batchSystem = batchSystem;",
                    "    }",
                    "    layer.__particleEmmiter3DExtension.batchSystem.addSystem(object.__particleSystem);",
                    "    object.__emitterLayerName = layer.getName();",
                    "}"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Delete itself",
              "fullName": "Delete itself",
              "functionType": "Action",
              "name": "Delete",
              "private": true,
              "sentence": "Delete _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];",
                    "",
                    "object.deleteFromScene(object.getParent());",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check that emission has ended and no particle is alive anymore.",
              "fullName": "Emission has ended",
              "functionType": "Condition",
              "name": "HasEnded",
              "sentence": "Emission from _PARAM0_ has ended",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "\r",
                    "eventsFunctionContext.returnValue =\r",
                    "       object._getShouldAutodestruct()\r",
                    "    && object.__particleSystem.emitEnded\r",
                    "    && object.__particleSystem.particleNum === 0;\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Restart particule emission from the beginning.",
              "fullName": "Restart",
              "functionType": "Action",
              "name": "Restart",
              "sentence": "Restart particule emission from _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "/** @type {gdjs.CustomRuntimeObject} */\r",
                    "const object = objects[0];\r",
                    "\r",
                    "object.__particleSystem.restart();\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the Z position of the emitter.",
              "fullName": "Z elevaltion (deprecated)",
              "functionType": "ExpressionAndCondition",
              "group": "Position",
              "name": "Z",
              "private": true,
              "sentence": "the Z position",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyZ()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Z",
              "name": "SetZ",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyZ"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the rotation on X axis of the emitter.",
              "fullName": "Rotation on X axis (deprecated)",
              "functionType": "ExpressionAndCondition",
              "group": "Angle",
              "name": "RotationX",
              "private": true,
              "sentence": "the rotation on X axis",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyRotationX()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "RotationX",
              "name": "SetRotationX",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationX"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "\r",
                    "object.__particleSystem.emitter.rotation.x = eventsFunctionContext.getArgument(\"Value\") * Math.PI / 180;"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the rotation on Y axis of the emitter.",
              "fullName": "Rotation on Y axis (deprecated)",
              "functionType": "ExpressionAndCondition",
              "group": "Angle",
              "name": "RotationY",
              "private": true,
              "sentence": "the rotation on Y axis",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyRotationY()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "RotationY",
              "name": "SetRotationY",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationY"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "\r",
                    "object.__particleSystem.emitter.rotation.y = (90 + eventsFunctionContext.getArgument(\"Value\")) * Math.PI / 180;"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the start color of the object.",
              "fullName": "Start color",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter color configuration",
              "name": "StartColor",
              "sentence": "the start color",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnString"
                      },
                      "parameters": [
                        "Object.PropertyStartColor()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "color"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartColor",
              "name": "SetStartColor",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartColor"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsString(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startColor = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartColor(startColor);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the end color of the object.",
              "fullName": "End color",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter color configuration",
              "name": "EndColor",
              "sentence": "the end color",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnString"
                      },
                      "parameters": [
                        "Object.PropertyEndColor()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "color"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "EndColor",
              "name": "SetEndColor",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndColor"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsString(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const endColor = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setEndColor(endColor);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the start opacity of the object.",
              "fullName": "Start opacity",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter color configuration",
              "name": "StartOpacity",
              "sentence": "the start opacity",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyStartOpacity()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartOpacity",
              "name": "SetStartOpacity",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartOpacity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startOpacity = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartOpacity(startOpacity);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the end opacity of the object.",
              "fullName": "End opacity",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter color configuration",
              "name": "EndOpacity",
              "sentence": "the end opacity",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyEndOpacity()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "EndOpacity",
              "name": "SetEndOpacity",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndOpacity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const endOpacity = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setEndOpacity(endOpacity);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the flow of particles of the object  (particles per second).",
              "fullName": "Flow of particles",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "Flow",
              "sentence": "the flow of particles",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyFlow()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Flow",
              "name": "SetFlow",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyFlow"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const flow = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setFlow(flow);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the start min size of the object.",
              "fullName": "Start min size",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "StartSizeMin",
              "sentence": "the start min size",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyStartSizeMin()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartSizeMin",
              "name": "SetStartSizeMin",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startMinSize = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartMinSize(startMinSize);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the start max size of the object.",
              "fullName": "Start max size",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "StartSizeMax",
              "sentence": "the start max size",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyStartSizeMax()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartSizeMax",
              "name": "SetStartSizeMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startMaxSize = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartMaxSize(startMaxSize);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the end scale of the object.",
              "fullName": "End scale",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "EndScale",
              "sentence": "the end scale",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyEndScale()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "EndScale",
              "name": "SetEndScale",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndScale"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const endScale = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setEndScale(endScale);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the min start speed of the object.",
              "fullName": "Min start speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter speed configuration",
              "name": "StartSpeedMin",
              "sentence": "the min start speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyStartSpeedMin()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartSpeedMin",
              "name": "SetStartSpeedMin",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startSpeedMin = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartSpeedMin(startSpeedMin);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the max start speed of the object.",
              "fullName": "Max start speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter speed configuration",
              "name": "StartSpeedMax",
              "sentence": "the max start speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyStartSpeedMax()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StartSpeedMax",
              "name": "SetStartSpeedMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const startSpeedMax = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setStartSpeedMax(startSpeedMax);"
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the min lifespan of the object.",
              "fullName": "Min lifespan",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "LifespanMin",
              "sentence": "the min lifespan",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyLifespanMin()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "LifespanMin",
              "name": "SetLifespanMin",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMin"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const lifespanMin = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setLifespanMin(lifespanMin);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the max lifespan of the object.",
              "fullName": "Max lifespan",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "LifespanMax",
              "sentence": "the max lifespan",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyLifespanMax()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "LifespanMax",
              "name": "SetLifespanMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMax"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const lifespanMax = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setLifespanMax(lifespanMax);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the emission duration of the object.",
              "fullName": "Emission duration",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "Duration",
              "sentence": "the emission duration",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyDuration()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Duration",
              "name": "SetDuration",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyDuration"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const duration = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setDuration(duration);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if particles move with the emitter.",
              "fullName": "Particles move with the emitter",
              "functionType": "Condition",
              "group": "3D particle emitter speed configuration",
              "name": "AreParticlesRelative",
              "sentence": "_PARAM0_ particles move with the emitter",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"
                      },
                      "parameters": [
                        "Object"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change if particles move with the emitter.",
              "fullName": "Particles move with the emitter",
              "functionType": "Action",
              "group": "3D particle emitter speed configuration",
              "name": "SetAreParticlesRelative",
              "sentence": "_PARAM0_ particles move with the emitter: _PARAM1_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"
                      },
                      "parameters": [
                        "Object",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"
                      },
                      "parameters": [
                        "Object",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const areParticlesRelative = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setParticlesRelative(areParticlesRelative);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                },
                {
                  "defaultValue": "yes",
                  "description": "AreParticlesRelative",
                  "name": "Value",
                  "optional": true,
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the spay cone angle of the object.",
              "fullName": "Spay cone angle",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter configuration",
              "name": "SpayConeAngle",
              "sentence": "the spay cone angle",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertySpayConeAngle()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "SpayConeAngle",
              "name": "SetSpayConeAngle",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertySpayConeAngle"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const sprayConeAngle = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setSprayConeAngle(sprayConeAngle);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the blending of the object.",
              "fullName": "Blending",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter color configuration",
              "name": "Blending",
              "sentence": "the blending",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnString"
                      },
                      "parameters": [
                        "Object.PropertyBlending()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "supplementaryInformation": "[\"Normal\",\"Additive\",\"Substractive\",\"Multiply\",\"None\"]",
                "type": "stringWithSelector"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Blending",
              "name": "SetBlending",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyBlending"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsString(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const blending = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setBlending(blending);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the gravity top of the object.",
              "fullName": "Gravity top",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter speed configuration",
              "name": "GravityTop",
              "sentence": "the gravity top",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnString"
                      },
                      "parameters": [
                        "Object.PropertyGravityTop()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "supplementaryInformation": "[\"Y-\",\"Z+\"]",
                "type": "stringWithSelector"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "GravityTop",
              "name": "SetGravityTop",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravityTop"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsString(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const gravityTop = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setGravityTop(gravityTop);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the gravity of the object.",
              "fullName": "Gravity",
              "functionType": "ExpressionAndCondition",
              "group": "3D particle emitter speed configuration",
              "name": "Gravity",
              "sentence": "the gravity",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyGravity()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Gravity",
              "name": "SetGravity",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "const object = objects[0];\r",
                    "const gravity = eventsFunctionContext.getArgument(\"Value\");\r",
                    "\r",
                    "object.__particleEmitterAdapter.setGravity(gravity);\r",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if delete when emission ends.",
              "fullName": "Delete when emission ends",
              "functionType": "Condition",
              "group": "3D particle emitter configuration",
              "name": "ShouldAutodestruct",
              "sentence": "_PARAM0_ delete when emission ends",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::PropertyShouldAutodestruct"
                      },
                      "parameters": [
                        "Object"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change if delete when emission ends.",
              "fullName": "Delete when emission ends",
              "functionType": "Action",
              "group": "3D particle emitter configuration",
              "name": "SetShouldAutodestruct",
              "sentence": "_PARAM0_ delete when emission ends: _PARAM1_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"
                      },
                      "parameters": [
                        "Object",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"
                      },
                      "parameters": [
                        "Object",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "ParticleEmitter3D::ParticleEmitter3D",
                  "type": "object"
                },
                {
                  "defaultValue": "yes",
                  "description": "ShouldAutodestruct",
                  "name": "Value",
                  "optional": true,
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "255;0;0",
              "type": "Color",
              "label": "Start color",
              "description": "",
              "group": "Color",
              "extraInformation": [],
              "name": "StartColor"
            },
            {
              "value": "255;255;0",
              "type": "Color",
              "label": "End color",
              "description": "",
              "group": "Color",
              "extraInformation": [],
              "name": "EndColor"
            },
            {
              "value": "255",
              "type": "Number",
              "unit": "Dimensionless",
              "label": "Start opacity",
              "description": "",
              "group": "Color",
              "extraInformation": [],
              "name": "StartOpacity"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "Dimensionless",
              "label": "End opacity",
              "description": "",
              "group": "Color",
              "extraInformation": [],
              "name": "EndOpacity"
            },
            {
              "value": "50",
              "type": "Number",
              "label": "Flow of particles (particles per second)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "Flow"
            },
            {
              "value": "10",
              "type": "Number",
              "unit": "Pixel",
              "label": "Start min size",
              "description": "",
              "group": "Size",
              "extraInformation": [],
              "name": "StartSizeMin"
            },
            {
              "value": "20",
              "type": "Number",
              "unit": "Pixel",
              "label": "Start max size",
              "description": "",
              "group": "Size",
              "extraInformation": [],
              "name": "StartSizeMax"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "Dimensionless",
              "label": "End scale",
              "description": "",
              "group": "Size",
              "extraInformation": [],
              "name": "EndScale"
            },
            {
              "value": "100",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Start min speed",
              "description": "",
              "group": "Speed",
              "extraInformation": [],
              "name": "StartSpeedMin"
            },
            {
              "value": "100",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Start max speed",
              "description": "",
              "group": "Speed",
              "extraInformation": [],
              "name": "StartSpeedMax"
            },
            {
              "value": "1",
              "type": "Number",
              "unit": "Second",
              "label": "Min lifespan",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "LifespanMin"
            },
            {
              "value": "2",
              "type": "Number",
              "unit": "Second",
              "label": "Max lifespan",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "LifespanMax"
            },
            {
              "value": "5",
              "type": "Number",
              "unit": "Second",
              "label": "Emission duration",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "Duration"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "Particles move with the emitter",
              "description": "",
              "group": "Speed",
              "extraInformation": [],
              "name": "AreParticlesRelative"
            },
            {
              "value": "30",
              "type": "Number",
              "unit": "DegreeAngle",
              "label": "Spay cone angle",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "name": "SpayConeAngle"
            },
            {
              "value": "Additive",
              "type": "Choice",
              "label": "Blending",
              "description": "",
              "group": "Color",
              "extraInformation": [
                "Normal",
                "Additive",
                "Subtractive",
                "Multiply",
                "None"
              ],
              "name": "Blending"
            },
            {
              "value": "Y-",
              "type": "Choice",
              "label": "Gravity top",
              "description": "",
              "group": "Speed",
              "extraInformation": [
                "Y-",
                "Z+"
              ],
              "name": "GravityTop"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "PixelAcceleration",
              "label": "Gravity",
              "description": "",
              "group": "Speed",
              "extraInformation": [],
              "name": "Gravity"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "Delete when emission ends",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "ShouldAutodestruct"
            },
            {
              "value": "Center-center",
              "type": "String",
              "label": "",
              "description": "Only used by the scene editor.",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ParentOrigin"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "Pixel",
              "label": "Z (elevation)",
              "description": "Deprecated",
              "group": "Position",
              "extraInformation": [],
              "hidden": true,
              "name": "Z"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "DegreeAngle",
              "label": "Rotation on X axis",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": true,
              "name": "RotationX"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "DegreeAngle",
              "label": "Rotation on Y axis",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": true,
              "name": "RotationY"
            }
          ],
          "objects": [
            {
              "adaptCollisionMaskAutomatically": true,
              "assetStoreId": "",
              "name": "Particle",
              "type": "Sprite",
              "updateIfNotVisible": false,
              "variables": [],
              "effects": [],
              "behaviors": [],
              "animations": [
                {
                  "name": "Image",
                  "useMultipleDirections": false,
                  "directions": [
                    {
                      "looping": false,
                      "timeBetweenFrames": 0.08,
                      "sprites": []
                    }
                  ]
                }
              ]
            }
          ],
          "objectsFolderStructure": {
            "folderName": "__ROOT",
            "children": [
              {
                "objectName": "Particle"
              }
            ]
          }
        }
      ]
    },
    {
      "author": "",
      "category": "User interface",
      "extensionNamespace": "",
      "fullName": "Slider",
      "helpPath": "/objects/slider",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSI3IiByPSIzIi8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMyIgeTE9IjciIHgyPSIyMCIgeTI9IjciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjciIHgyPSIyNiIgeTI9IjciLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjEyIiBjeT0iMTYiIHI9IjMiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIzIiB5MT0iMTYiIHgyPSI5IiB5Mj0iMTYiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjE2IiB4Mj0iMTUiIHkyPSIxNiIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSIyNSIgcj0iMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMiIHkxPSIyNSIgeDI9IjIwIiB5Mj0iMjUiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjI1IiB4Mj0iMjYiIHkyPSIyNSIvPg0KPC9zdmc+DQo=",
      "name": "PanelSpriteSlider",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/UI Essentials/1678c39a3b2bd3df4f82a8a293770db4986a6bcfd3f78e738ddfc86e39176423_UI Essentials_sliders_options.svg",
      "shortDescription": "A draggable slider that users can move to select a numerical value.",
      "version": "1.4.2",
      "description": [
        "A draggable slider that users can move to select a numerical value. The slider can be customized with sprites.",
        "",
        "There are ready-to-use sliders in the asset-store [settings UI pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=settings-ui-settings-ui)."
      ],
      "origin": {
        "identifier": "PanelSpriteSlider",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "draggable",
        "slider",
        "ui",
        "widget"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2",
        "gqDaZjCfevOOxBYkK6zlhtZnXCg1"
      ],
      "dependencies": [],
      "eventsFunctions": [],
      "eventsBasedBehaviors": [
        {
          "description": "Represent a value on a slider.",
          "fullName": "Slider",
          "name": "Slider",
          "objectType": "",
          "private": true,
          "eventsFunctions": [
            {
              "description": "the value of the object.",
              "fullName": "Value",
              "functionType": "ExpressionAndCondition",
              "name": "Value",
              "sentence": "the value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Value",
              "name": "SetValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::PropertyStepSize"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetPropertyValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(GetArgumentAsNumber(\"Value\"), Object.Behavior::PropertyMinValue(), Object.Behavior::PropertyMaxValue())"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::PropertyStepSize"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetPropertyValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(round(GetArgumentAsNumber(\"Value\") / Object.Behavior::PropertyStepSize()) * Object.Behavior::PropertyStepSize(), Object.Behavior::PropertyMinValue(), Object.Behavior::PropertyMaxValue())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the minimum value of the object.",
              "fullName": "Minimum value",
              "functionType": "ExpressionAndCondition",
              "group": "Resource bar configuration",
              "name": "MinValue",
              "sentence": "the minimum value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyMinValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "MinValue",
              "name": "SetMinValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetPropertyMinValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::Value()",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the maximum value of the object.",
              "fullName": "Maximum value",
              "functionType": "ExpressionAndCondition",
              "group": "Resource bar configuration",
              "name": "MaxValue",
              "sentence": "the maximum value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyMaxValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "MaxValue",
              "name": "SetMaxValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetPropertyMaxValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::Value()",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the bar value bounds size.",
              "fullName": "Size",
              "functionType": "ExpressionAndCondition",
              "name": "Size",
              "sentence": "the bar value bounds size",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::MaxValue() - Object.Behavior::MinValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the step size of the object.",
              "fullName": "Step size",
              "functionType": "ExpressionAndCondition",
              "group": "Resource bar configuration",
              "name": "StepSize",
              "sentence": "the step size",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyStepSize()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StepSize",
              "name": "SetStepSize",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetPropertyStepSize"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"Value\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetValue"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::Value()",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "0",
              "type": "Number",
              "label": "Value",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "Value"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Minimum value",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "MinValue"
            },
            {
              "value": "1",
              "type": "Number",
              "label": "Maximum value",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "MaxValue"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Step size",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "StepSize"
            }
          ],
          "sharedPropertyDescriptors": []
        },
        {
          "description": "The finite state machine used internally by the button object.",
          "fullName": "Button finite state machine",
          "name": "ButtonFSM",
          "objectType": "",
          "private": true,
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "doStepPostEvents",
              "sentence": "",
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Finite state machine",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "The \"Validated\" state only last one frame."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "\"Validated\""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "\"Idle\""
                          ]
                        }
                      ]
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Check position",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Make sure the cursor position is only checked once per frame."
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyMouseIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyShouldCheckHovering"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "CollisionPoint"
                              },
                              "parameters": [
                                "Object",
                                "MouseOnlyCursorX(Object.Layer(), 0)",
                                "MouseOnlyCursorY(Object.Layer(), 0)"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyMouseIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Touches are always pressed, so ShouldCheckHovering doesn't matter."
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyTouchId"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "!=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "CollisionPoint"
                              },
                              "parameters": [
                                "Object",
                                "TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)",
                                "TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Handle touch start",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "HasAnyTouchOrMouseStarted"
                              },
                              "parameters": [
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Repeat",
                              "repeatExpression": "StartedTouchOrMouseCount()",
                              "conditions": [],
                              "actions": [],
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "CollisionPoint"
                                      },
                                      "parameters": [
                                        "Object",
                                        "TouchX(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)",
                                        "TouchY(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "StartedTouchOrMouseId(Object.Behavior::PropertyIndex())"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchIsInside"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "yes"
                                      ]
                                    }
                                  ],
                                  "events": [
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [
                                        {
                                          "type": {
                                            "value": "BuiltinCommonInstructions::Or"
                                          },
                                          "parameters": [],
                                          "subInstructions": [
                                            {
                                              "type": {
                                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "\"Hovered\""
                                              ]
                                            },
                                            {
                                              "type": {
                                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "\"Idle\""
                                              ]
                                            }
                                          ]
                                        }
                                      ],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "\"PressedInside\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "PanelSpriteSlider::ButtonFSM::SetPropertyIndex"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "+",
                                        "1"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Apply position changes",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyMouseIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"Hovered\""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"Idle\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyMouseIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"Idle\""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"Hovered\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyTouchIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"PressedInside\""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"PressedOutside\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyTouchIsInside"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"PressedOutside\""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"PressedInside\""
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Handle touch end",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "HasTouchEnded"
                              },
                              "parameters": [
                                "",
                                "Object.Behavior::PropertyTouchId()"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "\"PressedInside\""
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "\"Validated\""
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "\"PressedInside\""
                                  ]
                                },
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "\"Validated\""
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "\"Idle\""
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    }
                  ],
                  "parameters": []
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onDeActivate",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::SetPropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Idle\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::SetPropertyTouchId"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the button is not used.",
              "fullName": "Is idle",
              "functionType": "Condition",
              "name": "IsIdle",
              "sentence": "_PARAM0_ is idle",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the button was just clicked.",
              "fullName": "Is clicked",
              "functionType": "Condition",
              "name": "IsClicked",
              "sentence": "_PARAM0_ is clicked",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Validated\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the cursor is hovered over the button.",
              "fullName": "Is hovered",
              "functionType": "Condition",
              "name": "IsHovered",
              "sentence": "_PARAM0_ is hovered",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Hovered\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the button is either hovered or pressed but not hovered.",
              "fullName": "Is focused",
              "functionType": "Condition",
              "name": "IsFocused",
              "sentence": "_PARAM0_ is focused",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Hovered\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"PressedOutside\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the button is currently being pressed with mouse or touch.",
              "fullName": "Is pressed",
              "functionType": "Condition",
              "name": "IsPressed",
              "sentence": "_PARAM0_ is pressed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"PressedInside\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the button is currently being pressed outside with mouse or touch.",
              "fullName": "Is held outside",
              "functionType": "Condition",
              "name": "IsPressedOutside",
              "sentence": "_PARAM0_ is held outside",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::ButtonFSM::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"PressedOutside\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the touch id that is using the button or 0 if none.",
              "fullName": "Touch id",
              "functionType": "ExpressionAndCondition",
              "name": "TouchId",
              "sentence": "the touch id",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyTouchId()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::ButtonFSM",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "true",
              "type": "Boolean",
              "label": "",
              "description": "Should check hovering",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ShouldCheckHovering"
            },
            {
              "value": "Idle",
              "type": "Choice",
              "label": "State",
              "description": "",
              "group": "",
              "extraInformation": [
                "Idle",
                "Hovered",
                "PressedInside",
                "PressedOutside",
                "Validated"
              ],
              "hidden": true,
              "name": "State"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Touch id",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "TouchId"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "Touch is inside",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "TouchIsInside"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "Mouse is inside",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "MouseIsInside"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "Index"
            }
          ],
          "sharedPropertyDescriptors": []
        }
      ],
      "eventsBasedObjects": [
        {
          "defaultName": "Slider",
          "description": "Let users select a numerical value by dragging a slider.",
          "fullName": "Slider",
          "name": "PanelSpriteSlider",
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onCreated",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "This allows to detect a change of \"intial value\" on hot reload."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetPropertyPreviousInitialValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyInitialValue()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Create the child-object instances."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "Background",
                        "0",
                        "0",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "FillBar",
                        "0",
                        "0",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "Thumb",
                        "0",
                        "0",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "Background",
                        "=",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "FillBar",
                        "=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "Thumb",
                        "=",
                        "3"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Create the label that is displayed over the thumb."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "Label",
                        "0",
                        "0",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "Label",
                        "=",
                        "4"
                      ]
                    },
                    {
                      "type": {
                        "value": "TextObject::SetWrapping"
                      },
                      "parameters": [
                        "Label",
                        "no"
                      ]
                    },
                    {
                      "type": {
                        "value": "Cache"
                      },
                      "parameters": [
                        "Label"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Pass the configuration to the behavior."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateSliderConfiguration"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyInitialValue()",
                        "Object.PropertyInitialValue()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetIncludedInParentCollisionMask"
                      },
                      "parameters": [
                        "Label",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetIncludedInParentCollisionMask"
                      },
                      "parameters": [
                        "Thumb",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetIncludedInParentCollisionMask"
                      },
                      "parameters": [
                        "FillBar",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onHotReloading",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateSliderConfiguration"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::PropertyInitialValue"
                      },
                      "parameters": [
                        "Object",
                        "!=",
                        "Object.PropertyPreviousInitialValue()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetPropertyPreviousInitialValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyInitialValue()"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyInitialValue()",
                        "Object.PropertyInitialValue()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "doStepPostEvents",
              "sentence": "",
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Handle touches",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BehaviorActivated"
                          },
                          "parameters": [
                            "Background",
                            "ButtonFSM"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "DraggableBehavior::Dragged"
                              },
                              "parameters": [
                                "Thumb",
                                "Draggable"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "DraggableBehavior::Dropped"
                              },
                              "parameters": [
                                "Thumb",
                                "Draggable"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::ButtonFSM::IsPressed"
                                  },
                                  "parameters": [
                                    "Background",
                                    "ButtonFSM",
                                    ""
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::ButtonFSM::IsPressedOutside"
                                  },
                                  "parameters": [
                                    "Background",
                                    "ButtonFSM",
                                    ""
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
                              },
                              "parameters": [
                                "Object",
                                "=",
                                "FillBar.Slider::MinValue() + FillBar.Slider::Size() * (TouchX(Background.ButtonFSM::TouchId(), Object.Layer()) - Object.FullBarLeft()) / Object.FullBarWidth()",
                                "FillBar.Slider::MinValue() + FillBar.Slider::Size() * (MouseX() - Object.FullBarLeft()) / Object.FullBarWidth()"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"
                                  },
                                  "parameters": [
                                    "Object"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Montre"
                                  },
                                  "parameters": [
                                    "Label",
                                    ""
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "ResetObjectTimer"
                                  },
                                  "parameters": [
                                    "Label",
                                    "\"HideBack\""
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "DraggableBehavior::Dragged"
                              },
                              "parameters": [
                                "Thumb",
                                "Draggable"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
                              },
                              "parameters": [
                                "Object",
                                "=",
                                "FillBar.Slider::MinValue() + FillBar.Slider::Size() * (Thumb.CenterX() - Object.FullBarLeft()) / Object.FullBarWidth()",
                                "FillBar.Slider::MinValue() + FillBar.Slider::Size() * (Thumb.CenterX() - Object.FullBarLeft()) / Object.FullBarWidth()"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"
                                  },
                                  "parameters": [
                                    "Object"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Montre"
                                  },
                                  "parameters": [
                                    "Label",
                                    ""
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "DraggableBehavior::Dropped"
                              },
                              "parameters": [
                                "Thumb",
                                "Draggable"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ResetObjectTimer"
                              },
                              "parameters": [
                                "Label",
                                "\"HideBack\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"
                              },
                              "parameters": [
                                "Object"
                              ]
                            },
                            {
                              "type": {
                                "value": "CollisionPoint"
                              },
                              "parameters": [
                                "Thumb",
                                "MouseOnlyCursorX(Object.Layer(), 0)",
                                "MouseOnlyCursorY(Thumb.Layer(), 0)"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Montre"
                              },
                              "parameters": [
                                "Label",
                                ""
                              ]
                            },
                            {
                              "type": {
                                "value": "ResetObjectTimer"
                              },
                              "parameters": [
                                "Label",
                                "\"HideBack\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Label",
                                "\"HideBack\"",
                                ">",
                                "0.5"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Cache"
                              },
                              "parameters": [
                                "Label"
                              ]
                            },
                            {
                              "type": {
                                "value": "RemoveObjectTimer"
                              },
                              "parameters": [
                                "Label",
                                "\"HideBack\""
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Resize",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Children instances must be resized when the parent size change:\n- background is resized to take the full dimensions of the parent\n- the label is put back at the center of the bar\n\nThe scale is set back to 1 because it means that the parent instance has the same dimensions as the union of its children instances."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::CompareNumbers"
                              },
                              "parameters": [
                                "Object.Width()",
                                "!=",
                                "max(Background.BoundingBoxRight(), max(Label.BoundingBoxRight(), Thumb.BoundingBoxRight())) - min(Background.BoundingBoxLeft(), min(Label.BoundingBoxLeft(), Thumb.BoundingBoxLeft()))"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::CompareNumbers"
                              },
                              "parameters": [
                                "Object.Height()",
                                "!=",
                                "max(Background.BoundingBoxBottom(), max(Label.BoundingBoxBottom(), Thumb.BoundingBoxBottom())) - min(Background.BoundingBoxTop(), min(Label.BoundingBoxTop(), Thumb.BoundingBoxTop()))"
                              ]
                            }
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "Background",
                            "Width",
                            "=",
                            "Object.Width()"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "Background",
                            "Height",
                            "=",
                            "Object.Height()"
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteSlider::PanelSpriteSlider::Scale"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteObject::Width"
                          },
                          "parameters": [
                            "Background",
                            "=",
                            "Background.Variable(Width)"
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteObject::Height"
                          },
                          "parameters": [
                            "Background",
                            "=",
                            "Background.Variable(Height)"
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"
                          },
                          "parameters": [
                            "Object",
                            ""
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "The parent size is not defined in onCreate so it needs to be done here."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the slider is being dragged.",
              "fullName": "Being dragged",
              "functionType": "Condition",
              "group": "Slider",
              "name": "IsBeingDragged",
              "sentence": "_PARAM0_ is being dragged",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "DraggableBehavior::Dragged"
                          },
                          "parameters": [
                            "Thumb",
                            "Draggable"
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteSlider::ButtonFSM::IsPressed"
                          },
                          "parameters": [
                            "Background",
                            "ButtonFSM",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "PanelSpriteSlider::ButtonFSM::IsPressedOutside"
                          },
                          "parameters": [
                            "Background",
                            "ButtonFSM",
                            ""
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the value of the slider.",
              "fullName": "Value",
              "functionType": "ExpressionAndCondition",
              "name": "Value",
              "sentence": "the value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "FillBar.Slider::Value()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Value",
              "name": "SetValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetValue"
                      },
                      "parameters": [
                        "FillBar",
                        "Slider",
                        "=",
                        "GetArgumentAsNumber(\"Value\")",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the minimum value of the slider.",
              "fullName": "Minimum value",
              "functionType": "ExpressionAndCondition",
              "group": "Slider configuration",
              "name": "MinValue",
              "sentence": "the minimum value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "FillBar.Slider::MinValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "MinValue",
              "name": "SetMinValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetMinValue"
                      },
                      "parameters": [
                        "FillBar",
                        "Slider",
                        "=",
                        "GetArgumentAsNumber(\"Value\")",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the maximum value of the slider.",
              "fullName": "Maximum value",
              "functionType": "ExpressionAndCondition",
              "group": "Slider configuration",
              "name": "MaxValue",
              "sentence": "the maximum value",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "FillBar.Slider::MaxValue()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "MaxValue",
              "name": "SetMaxValue",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetMaxValue"
                      },
                      "parameters": [
                        "FillBar",
                        "Slider",
                        "=",
                        "GetArgumentAsNumber(\"Value\")",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateLayout"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::UpdateThumbPosition"
                      },
                      "parameters": [
                        "Object",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the step size of the slider.",
              "fullName": "Step size",
              "functionType": "ExpressionAndCondition",
              "group": "Slider configuration",
              "name": "StepSize",
              "sentence": "the step size",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "FillBar.Slider::StepSize()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "StepSize",
              "name": "SetStepSize",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::SetStepSize"
                      },
                      "parameters": [
                        "FillBar",
                        "Slider",
                        "=",
                        "GetArgumentAsNumber(\"Value\")",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "PanelSpriteSlider::Slider",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the label is shown.",
              "fullName": "Label is shown",
              "functionType": "Condition",
              "group": "Slider configuration",
              "name": "IsLabelShown",
              "sentence": "_PARAM0_ label is shown",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::PropertyShowLabelAtChanges"
                      },
                      "parameters": [
                        "Object"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Show (or hide) the label on the bar.",
              "fullName": "Show label",
              "functionType": "Action",
              "group": "Slider configuration",
              "name": "SetLabelShown",
              "sentence": "Show the label of _PARAM0_: _PARAM1_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetPropertyShowLabelAtChanges"
                      },
                      "parameters": [
                        "Object",
                        "no"
                      ]
                    },
                    {
                      "type": {
                        "value": "Cache"
                      },
                      "parameters": [
                        "Label"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetPropertyShowLabelAtChanges"
                      },
                      "parameters": [
                        "Object",
                        "yes"
                      ]
                    },
                    {
                      "type": {
                        "value": "Montre"
                      },
                      "parameters": [
                        "Label",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Show the label",
                  "name": "Value",
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Center the bar according to the button configuration. This is used in doStepPostEvents when the button is resized.",
              "fullName": "Update layout",
              "functionType": "Action",
              "name": "UpdateLayout",
              "private": true,
              "sentence": "Update layout of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "FillBar",
                        "=",
                        "Object.PropertyBarLeftPadding()",
                        "=",
                        "Object.PropertyBarTopPadding()"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteObject::Height"
                      },
                      "parameters": [
                        "FillBar",
                        "=",
                        "round(Background.Height() - Object.PropertyBarTopPadding() - Object.PropertyBarBottomPadding())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Update the thumb position according to the slider value.",
              "fullName": "Update thumb position",
              "functionType": "Action",
              "name": "UpdateThumbPosition",
              "private": true,
              "sentence": "Update the thumb position of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::Slider::Size"
                      },
                      "parameters": [
                        "FillBar",
                        "Slider",
                        ">",
                        "0",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PanelSpriteObject::Width"
                          },
                          "parameters": [
                            "FillBar",
                            "=",
                            "Object.FullBarWidth() * (FillBar.Slider::Value() - FillBar.Slider::MinValue()) / FillBar.Slider::Size()"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCenterX"
                          },
                          "parameters": [
                            "Thumb",
                            "=",
                            "Object.FullBarLeft() + FillBar.Width()"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetCenterY"
                          },
                          "parameters": [
                            "Thumb",
                            "=",
                            "FillBar.CenterY()"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "TextObject::String"
                          },
                          "parameters": [
                            "Label",
                            "=",
                            "ToString(Object.Value())"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetCenterX"
                          },
                          "parameters": [
                            "Label",
                            "=",
                            "Thumb.CenterX()"
                          ]
                        },
                        {
                          "type": {
                            "value": "MettreY"
                          },
                          "parameters": [
                            "Label",
                            "=",
                            "Thumb.Y() - Label.Height() - Object.PropertyLabelMargin()"
                          ]
                        },
                        {
                          "type": {
                            "value": "TextObject::Angle"
                          },
                          "parameters": [
                            "Label",
                            "=",
                            "-Object.Angle()"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Expression",
              "name": "FullBarLeft",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.PropertyBarLeftPadding()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Expression",
              "name": "FullBarRight",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Background.Width() - Object.PropertyBarRightPadding()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Expression",
              "name": "FullBarWidth",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Background.Width() - Object.PropertyBarLeftPadding() - Object.PropertyBarRightPadding()"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Update the slider configuration.",
              "fullName": "Update slider configuration",
              "functionType": "Action",
              "name": "UpdateSliderConfiguration",
              "private": true,
              "sentence": "Update the slider configuration of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Pass configuration to the behavior and update children."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetMinValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyMinValue()",
                        "Object.PropertyMaxValue()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetMaxValue"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyMaxValue()",
                        "Object.PropertyMaxValue()"
                      ]
                    },
                    {
                      "type": {
                        "value": "PanelSpriteSlider::PanelSpriteSlider::SetStepSize"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.PropertyStepSize()",
                        "Object.PropertyMaxValue()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "De/activate interactions with the button.",
              "fullName": "De/activate interactions",
              "functionType": "Action",
              "name": "Activate",
              "sentence": "Activate interactions with _PARAM0_: _PARAM1_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"ShouldActivate\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ActivateBehavior"
                      },
                      "parameters": [
                        "Thumb",
                        "Draggable",
                        "yes"
                      ]
                    },
                    {
                      "type": {
                        "value": "ActivateBehavior"
                      },
                      "parameters": [
                        "Background",
                        "ButtonFSM",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"ShouldActivate\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ActivateBehavior"
                      },
                      "parameters": [
                        "Thumb",
                        "Draggable",
                        "no"
                      ]
                    },
                    {
                      "type": {
                        "value": "ActivateBehavior"
                      },
                      "parameters": [
                        "Background",
                        "ButtonFSM",
                        "no"
                      ]
                    },
                    {
                      "type": {
                        "value": "Cache"
                      },
                      "parameters": [
                        "Label"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                },
                {
                  "description": "Activate",
                  "name": "ShouldActivate",
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the slider allows interactions.",
              "fullName": "Interactions activated",
              "functionType": "Condition",
              "name": "IsActivated",
              "sentence": "Interactions on _PARAM0_ are activated",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BehaviorActivated"
                      },
                      "parameters": [
                        "Background",
                        "ButtonFSM"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "supplementaryInformation": "PanelSpriteSlider::PanelSpriteSlider",
                  "type": "object"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "0",
              "type": "Number",
              "label": "Bar left margin",
              "description": "",
              "group": "Bar",
              "extraInformation": [
                "Label",
                "FillBar"
              ],
              "name": "BarLeftPadding"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Bar top margin",
              "description": "",
              "group": "Bar",
              "extraInformation": [
                "Label",
                "FillBar"
              ],
              "name": "BarTopPadding"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Bar right margin",
              "description": "",
              "group": "Bar",
              "extraInformation": [
                "Label",
                "FillBar"
              ],
              "name": "BarRightPadding"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Bar bottom margin",
              "description": "",
              "group": "Bar",
              "extraInformation": [
                "Label",
                "FillBar"
              ],
              "name": "BarBottomPadding"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "Show the label when the value is changed",
              "description": "",
              "group": "Label",
              "extraInformation": [],
              "name": "ShowLabelAtChanges"
            },
            {
              "value": "8",
              "type": "Number",
              "label": "Label margin",
              "description": "",
              "group": "Label",
              "extraInformation": [],
              "name": "LabelMargin"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Minimum value",
              "description": "",
              "group": "Value",
              "extraInformation": [],
              "name": "MinValue"
            },
            {
              "value": "100",
              "type": "Number",
              "label": "Maximum value",
              "description": "",
              "group": "Value",
              "extraInformation": [],
              "name": "MaxValue"
            },
            {
              "value": "1",
              "type": "Number",
              "label": "Step size",
              "description": "",
              "group": "Value",
              "extraInformation": [],
              "name": "StepSize"
            },
            {
              "value": "50",
              "type": "Number",
              "label": "Initial value",
              "description": "",
              "group": "Value",
              "extraInformation": [],
              "name": "InitialValue"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "It's used to detect a change at hot reload.",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousInitialValue"
            },
            {
              "value": "Center-center",
              "type": "String",
              "label": "",
              "description": "Only used by the scene editor.",
              "group": "",
              "extraInformation": [
                "Thumb"
              ],
              "hidden": true,
              "name": "ThumbAnchorOrigin"
            },
            {
              "value": "Center-right",
              "type": "String",
              "label": "",
              "description": "Only used by the scene editor.",
              "group": "",
              "extraInformation": [
                "FillBar"
              ],
              "hidden": true,
              "name": "ThumbAnchorTarget"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "Only used by the scene editor.",
              "group": "",
              "extraInformation": [
                "Label"
              ],
              "hidden": true,
              "name": "ShowLabel"
            }
          ],
          "objects": [
            {
              "assetStoreId": "",
              "bold": false,
              "italic": false,
              "name": "Label",
              "smoothed": true,
              "type": "TextObject::Text",
              "underlined": false,
              "variables": [],
              "effects": [],
              "behaviors": [],
              "string": "It displays the value when it changes.",
              "font": "",
              "textAlignment": "",
              "characterSize": 20,
              "color": {
                "b": 0,
                "g": 0,
                "r": 0
              },
              "content": {
                "bold": false,
                "isOutlineEnabled": false,
                "isShadowEnabled": false,
                "italic": false,
                "outlineColor": "255;255;255",
                "outlineThickness": 2,
                "shadowAngle": 90,
                "shadowBlurRadius": 2,
                "shadowColor": "0;0;0",
                "shadowDistance": 4,
                "shadowOpacity": 127,
                "smoothed": true,
                "underlined": false,
                "text": "It displays the value when it changes.",
                "font": "",
                "textAlignment": "",
                "characterSize": 20,
                "color": "0;0;0"
              }
            },
            {
              "assetStoreId": "",
              "bottomMargin": 0,
              "height": 32,
              "leftMargin": 0,
              "name": "Thumb",
              "rightMargin": 0,
              "texture": "",
              "tiled": false,
              "topMargin": 0,
              "type": "PanelSpriteObject::PanelSprite",
              "width": 32,
              "variables": [],
              "effects": [],
              "behaviors": [
                {
                  "name": "Draggable",
                  "type": "DraggableBehavior::Draggable",
                  "checkCollisionMask": false
                }
              ]
            },
            {
              "assetStoreId": "",
              "bottomMargin": 0,
              "height": 32,
              "leftMargin": 0,
              "name": "FillBar",
              "rightMargin": 0,
              "texture": "",
              "tiled": true,
              "topMargin": 0,
              "type": "PanelSpriteObject::PanelSprite",
              "width": 32,
              "variables": [],
              "effects": [],
              "behaviors": [
                {
                  "name": "Slider",
                  "type": "PanelSpriteSlider::Slider",
                  "Value": 0,
                  "MinValue": 0,
                  "MaxValue": 1,
                  "StepSize": 1
                }
              ]
            },
            {
              "assetStoreId": "",
              "bottomMargin": 0,
              "height": 32,
              "leftMargin": 0,
              "name": "Background",
              "rightMargin": 0,
              "texture": "",
              "tiled": true,
              "topMargin": 0,
              "type": "PanelSpriteObject::PanelSprite",
              "width": 32,
              "variables": [],
              "effects": [],
              "behaviors": [
                {
                  "name": "ButtonFSM",
                  "type": "PanelSpriteSlider::ButtonFSM",
                  "ShouldCheckHovering": true,
                  "State": "Idle",
                  "TouchId": 0,
                  "TouchIsInside": false,
                  "MouseIsInside": false,
                  "Index": 0
                }
              ]
            }
          ],
          "objectsFolderStructure": {
            "folderName": "__ROOT",
            "children": [
              {
                "objectName": "Label"
              },
              {
                "objectName": "Thumb"
              },
              {
                "objectName": "FillBar"
              },
              {
                "objectName": "Background"
              }
            ]
          }
        }
      ]
    },
    {
      "author": "VegeTato, arthuro555",
      "category": "General",
      "extensionNamespace": "",
      "fullName": "Repeat every X seconds",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJlcGVhdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNywxN0g3VjE0TDMsMThMNywyMlYxOUgxOVYxM0gxN003LDdIMTdWMTBMMjEsNkwxNywyVjVINVYxMUg3VjdaIiAvPjwvc3ZnPg==",
      "name": "RepeatEveryXSeconds",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/repeat.svg",
      "shortDescription": "Trigger an event every X seconds.",
      "version": "0.1.1",
      "description": "Convenience conditions, actions and behaviors for timers to trigger a condition every X seconds.",
      "origin": {
        "identifier": "RepeatEveryXSeconds",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "repeat",
        "timer",
        "time"
      ],
      "authorIds": [
        "ZgrsWuRTAkXgeuPV9bo0zuEcA2w1",
        "IRIhkkTTl2UHhfjrLTTH5GYwkYu1",
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Triggers every X seconds.",
          "fullName": "Repeat with a scene timer",
          "functionType": "Condition",
          "name": "Repeat",
          "sentence": "Repeat every _PARAM2_ seconds using timer _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "",
                    "TimerName",
                    ">=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "TimerName"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__RepeatEveryXSeconds.Repetitions[TimerName]",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "player",
                    "TimerName",
                    ">=",
                    "LoopDuration"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "TimerName"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__RepeatEveryXSeconds.Repetitions[TimerName]",
                    "+",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Timer name used to loop",
              "name": "TimerName",
              "type": "string"
            },
            {
              "description": "Duration in seconds between each repetition",
              "name": "LoopDuration",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the number of times the timer has repeated.",
          "fullName": "Repetition number of a scene timer",
          "functionType": "ExpressionAndCondition",
          "name": "Repetition",
          "sentence": "Repetition number of timer _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Timer name used to loop",
              "name": "TimerName",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Triggers every X seconds X amount of times.",
          "fullName": "Repeat with a scene timer X times",
          "functionType": "Condition",
          "name": "RepeatXTimes",
          "sentence": "Repeat every _PARAM2_ seconds _PARAM3_ times using timer _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "MaxLoop",
                        "<",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::Repetition"
                      },
                      "parameters": [
                        "",
                        "<",
                        "MaxLoop",
                        "TimerName",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": {
                    "value": "RepeatEveryXSeconds::Repeat"
                  },
                  "parameters": [
                    "",
                    "TimerName",
                    "LoopDuration",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Timer name used to loop",
              "name": "TimerName",
              "type": "string"
            },
            {
              "description": "Duration in seconds between each repetition",
              "name": "LoopDuration",
              "type": "expression"
            },
            {
              "description": "The limit of loops",
              "longDescription": "Maximum nuber of repetition (-1 to repeat forever).",
              "name": "MaxLoop",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Reset repetition count of a scene timer.",
          "fullName": "Reset repetition count of a scene timer",
          "functionType": "Action",
          "name": "DeleteTimer",
          "sentence": "Reset repetition count for timer _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "RemoveTimer"
                  },
                  "parameters": [
                    "player",
                    "TimerName"
                  ]
                },
                {
                  "type": {
                    "value": "VariableRemoveChild"
                  },
                  "parameters": [
                    "__RepeatEveryXSeconds.Repetitions",
                    "TimerName"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Timer name used to loop",
              "name": "TimerName",
              "type": "string"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [
        {
          "description": "Allows to repeat an object timer every X seconds.",
          "fullName": "Repeat every X seconds",
          "name": "RepeatTimer",
          "objectType": "",
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onCreated",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Triggers every X seconds.",
              "fullName": "Repeat with an object timer",
              "functionType": "Condition",
              "group": "Timers",
              "name": "Repeat2",
              "sentence": "Repeat every _PARAM3_ seconds using timer _PARAM2_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "CompareObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName",
                        ">=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "Object",
                        "__RepeatEveryXSeconds.Repetitions[TimerName]",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CompareObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName",
                        ">=",
                        "LoopDuration"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "Object",
                        "__RepeatEveryXSeconds.Repetitions[TimerName]",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                },
                {
                  "description": "Timer name used to loop",
                  "name": "TimerName",
                  "type": "string"
                },
                {
                  "description": "Duration in seconds between each repetition",
                  "name": "LoopDuration",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the number of times the timer has repeated.",
              "fullName": "Repetition number of an object timer",
              "functionType": "ExpressionAndCondition",
              "group": "Timers",
              "name": "Repetition",
              "sentence": "Repetition number of timer _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                },
                {
                  "description": "Timer name used to loop",
                  "name": "TimerName",
                  "type": "string"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Triggers every X seconds X amount of times.",
              "fullName": "Repeat with an object timer X times",
              "functionType": "Condition",
              "group": "Timers",
              "name": "RepeatXTimes",
              "sentence": "Repeat every _PARAM3_ seconds _PARAM4_ times using timer _PARAM2_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::CompareNumbers"
                          },
                          "parameters": [
                            "MaxLoop",
                            "<",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "RepeatEveryXSeconds::RepeatTimer::Repetition"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "<",
                            "MaxLoop",
                            "TimerName",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::RepeatTimer::Repeat2"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "TimerName",
                        "LoopDuration",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                },
                {
                  "description": "Timer name used to loop",
                  "name": "TimerName",
                  "type": "string"
                },
                {
                  "description": "Duration in seconds between each repetition",
                  "name": "LoopDuration",
                  "type": "expression"
                },
                {
                  "description": "The limit of loops",
                  "longDescription": "Maximum nuber of repetition (-1 to repeat forever).",
                  "name": "MaxLoop",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Reset repetition count of an object timer.",
              "fullName": "Reset repetition count of an object timer",
              "functionType": "Action",
              "group": "Timers",
              "name": "DeleteTimer",
              "sentence": "Reset repetition count for timer _PARAM2_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "RemoveObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveChild"
                      },
                      "parameters": [
                        "Object",
                        "__RepeatEveryXSeconds.Repetitions",
                        "TimerName"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                },
                {
                  "description": "Timer name used to loop",
                  "name": "TimerName",
                  "type": "string"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Triggers every X seconds, where X is defined in the behavior properties.",
              "fullName": "Repeat every X seconds (deprecated)",
              "functionType": "Condition",
              "name": "Repeat",
              "private": true,
              "sentence": "Recurring timer _PARAM1_ of _PARAM0_ has triggered",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName",
                        "TimerLength"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "RepeatEveryXSeconds::RepeatTimer::PropertyLimit"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "-1"
                          ]
                        },
                        {
                          "type": {
                            "value": "RepeatEveryXSeconds::RepeatTimer::PropertyCounter"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "<",
                            "Limit"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    },
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Pauses a recurring timer.",
              "fullName": "Pause a recurring timer (deprecated)",
              "functionType": "Action",
              "name": "Pause",
              "private": true,
              "sentence": "Pause recurring timer _PARAM1_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PauseObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Resumes a paused recurring timer.",
              "fullName": "Resume a recurring timer (deprecated)",
              "functionType": "Action",
              "name": "Resume",
              "private": true,
              "sentence": "Resume recurring timer _PARAM1_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "UnPauseObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "TimerName"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Allows to trigger the recurring timer X times again.",
              "fullName": "Reset the limit (deprecated)",
              "functionType": "Action",
              "name": "ResetLimit",
              "private": true,
              "sentence": "Allow to trigger the recurring timer _PARAM1_ of _PARAM0_ X times again",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "MyTimer",
              "type": "String",
              "label": "The name of the timer to repeat",
              "description": "",
              "group": "",
              "extraInformation": [],
              "deprecated": true,
              "name": "TimerName"
            },
            {
              "value": "1",
              "type": "Number",
              "label": "The time between each trigger (in seconds)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "deprecated": true,
              "name": "TimerLength"
            },
            {
              "value": "-1",
              "type": "Number",
              "label": "How many times should the timer trigger? -1 for forever.",
              "description": "",
              "group": "",
              "extraInformation": [],
              "deprecated": true,
              "name": "Limit"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "An internal counter",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "Counter"
            }
          ],
          "sharedPropertyDescriptors": []
        }
      ],
      "eventsBasedObjects": []
    },
    {
      "author": "",
      "category": "General",
      "extensionNamespace": "",
      "fullName": "3D raycast",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJheS1zdGFydC1hcnJvdyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0yMywxMkwxOSwxNlYxM0g2LjgzQzYuNDIsMTQuMTcgNS4zMSwxNSA0LDE1QTMsMyAwIDAsMSAxLDEyQTMsMyAwIDAsMSA0LDlDNS4zMSw5IDYuNDIsOS44MyA2LjgzLDExSDE5VjhMMjMsMTJaIiAvPjwvc3ZnPg==",
      "name": "Raycaster3D",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/8419f46b76bce482c14b4c03b4141a64d457e4cdc92686f3470381f5d2694abd_ray-start-arrow.svg",
      "shortDescription": "Find 3D objects that cross a line.",
      "version": "0.1.4",
      "description": [
        "It can be useful to:",
        "- Find 3D objects under the pointer",
        "- Target objects from a 1st person view",
        "- Make AI that detect objects in their field of view"
      ],
      "origin": {
        "identifier": "Raycaster3D",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d",
        "recast",
        "collision"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onFirstSceneLoaded",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Raycaster3D::DefineHelperClasses"
                  },
                  "parameters": [
                    "",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Define helper classes JavaScript code.",
          "fullName": "Define helper classes",
          "functionType": "Action",
          "name": "DefineHelperClasses",
          "private": true,
          "sentence": "Define helper classes JavaScript code",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "_Raycaster3DExtension_ClassesDefined",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetGlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "_Raycaster3DExtension_ClassesDefined",
                    "True"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "gdjs.__raycaster3DExtension = gdjs.__raycaster3DExtension || {};",
                    "",
                    "class Raycaster {",
                    "    raycaster = new THREE.Raycaster();",
                    "    pointer = new THREE.Vector2();",
                    "    raycastResults = [];",
                    "    lastDistance = 0;",
                    "    lastPositionX = 0;",
                    "    lastPositionY = 0;",
                    "    lastPositionZ = 0;",
                    "    lastNormalX = 0;",
                    "    lastNormalY = 0;",
                    "    lastNormalZ = 0;",
                    "",
                    "    /**",
                    "     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}",
                    "     * @param objects {gdjs.RuntimeObject[]}",
                    "     * @param pointerX {number}",
                    "     * @param pointerY {number}",
                    "     * @param distanceMax {number}",
                    "     */",
                    "    recastFromCamera(objectsLists, objects, pointerX, pointerY, distanceMax) {",
                    "        if (objects.length === 0) {",
                    "            return false;",
                    "        }",
                    "        const object = objects[0];",
                    "        const layer = object.getInstanceContainer().getLayer(object.getLayer());",
                    "        const camera = layer.getRenderer().getThreeCamera();",
                    "",
                    "        const raycaster = this.raycaster;",
                    "        const pointer = this.pointer;",
                    "        pointer.x = -1 + 2 * pointerX;",
                    "        pointer.y = 1 - 2 * pointerY;",
                    "        raycaster.setFromCamera(pointer, camera);",
                    "        raycaster.far = distanceMax;",
                    "",
                    "        return this._doRecast(objectsLists, objects);",
                    "    }",
                    "",
                    "    /**",
                    "     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}",
                    "     * @param objects {gdjs.RuntimeObject[]}",
                    "     * @param originX {number}",
                    "     * @param originY {number}",
                    "     * @param originZ {number}",
                    "     * @param rotationAngle {number}",
                    "     * @param elevationAngle {number}",
                    "     * @param distanceMax {number}",
                    "     */",
                    "    recastWithAngle(",
                    "        objectsLists,",
                    "        objects,",
                    "        originX,",
                    "        originY,",
                    "        originZ,",
                    "        rotationAngle,",
                    "        elevationAngle,",
                    "        distanceMax",
                    "    ) {",
                    "        if (objects.length === 0) {",
                    "            return false;",
                    "        }",
                    "        const raycaster = this.raycaster;",
                    "        raycaster.ray.origin.set(",
                    "            originX,",
                    "            -originY,",
                    "            originZ,",
                    "        );",
                    "        const rotation = rotationAngle * Math.PI / 180;",
                    "        const elevation = elevationAngle * Math.PI / 180;",
                    "        const cosElevation = Math.cos(elevation);",
                    "        raycaster.ray.direction.set(",
                    "            Math.cos(rotation) * cosElevation,",
                    "            -Math.sin(rotation) * cosElevation,",
                    "            Math.sin(elevation),",
                    "        );",
                    "        raycaster.far = distanceMax;",
                    "",
                    "        return this._doRecast(objectsLists, objects);",
                    "    }",
                    "",
                    "    /**",
                    "     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}",
                    "     * @param objects {gdjs.RuntimeObject[]}",
                    "     * @param originX {number}",
                    "     * @param originY {number}",
                    "     * @param originZ {number}",
                    "     * @param targetX {number}",
                    "     * @param targetY {number}",
                    "     * @param targetZ {number}",
                    "     * @param distanceMax {number}",
                    "     */",
                    "    recastBetweenPosition(",
                    "        objectsLists,",
                    "        objects,",
                    "        originX,",
                    "        originY,",
                    "        originZ,",
                    "        targetX,",
                    "        targetY,",
                    "        targetZ",
                    "    ) {",
                    "        if (objects.length === 0) {",
                    "            return false;",
                    "        }",
                    "        const raycaster = this.raycaster;",
                    "        raycaster.ray.origin.set(",
                    "            originX,",
                    "            -originY,",
                    "            originZ,",
                    "        );",
                    "        const deltaX = targetX - originX;",
                    "        const deltaY = targetY - originY;",
                    "        const deltaZ = targetZ - originZ;",
                    "        const deltaLength = Math.hypot(deltaX, deltaY, deltaZ);",
                    "        raycaster.ray.direction.set(",
                    "            deltaX / deltaLength,",
                    "            -deltaY / deltaLength,",
                    "            deltaZ / deltaLength,",
                    "        );",
                    "        raycaster.far = deltaLength;",
                    "",
                    "        return this._doRecast(objectsLists, objects);",
                    "    }",
                    "",
                    "    /**",
                    "     * @param objectsLists {Hashtable<gdjs.RuntimeObject[]>}",
                    "     * @param objects {gdjs.RuntimeObject[]}",
                    "     */",
                    "    _doRecast(objectsLists, objects) {",
                    "        const raycastResults = this.raycastResults;",
                    "        let distanceMin = Number.MAX_VALUE;",
                    "        let nearestObject = null;",
                    "        for (const object of objects) {",
                    "            raycastResults.length = 0;",
                    "            const threeObject = object.get3DRendererObject();",
                    "            if (!threeObject) {",
                    "                continue;",
                    "            }",
                    "            this.raycaster.intersectObject(threeObject, true, raycastResults);",
                    "            if (raycastResults.length > 0 && raycastResults[0].distance < distanceMin) {",
                    "                const raycastResult = raycastResults[0];",
                    "                distanceMin = raycastResult.distance;",
                    "                nearestObject = object;",
                    "                this.lastDistance = raycastResult.distance;",
                    "                this.lastPositionX = raycastResult.point.x;",
                    "                this.lastPositionY = -raycastResult.point.y;",
                    "                this.lastPositionZ = raycastResult.point.z;",
                    "                this.lastNormalX = raycastResult.normal.x;",
                    "                this.lastNormalY = raycastResult.normal.y;",
                    "                this.lastNormalZ = raycastResult.normal.z;",
                    "            }",
                    "        }",
                    "        if (!nearestObject) {",
                    "            return false;",
                    "        }",
                    "        raycastResults.length = 0;",
                    "        gdjs.evtTools.object.pickOnly(",
                    "            objectsLists,",
                    "            nearestObject",
                    "        );",
                    "        return true;",
                    "    }",
                    "}",
                    "",
                    "gdjs.__raycaster3DExtension.Raycaster = Raycaster;",
                    "gdjs.__raycaster3DExtension.raycaster = new Raycaster();",
                    ""
                  ],
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Sends a ray from the given source position and angle, intersecting the closest object. The intersected object will become the only one taken into account.",
          "fullName": "Raycast",
          "functionType": "Condition",
          "group": "Collision",
          "name": "RaycastWithAngle",
          "sentence": "Cast a ray from _PARAM2_; _PARAM3_; _PARAM4_ toward a rotation of _PARAM5_°, an elevation of _PARAM6_° and max distance of _PARAM7_ against _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "eventsFunctionContext.returnValue =",
                "    gdjs.__raycaster3DExtension.raycaster.recastWithAngle(",
                "        eventsFunctionContext.getObjectsLists(\"Object\"),",
                "        objects,",
                "        eventsFunctionContext.getArgument(\"OriginX\"),",
                "        eventsFunctionContext.getArgument(\"OriginY\"),",
                "        eventsFunctionContext.getArgument(\"OriginZ\"),",
                "        eventsFunctionContext.getArgument(\"RotationAngle\"),",
                "        eventsFunctionContext.getArgument(\"ElevationAngle\"),",
                "        eventsFunctionContext.getArgument(\"DistanceMax\")",
                "    );",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Objects to test against the ray",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Ray source X position",
              "name": "OriginX",
              "type": "expression"
            },
            {
              "description": "Ray source Y position",
              "name": "OriginY",
              "type": "expression"
            },
            {
              "description": "Ray source Z position",
              "name": "OriginZ",
              "type": "expression"
            },
            {
              "description": "Rotation angle (in degrees)",
              "name": "RotationAngle",
              "type": "expression"
            },
            {
              "description": "Elevation angle (in degrees)",
              "name": "ElevationAngle",
              "type": "expression"
            },
            {
              "description": "Ray maximum distance (in pixels)",
              "name": "DistanceMax",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Sends a ray from the given source position to the final point, intersecting the closest object. The intersected object will become the only one taken into account.",
          "fullName": "Raycast to a position",
          "functionType": "Condition",
          "group": "Collision",
          "name": "RaycastBetweenPosition",
          "sentence": "Cast a ray from _PARAM2_; _PARAM3_; _PARAM4_ to _PARAM5_; _PARAM6_; _PARAM7_ against _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "eventsFunctionContext.returnValue =",
                "    gdjs.__raycaster3DExtension.raycaster.recastBetweenPosition(",
                "        eventsFunctionContext.getObjectsLists(\"Object\"),",
                "        objects,",
                "        eventsFunctionContext.getArgument(\"OriginX\"),",
                "        eventsFunctionContext.getArgument(\"OriginY\"),",
                "        eventsFunctionContext.getArgument(\"OriginZ\"),",
                "        eventsFunctionContext.getArgument(\"TargetX\"),",
                "        eventsFunctionContext.getArgument(\"TargetY\"),",
                "        eventsFunctionContext.getArgument(\"TargetZ\")",
                "    );",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Objects to test against the ray",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Ray source X position",
              "name": "OriginX",
              "type": "expression"
            },
            {
              "description": "Ray source Y position",
              "name": "OriginY",
              "type": "expression"
            },
            {
              "description": "Ray source Z position",
              "name": "OriginZ",
              "type": "expression"
            },
            {
              "description": "Ray target X position",
              "name": "TargetX",
              "type": "expression"
            },
            {
              "description": "Ray target Y position",
              "name": "TargetY",
              "type": "expression"
            },
            {
              "description": "Ray target Z position",
              "name": "TargetZ",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Sends a ray from the center of the camera, intersecting the closest object. The intersected object will become the only one taken into account.",
          "fullName": "Raycast from camera center",
          "functionType": "Condition",
          "group": "Collision",
          "name": "RaycastFromCameraCenter",
          "sentence": "Cast a ray from the camera center to a maximum distance of _PARAM2_ against _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "eventsFunctionContext.returnValue =",
                "    gdjs.__raycaster3DExtension.raycaster.recastFromCamera(",
                "        eventsFunctionContext.getObjectsLists(\"Object\"),",
                "        objects,",
                "        0.5,",
                "        0.5,",
                "        eventsFunctionContext.getArgument(\"DistanceMax\")",
                "    );",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Objects to test against the ray",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Ray maximum distance (in pixels)",
              "name": "DistanceMax",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Sends a ray from the given source point on the camera screen, intersecting the closest object. The intersected object will become the only one taken into account.",
          "fullName": "Raycast from a camera point",
          "functionType": "Condition",
          "group": "Collision",
          "name": "RaycastFromCameraPoint",
          "sentence": "Cast a ray from the camera point _PARAM2_; _PARAM3_ to a maximum distance of _PARAM4_ against _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "eventsFunctionContext.returnValue =",
                "    gdjs.__raycaster3DExtension.raycaster.recastFromCamera(",
                "        eventsFunctionContext.getObjectsLists(\"Object\"),",
                "        objects,",
                "        eventsFunctionContext.getArgument(\"PointerX\"),",
                "        eventsFunctionContext.getArgument(\"PointerY\"),",
                "        eventsFunctionContext.getArgument(\"DistanceMax\")",
                "    );",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Objects to test against the ray",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "X position on the screen (from 0 to 1)",
              "name": "PointerX",
              "type": "expression"
            },
            {
              "description": "Y position on the screen (from 0 to 1)",
              "name": "PointerY",
              "type": "expression"
            },
            {
              "description": "Ray maximum distance (in pixels)",
              "name": "DistanceMax",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the last recast intersection distance.",
          "fullName": "Last recast distance",
          "functionType": "ExpressionAndCondition",
          "name": "Distance",
          "sentence": "the last recast intersection distance",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastDistance;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection position on X axis.",
          "fullName": "Last recast X intersection",
          "functionType": "Expression",
          "name": "IntersectionX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionX;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection position on Y axis.",
          "fullName": "Last recast Y intersection",
          "functionType": "Expression",
          "name": "IntersectionY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionY;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection position on Z axis.",
          "fullName": "Last recast Z intersection",
          "functionType": "Expression",
          "name": "IntersectionZ",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastPositionZ;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection normal on X axis.",
          "fullName": "Last recast X normal",
          "functionType": "Expression",
          "name": "NormalX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalX;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection normal on X axis.",
          "fullName": "Last recast X normal",
          "functionType": "Expression",
          "name": "NormalY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalY;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Return the last recast intersection normal on Z axis.",
          "fullName": "Last recast Z normal",
          "functionType": "Expression",
          "name": "NormalZ",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs.__raycaster3DExtension.raycaster.lastNormalZ;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": []
    },
    {
      "author": "D8H",
      "category": "Input",
      "extensionNamespace": "",
      "fullName": "Cursor movement conditions",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTEsMjhMMTEsMjhjLTMuMywwLTYtMi43LTYtNnYtNGMwLTMuMywyLjctNiw2LTZoMGMzLjMsMCw2LDIuNyw2LDZ2NEMxNywyNS4zLDE0LjMsMjgsMTEsMjh6Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMTEiIHkxPSIxNSIgeDI9IjExIiB5Mj0iMTkiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOSw5YzAsMi41LTIsNC41LTQuNSw0LjVTMjAsMTEuNSwyMCw5VjguNUMyMCw2LDE4LDQsMTUuNSw0UzExLDYsMTEsOC41Ii8+DQo8L3N2Zz4NCg==",
      "name": "CursorMovement",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_mouse_pc.svg",
      "shortDescription": "Conditions to check the cursor movement (still or moving).",
      "version": "1.0.1",
      "description": [
        "Provides two conditions:",
        "* The cursor is moving",
        "* The cursor has stayed still for a given duration"
      ],
      "origin": {
        "identifier": "CursorMovement",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "mouse",
        "pointer",
        "cursor"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Check if the cursor has stayed still for the specified time on the default layer.",
          "fullName": "Cursor stays still",
          "functionType": "Condition",
          "name": "CursorStayStill",
          "sentence": "Cursor has stayed still for _PARAM1_ seconds ",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "False"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "",
                    "\"__mousemovement_MouseStayStill\"",
                    "<",
                    "GetArgumentAsNumber(\"Duration\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CursorMovement::CursorIsMoving"
                  },
                  "parameters": [
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "",
                    "\"__mousemovement_MouseStayStill\""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Duration (in seconds)",
              "name": "Duration",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the cursor is moving on the default layer.",
          "fullName": "Cursor is moving",
          "functionType": "Condition",
          "name": "CursorIsMoving",
          "sentence": "Cursor is moving",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "__mousemovement.MousePreX",
                    "=",
                    "MouseX(\"\", 0)"
                  ]
                },
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "__mousemovement.MousePreY",
                    "=",
                    "MouseY(\"\", 0)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onScenePostEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__mousemovement.MousePreX",
                    "=",
                    "MouseX(\"\", 0)"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__mousemovement.MousePreY",
                    "=",
                    "MouseY(\"\", 0)"
                  ]
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": []
    },
    {
      "author": "PANDAKO-GitHub",
      "category": "Input",
      "extensionNamespace": "",
      "fullName": "Mouse Pointer Lock",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMTksMTkgMjQsMTkgMjQsMjQgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSI2LDIzIDExLDIzIDExLDE4ICIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI0LDE5LjRjLTAuNywwLjgtMS40LDEuNi0yLjIsMi40Yy03LDctMTUuMywxMC4yLTE4LjUsN3MtMC4xLTExLjUsNy0xOC41czE1LjMtMTAuMiwxOC41LTcNCgljMS40LDEuNCwxLjYsMy42LDAuOCw2LjMiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMSwyMi41Yy0wLjMtMC4yLTAuNS0wLjUtMC44LTAuOGMtNy03LTEwLjItMTUuMy03LTE4LjVzMTEuNS0wLjEsMTguNSw3czEwLjIsMTUuMyw3LDE4LjUNCgljLTEuNywxLjctNC44LDEuNi04LjQsMC4xIi8+DQo8L3N2Zz4NCg==",
      "name": "MousePointerLock",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Virtual Reality/Virtual Reality_360_rotate_vr_movement.svg",
      "shortDescription": "This behavior removes the limit on the distance the mouse can move and hides the cursor.",
      "version": "0.1.6",
      "description": [
        "This behavior removes the limit on the distance the mouse can move and hides the cursor.",
        "",
        "For example, a user can rotate or continue to manipulate an object by moving the mouse endlessly ([open the project online](https://editor.gdevelop.io/?project=example://mouse-pointer-lock)).",
        "Without the pointer lock, the rotation or operation will stop the moment the pointer reaches the edge of the browser or screen.",
        "",
        "Game players don't have to worry about leaving the gameplay area or accidentally clicking on another application that moves the mouse focus away from the game.",
        "",
        "Locking the pointer locks `CursorX()` and `CursorY()` expressions.",
        "Use `MovementX()` and `MovementY()` instead.",
        ""
      ],
      "origin": {
        "identifier": "MousePointerLock",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "mouse",
        "lock",
        "cursor",
        "pointer"
      ],
      "authorIds": [
        "Zu55H5hcb9YmZTltIVOTAFDJQyB2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onFirstSceneLoaded",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const canvas = runtimeScene.getGame().getRenderer().getCanvas();",
                "",
                "gdjs._MousePointerLockExtension = {};",
                "gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };",
                "",
                "canvas.addEventListener(\"pointermove\", (e) => {",
                "    gdjs._MousePointerLockExtension.movement.x += e.movementX || 0;",
                "    gdjs._MousePointerLockExtension.movement.y += e.movementY || 0;",
                "}, false);"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onScenePostEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "gdjs._MousePointerLockExtension.movement = { x: 0, y: 0 };",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Get the movement of the pointer on the X-axis.",
          "fullName": "Pointer X movement",
          "functionType": "Expression",
          "name": "MovementX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.x || 0;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Get the movement of the pointer on the Y-axis.",
          "fullName": "Pointer Y movement",
          "functionType": "Expression",
          "name": "MovementY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = gdjs._MousePointerLockExtension.movement.y || 0;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Lock the mouse pointer to hide it.",
          "fullName": "Request Pointer Lock",
          "functionType": "Action",
          "name": "RequestPointerLock",
          "sentence": "Request Pointer Lock",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const canvas = runtimeScene.getGame().getRenderer().getCanvas();\r",
                "if (canvas.requestPointerLock) {\r",
                "    canvas.requestPointerLock({ unadjustedMovement: true });\r",
                "}"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Unlocks the mouse pointer and show it.",
          "fullName": "Exit pointer lock",
          "functionType": "Action",
          "name": "ExitPointerLock",
          "sentence": "Exit pointer lock",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (document.exitPointerLock) {\r",
                "    document.exitPointerLock();\r",
                "}"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Check if the mouse pointer is locked.",
          "fullName": "Pointer is locked",
          "functionType": "Condition",
          "name": "isPointerLocked",
          "sentence": "The mouse pointer is locked",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "eventsFunctionContext.returnValue = document.pointerLockElement ? true : false;",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": []
    },
    {
      "author": "",
      "category": "Camera",
      "extensionNamespace": "",
      "fullName": "First person 3D camera",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjcsMTZjMCwwLTQuOSw3LTExLDdTNSwxNiw1LDE2czQuOS03LDExLTdTMjcsMTYsMjcsMTZ6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxNiIgY3k9IjE2IiByPSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIzLDkgMywzIDksMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjksMjkgMywyOSAzLDIzICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMjksMjMgMjksMjkgMjMsMjkgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMywzIDI5LDMgMjksOSAiLz4NCjwvc3ZnPg0K",
      "name": "FirstPersonCamera",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Security and Protection/e8248ffd504c314e6a9d9d560c3a0fdad3398a5f125ae6a4c0654d4e68c86376_Security and Protection_security_protection_eye_scan_lock.svg",
      "shortDescription": "Move the camera to look though objects eyes.",
      "version": "1.0.1",
      "description": [
        "Move the camera to look though objects eyes.",
        "",
        "This extension can be used with the \"Mouse pointer lock\" or \"Gamepad\" extension to build a first person camera."
      ],
      "origin": {
        "identifier": "FirstPersonCamera",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d",
        "camera",
        "fps"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Move the camera to look though _PARAM1_ eyes. The object must look to the right when all its angles are 0 and the top of its head be toward Z+.",
          "fullName": "Look through object eyes",
          "functionType": "Action",
          "group": "Layers and cameras",
          "name": "LookFromObjectEyes",
          "sentence": "Move the camera of _PARAM2_ to look though _PARAM1_ eyes",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CentreCamera"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Scene3D::SetCameraZ"
                  },
                  "parameters": [
                    "",
                    "=",
                    "Object.Z()",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Scene3D::SetCameraZ"
                  },
                  "parameters": [
                    "",
                    "=",
                    "Object.Z()",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Scene3D::SetCameraRotationX"
                  },
                  "parameters": [
                    "",
                    "=",
                    "- Object.RotationY() + 90",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Scene3D::SetCameraRotationY"
                  },
                  "parameters": [
                    "",
                    "=",
                    "Object.RotationX()",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraAngle"
                  },
                  "parameters": [
                    "",
                    "=",
                    "Object.Angle() + 90",
                    "GetArgumentAsString(\"Layer\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Scene3D::Cube3DObject",
              "type": "objectList"
            },
            {
              "description": "Layer",
              "name": "Layer",
              "type": "layer"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": []
    },
    {
      "author": "",
      "category": "General",
      "extensionNamespace": "",
      "fullName": "3D collision",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1pbnRlcnNlY3Rpb24iIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMy4xNCwxQTIuMTQsMi4xNCAwIDAsMCAxLDMuMTRWNUgzVjNINVYxSDMuMTRNNywxVjNIMTBWMUg3TTEyLDFWM0gxNFY1SDE2VjMuMTRDMTYsMS45NiAxNS4wNCwxIDEzLjg2LDFIMTJNMSw3VjEwSDNWN0gxTTksN0M3Ljg5LDcgNyw3Ljg5IDcsOUM3LDExLjMzIDcsMTYgNywxNkM3LDE2IDExLjU3LDE2IDEzLjg2LDE2QTIuMTQsMi4xNCAwIDAsMCAxNiwxMy44NkMxNiwxMS41NyAxNiw3IDE2LDdDMTYsNyAxMS4zMyw3IDksN00xOCw3VjlIMjBWMTFIMjJWOUMyMiw3Ljg5IDIxLjExLDcgMjAsN0gxOE05LDlIMTRWMTRIOVY5TTEsMTJWMTMuODZDMSwxNS4wNCAxLjk2LDE2IDMuMTQsMTZINVYxNEgzVjEySDFNMjAsMTNWMTZIMjJWMTNIMjBNNywxOFYyMEM3LDIxLjExIDcuODksMjIgOSwyMkgxMVYyMEg5VjE4SDdNMjAsMThWMjBIMThWMjJIMjBDMjEuMTEsMjIgMjIsMjEuMTEgMjIsMjBWMThIMjBNMTMsMjBWMjJIMTZWMjBIMTNaIiAvPjwvc3ZnPg==",
      "name": "Collision3D",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/7a5696a515bf40813692e118147568392a854f65f5b50750c9b9aaa967aba7df_vector-intersection.svg",
      "shortDescription": "Check collision and distance between 3D objects.",
      "version": "0.1.0",
      "description": "Check collision and distance between 3D objects and separate them from each other.",
      "origin": {
        "identifier": "Collision3D",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d",
        "collision"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2",
        "PEzPAaWHgYgk5UwIPppsL6f2ugp2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Define helper classes JavaScript code.",
          "fullName": "Define helper classes",
          "functionType": "Action",
          "name": "DefineHelperClasses",
          "private": true,
          "sentence": "Define helper classes JavaScript code",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (gdjs._collision3DExtension) {",
                "    return;",
                "}",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @param {float} x",
                " * @param {float} y",
                " * @param {float} z",
                " * @return {number}",
                " */",
                "const getSqDistanceToPosition = (object, x, y, z) => {",
                "    const deltaX = object.getCenterXInScene() - x;",
                "    const deltaY = object.getCenterYInScene() - y;",
                "    const deltaZ = (object.getCenterZInScene ? object.getCenterZInScene() : 0) - z;",
                "    return deltaX * deltaX + deltaY * deltaY + deltaZ * deltaZ;",
                "};",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @param {float} x",
                " * @param {float} y",
                " * @param {float} z",
                " * @return {number}",
                " */",
                "const getDistanceToPosition = (object, x, y, z) => Math.sqrt(getSqDistanceToPosition(object, x, y, z));",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @param {gdjs.RuntimeObject} otherObject",
                " * @return {number}",
                " */",
                "const getSqDistanceToObject = (object, otherObject) => {",
                "    return getSqDistanceToPosition(",
                "        object,",
                "        otherObject.getCenterXInScene(),",
                "        otherObject.getCenterYInScene(),",
                "        otherObject.getCenterZInScene ? otherObject.getCenterZInScene() : 0",
                "    );",
                "};",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @param {gdjs.RuntimeObject} otherObject",
                " * @return {number}",
                " */",
                "const getDistanceToObject = (object, otherObject) => Math.sqrt(getSqDistanceToObject(object, otherObject));",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @param {gdjs.RuntimeObject} otherObject",
                " * @param {number} distanceSq",
                " * @return {boolean}",
                " */",
                "const areObjectsWithinDistance = (object, otherObject, distanceSq) => {",
                "    return getSqDistanceToObject(object, otherObject) <= distanceSq;",
                "};",
                "",
                "/**",
                " * @param {gdjs.ObjectList} objectsLists1",
                " * @param {gdjs.ObjectList} objectsLists2",
                " * @param {number} distance",
                " * @param {boolean} inverted",
                " * @return {boolean}",
                " */",
                "const pickObjectsWithinDistance = (objectsLists1, objectsLists2, distance, inverted) => {",
                "    const distanceSq = distance * distance;",
                "    return gdjs.evtTools.object.twoListsTest(",
                "        areObjectsWithinDistance,",
                "        objectsLists1,",
                "        objectsLists2,",
                "        inverted,",
                "        distance * distance",
                "    );",
                "}",
                "",
                "/**",
                " * @param {gdjs.ObjectList} objectsLists",
                " * @param {gdjs.ObjectList} objectsLists2",
                " * @param {number} x",
                " * @param {number} y",
                " * @param {number} z",
                " * @param {boolean} inverted",
                " * @return {boolean}",
                " */",
                "const pickNearestObject = function (objectsLists, x, y, z, inverted) {",
                "    let bestObject = null;",
                "    let best = 0;",
                "    let first = true;",
                "    const lists = gdjs.staticArray(gdjs._collision3DExtension.pickNearestObject);",
                "    objectsLists.values(lists);",
                "    for (let i = 0, len = lists.length; i < len; ++i) {",
                "        const list = lists[i];",
                "        for (let j = 0; j < list.length; ++j) {",
                "            const object = list[j];",
                "            const distance = getSqDistanceToPosition(object, x, y, z);",
                "            // @ts-ignore",
                "            if (first || (distance < best) ^ inverted) {",
                "                best = distance;",
                "                bestObject = object;",
                "            }",
                "            first = false;",
                "        }",
                "    }",
                "    if (bestObject) {",
                "        gdjs.evtTools.object.pickOnly(objectsLists, bestObject);",
                "    }",
                "    return !!bestObject;",
                "}",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @return {float}",
                " */",
                "const getObjectMinZ = (object) =>",
                "    object.getDrawableZ ? object.getDrawableZ() : 0",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object",
                " * @return {float}",
                " */",
                "const getObjectMaxZ = (object) =>",
                "    object.getDrawableZ ? object.getDrawableZ() + object.getDepth() : 0;",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} object1",
                " * @param {gdjs.RuntimeObject} object2",
                " * @param {boolean} ignoreTouchingEdges If true, then edges that are touching each other, without the hitbox polygons actually overlapping, won't be considered in collision.",
                " * @return {boolean}",
                " */",
                "const areObjectsInCollision = (",
                "    object1,",
                "    object2,",
                "    ignoreTouchingEdges,",
                ") => {",
                "    const object1MinZ = getObjectMinZ(object1);",
                "    const object1MaxZ = getObjectMaxZ(object1);",
                "    const object2MinZ = getObjectMinZ(object2);",
                "    const object2MaxZ = getObjectMaxZ(object2);",
                "",
                "    const canObjectsOverlapOnZ = ignoreTouchingEdges ?",
                "        (object1MinZ < object2MaxZ && object1MaxZ > object2MinZ) :",
                "        (object1MinZ <= object2MaxZ && object1MaxZ >= object2MinZ);",
                "",
                "    return canObjectsOverlapOnZ &&",
                "        gdjs.RuntimeObject.collisionTest(",
                "            object1,",
                "            object2,",
                "            ignoreTouchingEdges",
                "        );",
                "}",
                "",
                "/**",
                " * @param {gdjs.ObjectList} objectsLists",
                " * @param {gdjs.ObjectList} objectsLists2",
                " * @param {boolean} inverted",
                " * @return {boolean}",
                " */",
                "const pickObjectsInCollision = (",
                "    objectsLists1,",
                "    objectsLists2,",
                "    inverted,",
                ") => {",
                "    return gdjs.evtTools.object.twoListsTest(",
                "        areObjectsInCollision,",
                "        objectsLists1,",
                "        objectsLists2,",
                "        inverted,",
                "    );",
                "}",
                "",
                "/**",
                " * @param {gdjs.RuntimeObject} movingObject",
                " * @param {gdjs.RuntimeObject} object",
                " * @return {float}",
                " */",
                "const getSeparationDeltaZ = (",
                "    movingObject,",
                "    object,",
                ") => {",
                "    const movingObjectMinZ = getObjectMinZ(movingObject);",
                "    const movingObjectMaxZ = getObjectMaxZ(movingObject);",
                "    const objectMinZ = getObjectMinZ(object);",
                "    const objectMaxZ = getObjectMaxZ(object);",
                "",
                "    const downwardDeltaZ = Math.min(0, objectMinZ - movingObjectMaxZ);",
                "    const upwardDeltaZ = Math.max(0, objectMaxZ - movingObjectMinZ);",
                "",
                "    return -downwardDeltaZ < upwardDeltaZ ? downwardDeltaZ : upwardDeltaZ",
                "}",
                "",
                "// This function is an exact copy from GDJS/Runtime/runtimeobject.ts",
                "/**",
                " * Move the object using the results from collisionTest call.",
                " * This moves the object according to the direction of the longest vector,",
                " * and projects the others on the orthogonal vector.",
                " *",
                " * See {@link RuntimeObject.separateFromObjects}",
                " *",
                " * @param {gdjs.RuntimeObject} object The object to move.",
                " * @param {float[]} moveXArray The X coordinates of the vectors to move the object.",
                " * @param {float[]} moveYArray The Y coordinates of the vectors to move the object.",
                " * @return {boolean} true if the object was moved.",
                " */",
                "const moveFollowingSeparatingVectors = (",
                "    object,",
                "    moveXArray,",
                "    moveYArray",
                ") => {",
                "    if (moveXArray.length === 0) {",
                "        moveXArray.length = 0;",
                "        moveYArray.length = 0;",
                "        return false;",
                "    }",
                "    if (moveXArray.length === 1) {",
                "        // Move according to the results returned by the collision algorithm.",
                "        object.setPosition(",
                "            object.getX() + moveXArray[0],",
                "            object.getY() + moveYArray[0]",
                "        );",
                "        moveXArray.length = 0;",
                "        moveYArray.length = 0;",
                "        return true;",
                "    }",
                "",
                "    // Find the longest vector",
                "    let squaredDistanceMax = 0;",
                "    let distanceMaxIndex = 0;",
                "    for (let index = 0; index < moveXArray.length; index++) {",
                "        const moveX = moveXArray[index];",
                "        const moveY = moveYArray[index];",
                "",
                "        const squaredDistance = moveX * moveX + moveY * moveY;",
                "        if (squaredDistance > squaredDistanceMax) {",
                "            squaredDistanceMax = squaredDistance;",
                "            distanceMaxIndex = index;",
                "        }",
                "    }",
                "",
                "    const distanceMax = Math.sqrt(squaredDistanceMax);",
                "    // unit vector of the longest vector",
                "    const uX = moveXArray[distanceMaxIndex] / distanceMax;",
                "    const uY = moveYArray[distanceMaxIndex] / distanceMax;",
                "",
                "    // normal vector of the longest vector",
                "    const vX = -uY;",
                "    const vY = uX;",
                "",
                "    // Project other vectors on the normal",
                "    let scalarProductMin = 0;",
                "    let scalarProductMax = 0;",
                "    for (let index = 0; index < moveXArray.length; index++) {",
                "        const moveX = moveXArray[index];",
                "        const moveY = moveYArray[index];",
                "",
                "        const scalarProduct = moveX * vX + moveY * vY;",
                "        scalarProductMin = Math.min(scalarProductMin, scalarProduct);",
                "        scalarProductMax = Math.max(scalarProductMax, scalarProduct);",
                "    }",
                "",
                "    // Apply the longest vector",
                "    let deltaX = moveXArray[distanceMaxIndex];",
                "    let deltaY = moveYArray[distanceMaxIndex];",
                "",
                "    // Apply the longest projected vector if they all are in the same direction",
                "    // Some projections could have rounding errors,",
                "    // they are considered negligible under a 1 for 1,000,000 ratio.",
                "    const scalarProductMinIsNegligible =",
                "        -scalarProductMin < scalarProductMax / 1048576;",
                "    const scalarProductMaxIsNegligible =",
                "        scalarProductMax < -scalarProductMin / 1048576;",
                "    if (scalarProductMinIsNegligible !== scalarProductMaxIsNegligible) {",
                "        if (scalarProductMaxIsNegligible) {",
                "            deltaX += scalarProductMin * vX;",
                "            deltaY += scalarProductMin * vY;",
                "        } else {",
                "            deltaX += scalarProductMax * vX;",
                "            deltaY += scalarProductMax * vY;",
                "        }",
                "    }",
                "    object.setPosition(object.getX() + deltaX, object.getY() + deltaY);",
                "    moveXArray.length = 0;",
                "    moveYArray.length = 0;",
                "    return true;",
                "};",
                "",
                "/**",
                " * Arrays and data structure that are (re)used by",
                " * {@link separateFromObjects} to avoid any allocation.",
                " * @type {moveXArray: float[], moveYArray: float[], moveZArray: float[]}",
                " */",
                "const separateFromObjectsStatics = {",
                "    moveXArray: [],",
                "    moveYArray: [],",
                "    moveZArray: [],",
                "};",
                "",
                "/**",
                " * Separate the object from others objects, using their hitboxes.",
                " * @param {gdjs.RuntimeObject} object The object that moves.",
                " * @param {gdjs.RuntimeObject[]} objects The objects that stay still.",
                " * @return {boolean} true if the object was moved",
                " */",
                "const separateFromObjects = (",
                "    object,",
                "    objects",
                ") => {",
                "    const moveXArray = separateFromObjectsStatics.moveXArray;",
                "    const moveYArray = separateFromObjectsStatics.moveYArray;",
                "    moveXArray.length = 0;",
                "    moveYArray.length = 0;",
                "    let moveZMax = 0;",
                "",
                "    // We can assume that the moving object is not grid based,",
                "    // so there is no need for optimization:",
                "    // getHitBoxes can be called directly.",
                "    const hitBoxes = object.getHitBoxes();",
                "    /** @type {gdjs.AABB | null} */",
                "    let aabb = null;",
                "",
                "    // Check if there is a collision with each object",
                "    for (const otherObject of objects) {",
                "        if (otherObject.id === object.id) {",
                "            continue;",
                "        }",
                "        const moveZ = getSeparationDeltaZ(object, otherObject);",
                "        if (moveZ === 0) {",
                "            continue;",
                "        }",
                "        const moveZSq = moveZ * moveZ;",
                "",
                "        let otherHitBoxesArray = otherObject.getHitBoxes();",
                "        /** @type {Iterable<gdjs.Polygon>} */",
                "        let otherHitBoxes = otherHitBoxesArray;",
                "        if (otherHitBoxesArray.length > 4) {",
                "            // The other object has a lot of hit boxes.",
                "            // Try to reduce the amount of hitboxes to check.",
                "            if (!aabb) {",
                "                aabb = object.getAABB();",
                "            }",
                "            otherHitBoxes = otherObject.getHitBoxesAround(",
                "                aabb.min[0],",
                "                aabb.min[1],",
                "                aabb.max[0],",
                "                aabb.max[1]",
                "            );",
                "        }",
                "        for (const hitBox of hitBoxes) {",
                "            for (const otherHitBox of otherHitBoxes) {",
                "                const result = gdjs.Polygon.collisionTest(",
                "                    hitBox,",
                "                    otherHitBox,",
                "                    true",
                "                );",
                "                if (result.collision) {",
                "                    const moveX = result.move_axis[0];",
                "                    const moveY = result.move_axis[1];",
                "                    if (moveZSq < moveX * moveX + moveY * moveY) {",
                "                        if (Math.abs(moveZ) > Math.abs(moveZMax)) {",
                "                            moveZMax = moveZ;",
                "                        }",
                "                    }",
                "                    else {",
                "                        moveXArray.push(moveX);",
                "                        moveYArray.push(moveY);",
                "                    }",
                "                }",
                "            }",
                "        }",
                "    }",
                "    const hasObjectMovedOnZ = moveZMax !== 0;",
                "    if (hasObjectMovedOnZ) {",
                "        object.setZ(object.getZ() + moveZMax);",
                "    }",
                "    const hasObjectMovedOnXY = moveFollowingSeparatingVectors(object, moveXArray, moveYArray);",
                "    return hasObjectMovedOnXY || hasObjectMovedOnZ;",
                "}",
                "",
                "gdjs._collision3DExtension = {",
                "    getSqDistanceToPosition,",
                "    getDistanceToPosition,",
                "    getSqDistanceToObject,",
                "    getDistanceToObject,",
                "    pickObjectsWithinDistance,",
                "    pickNearestObject,",
                "    pickObjectsInCollision,",
                "    separateFromObjects",
                "}"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onFirstSceneLoaded",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Collision3D::DefineHelperClasses"
                  },
                  "parameters": [
                    "",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Compare the distance between two objects in 3D.",
          "fullName": "Distance between two objects in 3D",
          "functionType": "Condition",
          "group": "Position",
          "name": "AreWithinDistance",
          "sentence": "_PARAM1_ distance to _PARAM2_ is below _PARAM3_ pixels",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "// TODO If condition is inverted, only objects that have a distance greater than specified to any other object will be picked.\r",
                "const inverted = false;\r",
                "\r",
                "eventsFunctionContext.returnValue = gdjs._collision3DExtension.pickObjectsWithinDistance(\r",
                "    eventsFunctionContext.getObjectsLists(\"Object\"),\r",
                "    eventsFunctionContext.getObjectsLists(\"OtherObject\"),\r",
                "    eventsFunctionContext.getArgument(\"Distance\"),\r",
                "    inverted\r",
                ");\r",
                ""
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Other object",
              "name": "OtherObject",
              "type": "objectList"
            },
            {
              "description": "Distance",
              "name": "Distance",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Distance between two objects in 3D.",
          "fullName": "Distance between two objects in 3D",
          "functionType": "Expression",
          "group": "Position",
          "name": "Distance",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "const otherObjects = eventsFunctionContext.getObjectsLists(\"OtherObject\");\r",
                "\r",
                "if (objects.length > 0 && otherObjects.length > 0) {\r",
                "    eventsFunctionContext.returnValue = gdjs._collision3DExtension.getDistanceToObject(\r",
                "        objects[0],\r",
                "        otherObjects[0]\r",
                "    );\r",
                "}\r",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Other object",
              "name": "OtherObject",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Square distance between two objects in 3D.",
          "fullName": "Square distance between two objects",
          "functionType": "Expression",
          "group": "Position",
          "name": "SqDistance",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "const otherObjects = eventsFunctionContext.getObjectsLists(\"OtherObject\");\r",
                "\r",
                "if (objects.length > 0 && otherObjects.length > 0) {\r",
                "    eventsFunctionContext.returnValue = gdjs._collision3DExtension.getSqDistanceToObject(\r",
                "        objects[0],\r",
                "        otherObjects[0]\r",
                "    );\r",
                "}\r",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "Other object",
              "name": "OtherObject",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Distance between an object and a position in 3D.",
          "fullName": "Distance between an object and a position",
          "functionType": "Expression",
          "group": "Position",
          "name": "DistanceToPosition",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "if (objects.length > 0) {\r",
                "    eventsFunctionContext.returnValue = gdjs._collision3DExtension.getSqDistanceToPosition(\r",
                "        objects[0],\r",
                "        eventsFunctionContext.getArgument(\"PositionX\"),\r",
                "        eventsFunctionContext.getArgument(\"PositionY\"),\r",
                "        eventsFunctionContext.getArgument(\"PositionZ\"),\r",
                "    );\r",
                "}\r",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "X position",
              "name": "PositionX",
              "type": "expression"
            },
            {
              "description": "Y position",
              "name": "PositionY",
              "type": "expression"
            },
            {
              "description": "Z position",
              "name": "PositionZ",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Square distance between an object and a position in 3D.",
          "fullName": "Square distance between an object and a position",
          "functionType": "Expression",
          "group": "Position",
          "name": "SqDistanceToPosition",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "if (objects.length > 0) {\r",
                "    eventsFunctionContext.returnValue = gdjs._collision3DExtension.getDistanceToPosition(\r",
                "        objects[0],\r",
                "        eventsFunctionContext.getArgument(\"PositionX\"),\r",
                "        eventsFunctionContext.getArgument(\"PositionY\"),\r",
                "        eventsFunctionContext.getArgument(\"PositionZ\"),\r",
                "    );\r",
                "}\r",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "X position",
              "name": "PositionX",
              "type": "expression"
            },
            {
              "description": "Y position",
              "name": "PositionY",
              "type": "expression"
            },
            {
              "description": "Z position",
              "name": "PositionZ",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Pick the object of this type that is nearest to the specified position in 3D.",
          "fullName": "Pick nearest object in 3D",
          "functionType": "Condition",
          "group": "Objects",
          "name": "PickNearest",
          "sentence": "Pick the _PARAM1_ that is nearest to _PARAM2_ ; _PARAM3_ ; _PARAM4_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "// TODO If the condition is inverted, the object farthest from the specified position is picked instead.\r",
                "const inverted = false;\r",
                "\r",
                "eventsFunctionContext.returnValue = gdjs._collision3DExtension.pickNearestObject(\r",
                "    eventsFunctionContext.getObjectsLists(\"Object\"),\r",
                "    eventsFunctionContext.getArgument(\"PositionX\"),\r",
                "    eventsFunctionContext.getArgument(\"PositionY\"),\r",
                "    eventsFunctionContext.getArgument(\"PositionZ\"),\r",
                "    inverted\r",
                ");"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "X position",
              "name": "PositionX",
              "type": "expression"
            },
            {
              "description": "Y position",
              "name": "PositionY",
              "type": "expression"
            },
            {
              "description": "Z position",
              "name": "PositionZ",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check the collision between two objects using their collision masks. Object rotation around X and Y axes are ignored.",
          "fullName": "Collision in 3D",
          "functionType": "Condition",
          "group": "Collision",
          "name": "AreInCollision",
          "sentence": "_PARAM1_ is in collision with _PARAM3_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "// TODO If the condition is inverted, the object farthest from the specified position is picked instead.\r",
                "const inverted = false;\r",
                "\r",
                "eventsFunctionContext.returnValue = gdjs._collision3DExtension.pickObjectsInCollision(\r",
                "    eventsFunctionContext.getObjectsLists(\"Object\"),\r",
                "    eventsFunctionContext.getObjectsLists(\"OtherObject\"),\r",
                "    eventsFunctionContext.getArgument(\"IgnoreEdges\"),\r",
                "    inverted\r",
                ");"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "3D capability",
              "name": "Object3D",
              "supplementaryInformation": "Scene3D::Base3DBehavior",
              "type": "behavior"
            },
            {
              "description": "Other object",
              "name": "OtherObject",
              "type": "objectList"
            },
            {
              "description": "3D capability",
              "name": "OtherObjectCapability",
              "supplementaryInformation": "Scene3D::Base3DBehavior",
              "type": "behavior"
            },
            {
              "description": "Ignore objects that are touching each other on their edges, but are not overlapping (default: no)",
              "name": "IgnoreEdges",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move an object away from another using their collision masks. Object rotation around X and Y axes are ignored.\nBe sure to call this action on a reasonable number of objects to avoid slowing down the game.",
          "fullName": "Separate objects in 3D",
          "functionType": "Action",
          "group": "Position",
          "name": "SeparateFromObjects",
          "sentence": "Move _PARAM1_ away from _PARAM3_ (only _PARAM1_ will move)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "const otherObjects = eventsFunctionContext.getObjects(\"OtherObject\");\r",
                "\r",
                "for (const object of objects) {\r",
                "    gdjs._collision3DExtension.separateFromObjects(\r",
                "        object,\r",
                "        otherObjects,\r",
                "    );\r",
                "}"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "3D capability",
              "name": "Object3D",
              "supplementaryInformation": "Scene3D::Base3DBehavior",
              "type": "behavior"
            },
            {
              "description": "Objects (won't move)",
              "name": "OtherObject",
              "type": "objectList"
            },
            {
              "description": "3D capability",
              "name": "OtherObject3D",
              "supplementaryInformation": "Scene3D::Base3DBehavior",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [],
      "eventsBasedObjects": []
    },
    {
      "author": "",
      "category": "Movement",
      "extensionNamespace": "",
      "fullName": "3D walk",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXdhbGsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTQuMTIsMTBIMTlWOC4ySDE1LjM4TDEzLjM4LDQuODdDMTMuMDgsNC4zNyAxMi41NCw0LjAzIDExLjkyLDQuMDNDMTEuNzQsNC4wMyAxMS41OCw0LjA2IDExLjQyLDQuMTFMNiw1LjhWMTFINy44VjcuMzNMOS45MSw2LjY3TDYsMjJINy44TDEwLjY3LDEzLjg5TDEzLDE3VjIySDE0LjhWMTUuNTlMMTIuMzEsMTEuMDVMMTMuMDQsOC4xOE0xNCwzLjhDMTUsMy44IDE1LjgsMyAxNS44LDJDMTUuOCwxIDE1LDAuMiAxNCwwLjJDMTMsMC4yIDEyLjIsMSAxMi4yLDJDMTIuMiwzIDEzLDMuOCAxNCwzLjhaIiAvPjwvc3ZnPg==",
      "name": "Walk3D",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/941323cf01b837b2eb512ecbf0a95add8a195b3696eb6f5865dc090e526dc9b3_walk.svg",
      "shortDescription": "Turn and move objects forward and sideways.",
      "version": "0.1.0",
      "description": "Move objects forward and sideways arrording to the direction they're facing.",
      "origin": {
        "identifier": "Walk3D",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2",
        "oc974hW1zSYZfAnRbpKoXizqc1D3",
        "3qThSVKAPdP03MXTWNpe2QaNxpv1"
      ],
      "dependencies": [],
      "eventsFunctions": [],
      "eventsBasedBehaviors": [
        {
          "description": "Turn and move objects forward and sideways.",
          "fullName": "3D walk",
          "name": "Walk3D",
          "objectType": "",
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "doStepPreEvents",
              "sentence": "",
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Rotation",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyPreviousRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "CurrentRotationSpeed"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHasPressedTurnRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "-RotationSpeedMax"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeftLast"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "RotationSpeedMax"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "<",
                            "0"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "max(CurrentRotationSpeed - RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "max(CurrentRotationSpeed - (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "min(CurrentRotationSpeed + RotationAcceleration * TimeDelta(), TargetedRotationSpeed)"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "min(CurrentRotationSpeed + (RotationAcceleration + RotationDeceleration) * TimeDelta(), TargetedRotationSpeed)"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "max(CurrentRotationSpeed - RotationDeceleration * TimeDelta(), 0)"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyPreviousRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "min(CurrentRotationSpeed + RotationDeceleration * TimeDelta(), 0)"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SetAngle"
                          },
                          "parameters": [
                            "Object",
                            "+",
                            "(PreviousRotationSpeed + CurrentRotationSpeed) / 2 * TimeDelta()"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "yes"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHadPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHadPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "yes"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "Walk3D::Walk3D::PropertyHasPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHadPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        },
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        },
                        {
                          "type": {
                            "value": "Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Translation",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Forward",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyPreviousForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "CurrentForwardSpeed"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveForward"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "-TranslationSpeedMax"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveBackward"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveBackwardLast"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "TranslationSpeedMax"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentForwardSpeed - TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentForwardSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentForwardSpeed + TranslationAcceleration * TimeDelta(), TargetedForwardSpeed)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentForwardSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedForwardSpeed)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentForwardSpeed - TranslationDeceleration * TimeDelta(), 0)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentForwardSpeed + TranslationDeceleration * TimeDelta(), 0)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHadPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHadPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            },
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveForward"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            },
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Sideways",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyPreviousSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "CurrentSidewaysSpeed"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveRight"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "-TranslationSpeedMax"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveLeft"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "Walk3D::Walk3D::PropertyHasPressedMoveLeftLast"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "TranslationSpeedMax"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentSidewaysSpeed - TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentSidewaysSpeed - (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentSidewaysSpeed + TranslationAcceleration * TimeDelta(), TargetedSidewaysSpeed)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentSidewaysSpeed + (TranslationAcceleration + TranslationDeceleration) * TimeDelta(), TargetedSidewaysSpeed)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ">=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "max(CurrentSidewaysSpeed - TranslationDeceleration * TimeDelta(), 0)"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::PropertyPreviousSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "<",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "min(CurrentSidewaysSpeed + TranslationDeceleration * TimeDelta(), 0)"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHadPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHadPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "yes"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "Walk3D::Walk3D::PropertyHasPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHadPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            },
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "no"
                              ]
                            },
                            {
                              "type": {
                                "value": "Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "MettreAutour"
                          },
                          "parameters": [
                            "Object",
                            "Object",
                            "(PreviousForwardSpeed + CurrentForwardSpeed) / 2 * TimeDelta()",
                            "Object.Angle()"
                          ]
                        },
                        {
                          "type": {
                            "value": "MettreAutour"
                          },
                          "parameters": [
                            "Object",
                            "Object",
                            "(PreviousSidewaysSpeed + CurrentSidewaysSpeed) / 2 * TimeDelta()",
                            "Object.Angle() + 90"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the turn left key.",
              "fullName": "Simulate turn left key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateTurnLeftKey",
              "sentence": "Simulate pressing turn left key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedTurnLeft"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnLeft"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the turn right key.",
              "fullName": "Simulate turn right key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateTurnRightKey",
              "sentence": "Simulate pressing turn right key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedTurnRight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnLeftLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedTurnRight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the move backward key.",
              "fullName": "Simulate move backward key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateMoveBackwardKey",
              "sentence": "Simulate pressing move backward key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedMoveBackward"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveBackward"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the move forward key.",
              "fullName": "Simulate move forward key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateMoveForwardKey",
              "sentence": "Simulate pressing move forward key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedMoveForward"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveBackwardLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveForward"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the move left key.",
              "fullName": "Simulate move left key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateMoveLeftKey",
              "sentence": "Simulate pressing move left key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedMoveLeft"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveLeft"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the move right key.",
              "fullName": "Simulate move right key press",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateMoveRightKey",
              "sentence": "Simulate pressing move right key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Walk3D::Walk3D::PropertyHadPressedMoveRight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveLeftLast"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyHasPressedMoveRight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a stick control.",
              "fullName": "Simulate stick control",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateMoveStick",
              "sentence": "Simulate a stick control for _PARAM0_ with a _PARAM2_ angle and a _PARAM3_ force",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Denormilize the targeted speed.\nIt projects the circle on a square with sides length of the circle diameter."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetSharedPropertyCos"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "cos(ToRad(-Angle))"
                      ]
                    },
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetSharedPropertySin"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "sin(ToRad(-Angle))"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "abs(Cos)",
                        ">=",
                        "abs(Sin)"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Force * TranslationSpeedMax * sign(Cos)"
                      ]
                    },
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Force * TranslationSpeedMax * Sin / abs(Cos)"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "abs(Cos)",
                        "<=",
                        "abs(Sin)"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTargetedSidewaysSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Force * TranslationSpeedMax * Cos / abs(Sin)"
                      ]
                    },
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTargetedForwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Force * TranslationSpeedMax * sign(Sin)"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                },
                {
                  "description": "Stick angle (in degrees)",
                  "name": "Angle",
                  "type": "expression"
                },
                {
                  "description": "Stick force (between 0 and 1)",
                  "name": "Force",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a stick control for rotation.",
              "fullName": "Simulate stick control for rotation",
              "functionType": "Action",
              "group": "Top-down walk state",
              "name": "SimulateRotationStick",
              "sentence": "Simulate a stick control for rotation of _PARAM0_ with an axis value of _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTargetedRotationSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value * RotationSpeedMax"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                },
                {
                  "description": "Axis value (between -1 and 1)",
                  "name": "Value",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current rotation speed of the object.",
              "fullName": "Current rotation speed",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk state",
              "name": "CurrentRotationSpeed",
              "sentence": "the current rotation speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "CurrentRotationSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "CurrentRotationSpeed",
              "name": "SetCurrentRotationSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyCurrentRotationSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current forward speed of the object.",
              "fullName": "Current forward speed",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk state",
              "name": "CurrentForwardSpeed",
              "sentence": "the current forward speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "CurrentForwardSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "CurrentForwardSpeed",
              "name": "SetCurrentForwardSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyCurrentForwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current sideways speed of the object.",
              "fullName": "Current sideways speed",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk state",
              "name": "CurrentSidewaysSpeed",
              "sentence": "the current sideways speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "CurrentSidewaysSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "CurrentSidewaysSpeed",
              "name": "SetCurrentSidewaysSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyCurrentSidewaysSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the maximum rotation speed of the object.",
              "fullName": "Maximum rotation speed",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "RotationSpeedMax",
              "sentence": "the maximum rotation speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "RotationSpeedMax"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "RotationSpeedMax",
              "name": "SetRotationSpeedMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyRotationSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the rotation acceleration of the object.",
              "fullName": "Rotation acceleration",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "RotationAcceleration",
              "sentence": "the rotation acceleration",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "RotationAcceleration"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "RotationAcceleration",
              "name": "SetRotationAcceleration",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyRotationAcceleration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the rotation deceleration of the object.",
              "fullName": "Rotation deceleration",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "RotationDeceleration",
              "sentence": "the rotation deceleration",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "RotationDeceleration"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "RotationDeceleration",
              "name": "SetRotationDeceleration",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyRotationDeceleration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the maximum speed of the object.",
              "fullName": "Maximum speed",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "TranslationSpeedMax",
              "sentence": "the maximum speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "TranslationSpeedMax"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "TranslationSpeedMax",
              "name": "SetTranslationSpeedMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTranslationSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the acceleration of the object.",
              "fullName": "Acceleration",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "TranslationAcceleration",
              "sentence": "the acceleration",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "TranslationAcceleration"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "TranslationAcceleration",
              "name": "SetTranslationAcceleration",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTranslationAcceleration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the deceleration of the object.",
              "fullName": "Deceleration",
              "functionType": "ExpressionAndCondition",
              "group": "Top-down walk configuration",
              "name": "TranslationDeceleration",
              "sentence": "the deceleration",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "TranslationDeceleration"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "TranslationDeceleration",
              "name": "SetTranslationDeceleration",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Walk3D::Walk3D::SetPropertyTranslationDeceleration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Walk3D::Walk3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "180",
              "type": "Number",
              "unit": "AngularSpeed",
              "label": "Maximum rotation speed",
              "description": "",
              "group": "Rotation",
              "extraInformation": [],
              "name": "RotationSpeedMax"
            },
            {
              "value": "720",
              "type": "Number",
              "label": "Rotation acceleration",
              "description": "",
              "group": "Rotation",
              "extraInformation": [],
              "name": "RotationAcceleration"
            },
            {
              "value": "720",
              "type": "Number",
              "label": "Rotation deceleration",
              "description": "",
              "group": "Rotation",
              "extraInformation": [],
              "name": "RotationDeceleration"
            },
            {
              "value": "400",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Maximum speed",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "TranslationSpeedMax"
            },
            {
              "value": "1600",
              "type": "Number",
              "unit": "PixelAcceleration",
              "label": "Acceleration",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "TranslationAcceleration"
            },
            {
              "value": "1600",
              "type": "Number",
              "unit": "PixelAcceleration",
              "label": "Deceleration",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "TranslationDeceleration"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "AngularSpeed",
              "label": "Current rotation speed",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CurrentRotationSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousRotationSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Current forward speed",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CurrentForwardSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Current sideways speed",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CurrentSidewaysSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousForwardSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousSidewaysSpeed"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedTurnLeft"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedTurnRight"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedTurnLeftLast"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedTurnLeft"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedTurnRight"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveForward"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveBackward"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedMoveForward"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedMoveBackward"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveBackwardLast"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveLeft"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveRight"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedMoveLeft"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HadPressedMoveRight"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedMoveLeftLast"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "TargetedForwardSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "TargetedSidewaysSpeed"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "TargetedRotationSpeed"
            }
          ],
          "sharedPropertyDescriptors": [
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "Cos"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "Sin"
            }
          ]
        }
      ],
      "eventsBasedObjects": []
    },
    {
      "author": "",
      "category": "Movement",
      "extensionNamespace": "",
      "fullName": "3D jump",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3LDI4aC04LjFjLTEuMiwwLTIuMy0wLjUtMy4yLTEuM0wzLDE0bDctOHYwYzAsMy45LDQuMSw4LDgsOGgxdjBjLTAuMSw0LjUsMS42LDcuOCw2LDkuMg0KCWMwLjMsMC4xLDAuNSwwLjIsMC44LDAuMmwwLDBjMS4yLDAuMywyLDEuNiwxLjcsMi44TDI3LDI4eiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEsMTZsMTMuNywxMy43YzAuOCwwLjgsMiwxLjMsMy4yLDEuM0gyNyIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTAuNSIgY3k9IjE1LjUiIHI9IjEuNSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjE1IiB5MT0iMTkiIHgyPSIxOS41IiB5Mj0iMTkiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxNyIgeTE9IjIyIiB4Mj0iMjIuNSIgeTI9IjIyIi8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjgsMWwtNy4zLDcuM0MxOSwxMCwxOC40LDEyLjQsMTksMTQuN2wwLDAiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMCw3TDEwLDdjMS45LTAuNiwzLjYtMiw0LjYtMy43TDE2LDEiLz4NCjwvc3ZnPg0K",
      "name": "Jump3D",
      "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Sports and Fitness/29b5c1893f81031cca98c9a1c447464b433717bdf3569ce5fac7c7cb0a8a2b82_Sports and Fitness_gym_running_foot_run.svg",
      "shortDescription": "Jump and fall along Z axis.",
      "version": "0.1.0",
      "description": "It handles basic collisions with 3D boxes but rotations around X and Y axes are not supported.",
      "origin": {
        "identifier": "Jump3D",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "3d",
        "jump",
        "platform",
        "platformer",
        "collision"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2",
        "toILhIv6WWNwz59xMtlGMijOZ1t2",
        "PEzPAaWHgYgk5UwIPppsL6f2ugp2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "the top of the object on Z axis",
          "fullName": "Top on Z axis",
          "functionType": "ExpressionAndCondition",
          "group": "Position",
          "name": "TopZ",
          "private": true,
          "sentence": "the top on Z axis of _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (objects.length === 0) {",
                "    return;",
                "}",
                "const object = objects[0];",
                "eventsFunctionContext.returnValue = object.getDrawableZ ? object.getDrawableZ() + object.getDepth() : 0;",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "ActionWithOperator",
          "getterName": "TopZ",
          "name": "SetTopZ",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (objects.length === 0) {",
                "    return;",
                "}",
                "const object = objects[0];",
                "if (!object.getDrawableZ) {",
                "    return;",
                "}",
                "const newTop = eventsFunctionContext.getArgument(\"Value\");",
                "const oldTop = object.getDrawableZ() + object.getDepth();",
                "object.setZ(object.getZ() - oldTop + newTop);",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the bottom of the object on Z axis",
          "fullName": "Bottom on Z axis",
          "functionType": "ExpressionAndCondition",
          "group": "Position",
          "name": "BottomZ",
          "private": true,
          "sentence": "the bottom on Z axis of _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (objects.length === 0) {",
                "    return;",
                "}",
                "const object = objects[0];",
                "eventsFunctionContext.returnValue = object.getDrawableZ ? object.getDrawableZ() : 0;",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "ActionWithOperator",
          "getterName": "BottomZ",
          "name": "SetBottomZ",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (objects.length === 0) {",
                "    return;",
                "}",
                "const object = objects[0];",
                "if (!object.getDrawableZ) {",
                "    return;",
                "}",
                "const newBottom = eventsFunctionContext.getArgument(\"Value\");",
                "const oldBottom = object.getDrawableZ();",
                "object.setZ(object.getZ() - oldBottom + newBottom);",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if an object is overlapping a range on Z axis.",
          "fullName": "Overlap Z range",
          "functionType": "Condition",
          "group": "Collision",
          "name": "IsWithinZ",
          "private": true,
          "sentence": "_PARAM1_ overlap the range from _PARAM3_ to _PARAM4_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const bottom = eventsFunctionContext.getArgument(\"BottomZ\");",
                "const top = eventsFunctionContext.getArgument(\"TopZ\");",
                "",
                "if (top <= bottom) {",
                "    return false;",
                "}",
                "",
                "let isAnyObjectPicked = false;",
                "for (const object of objects) {",
                "    object.pick = object.getZ() < top && object.getZ() + object.getDepth() > bottom;",
                "    isAnyObjectPicked = isAnyObjectPicked || object.pick;",
                "}",
                "",
                "const objectsLists = eventsFunctionContext.getObjectsLists(\"Object\");",
                "for (const name in objectsLists.items) {",
                "    if (objectsLists.items.hasOwnProperty(name)) {",
                "        const objectsList = objectsLists.items[name];",
                "        gdjs.evtTools.object.filterPickedObjectsList(objectsList);",
                "    }",
                "}",
                "eventsFunctionContext.returnValue = isAnyObjectPicked;",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "objectList"
            },
            {
              "description": "3D capability",
              "name": "Object3D",
              "supplementaryInformation": "Scene3D::Base3DBehavior",
              "type": "behavior"
            },
            {
              "description": "Bottom Z",
              "name": "BottomZ",
              "type": "expression"
            },
            {
              "description": "Top Z",
              "name": "TopZ",
              "type": "expression"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [
        {
          "description": "Jump and fall along Z axis.",
          "fullName": "3D jump",
          "name": "Jump3D",
          "objectType": "",
          "eventsFunctions": [
            {
              "fullName": "",
              "functionType": "Action",
              "name": "onCreated",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetJumpHeight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyJumpHeight()",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "Jump height",
              "functionType": "ActionWithOperator",
              "getterName": "JumpHeight",
              "name": "SetJumpHeight",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyJumpHeight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::JumpSpeedToReach(Value)"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                },
                {
                  "description": "Jump height",
                  "name": "JumpHeight",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the jump height of the object. Its value is always positive.",
              "fullName": "Jump height",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump configuration",
              "name": "JumpHeight",
              "sentence": "the jump height",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "JumpHeight"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return the jump speed to reach a given height.",
              "fullName": "Jump height",
              "functionType": "Expression",
              "name": "JumpSpeedToReach",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": [
                    "// Formulas used in this extension were generated from a math model.",
                    "// They are probably not understandable on their own.",
                    "// If you need to modify them or need to write new feature,",
                    "// please take a look to the platformer extension documentation:",
                    "// https://github.com/4ian/GDevelop/tree/master/Extensions/PlatformBehavior#readme",
                    "",
                    "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                    "const behavior = objects[0].getBehavior(behaviorName);",
                    "/** @type {float} */",
                    "const jumpHeight = -Math.abs(eventsFunctionContext.getArgument(\"JumpHeight\"));",
                    "",
                    "/** @type {float} */",
                    "const gravity = behavior._getGravity();",
                    "/** @type {float} */",
                    "const maxFallingSpeed = behavior._getMaxFallingSpeed();",
                    "/** @type {float} */",
                    "const jumpSustainTime = behavior._getJumpSustainDurationMax();",
                    "",
                    "const maxFallingSpeedReachedTime = maxFallingSpeed / gravity;",
                    "",
                    "// The implementation jumps from one quadratic resolution to another",
                    "// to find the right formula to use as the time is unknown.",
                    "",
                    "const sustainCase = (jumpHeight) => Math.sqrt(-jumpHeight * gravity * 2);",
                    "const maxFallingCase = (jumpHeight) => -gravity * jumpSustainTime + maxFallingSpeed",
                    "    + Math.sqrt(gravity * gravity * jumpSustainTime * jumpSustainTime - 2 * jumpHeight * gravity - maxFallingSpeed * maxFallingSpeed);",
                    "",
                    "let jumpSpeed = 0;",
                    "let peakTime = 0;",
                    "if (maxFallingSpeedReachedTime > jumpSustainTime) {",
                    "    // common case",
                    "    jumpSpeed = -gravity * jumpSustainTime + Math.sqrt(2 * gravity * gravity * jumpSustainTime * jumpSustainTime - 4 * jumpHeight * gravity);",
                    "    peakTime = (gravity * jumpSustainTime + jumpSpeed) / (2 * gravity);",
                    "    if (peakTime < jumpSustainTime) {",
                    "        jumpSpeed = sustainCase(jumpHeight);",
                    "    }",
                    "    else if (peakTime > maxFallingSpeedReachedTime) {",
                    "        jumpSpeed = maxFallingCase(jumpHeight);",
                    "    }",
                    "}",
                    "else {",
                    "    // affine case can't have a maximum",
                    "",
                    "    // sustain case",
                    "    jumpSpeed = sustainCase(jumpHeight);",
                    "    peakTime = jumpSpeed / gravity;",
                    "    if (peakTime > maxFallingSpeedReachedTime) {",
                    "        jumpSpeed = maxFallingCase(jumpHeight);",
                    "    }",
                    "}",
                    "",
                    "eventsFunctionContext.returnValue = jumpSpeed;",
                    ""
                  ],
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                },
                {
                  "description": "Jump height",
                  "name": "JumpHeight",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "Action",
              "name": "doStepPreEvents",
              "sentence": "",
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Start to jump",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::PropertyHasPressedJumpKey"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::PropertyCanJump"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "ResetObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"_Jump3DExtension.SustainJump\""
                              ]
                            },
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyState"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "\"InTheAir\""
                              ]
                            },
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "JumpSpeed"
                              ]
                            },
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCanJump"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"_Jump3DExtension.SustainJump\"",
                                ">",
                                "JumpSustainDurationMax"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "RemoveObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"_Jump3DExtension.SustainJump\""
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "Jump3D::Jump3D::PropertyHasPressedJumpKey"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "RemoveObjectTimer"
                          },
                          "parameters": [
                            "Object",
                            "\"_Jump3DExtension.SustainJump\""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::SetPropertyHasPressedJumpKey"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyPreviousJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "CurrentJumpSpeed"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyPreviousFallSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "CurrentFallSpeed"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyPreviousState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "State"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Make the object fall every frame to check the floor."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::CurrentVerticalSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::Fall"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Jump speed",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"_Jump3DExtension.SustainJump\"",
                                ">=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "max(0, CurrentJumpSpeed - Gravity * TimeDelta())"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Verlet integration"
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Scene3D::Base3DBehavior::SetZ"
                              },
                              "parameters": [
                                "Object",
                                "Object3D",
                                "+",
                                "(PreviousJumpSpeed + CurrentJumpSpeed) / 2 * TimeDelta()"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Fall speed",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Verlet integration"
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "min(CurrentFallSpeed + Gravity * TimeDelta(), MaxFallingSpeed)"
                              ]
                            },
                            {
                              "type": {
                                "value": "Scene3D::Base3DBehavior::SetZ"
                              },
                              "parameters": [
                                "Object",
                                "Object3D",
                                "-",
                                "(PreviousFallSpeed + CurrentFallSpeed) / 2 * TimeDelta()"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    }
                  ]
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Fall on the floor",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::PropertyShouldStopAtZero"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::BottomZ"
                          },
                          "parameters": [
                            "Object",
                            "<",
                            "0",
                            "Object",
                            ""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::Land"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::SetBottomZ"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "0",
                            "Object",
                            ""
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Simulate a press of the jump key.",
              "fullName": "Simulate jump key press",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "SimulateJumpKey",
              "sentence": "Simulate pressing Jump key for _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyHasPressedJumpKey"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Separate from walls and land on platforms. 3D boxes rotated around X and Y axes are not supported.",
              "fullName": "Separate from platforms",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "SeparateFromPlatforms",
              "sentence": "Separate _PARAM0_ from platform _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Check platforms to land on."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionNP"
                      },
                      "parameters": [
                        "Object",
                        "Platform",
                        "",
                        "",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::ForEach",
                      "object": "Platform",
                      "conditions": [
                        {
                          "type": {
                            "value": "Jump3D::TopZ"
                          },
                          "parameters": [
                            "Object",
                            ">",
                            "Jump3D::BottomZ(Platform)",
                            "Object",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::TopZ"
                          },
                          "parameters": [
                            "Object",
                            "<",
                            "Jump3D::BottomZ(Platform) + Object.Behavior::VerticalSpeed() * TimeDelta()",
                            "Object",
                            ""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::AbortJump"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::SetTopZ"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "Jump3D::BottomZ(Platform)",
                            "Object",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::ForEach",
                      "object": "Platform",
                      "conditions": [
                        {
                          "type": {
                            "value": "Jump3D::BottomZ"
                          },
                          "parameters": [
                            "Object",
                            "<",
                            "Jump3D::TopZ(Platform)",
                            "Object",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::BottomZ"
                          },
                          "parameters": [
                            "Object",
                            ">",
                            "Jump3D::TopZ(Platform) + Object.Behavior::VerticalSpeed() * TimeDelta()",
                            "Object",
                            ""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Jump3D::Jump3D::Land"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Jump3D::SetBottomZ"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "Jump3D::TopZ(Platform)",
                            "Object",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Separate from walls"
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::IsWithinZ"
                      },
                      "parameters": [
                        "",
                        "Platform",
                        "Object3D",
                        "Jump3D::BottomZ(Object)",
                        "Jump3D::TopZ(Object)",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SeparateFromObjects"
                      },
                      "parameters": [
                        "Object",
                        "Platform",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                },
                {
                  "description": "Platform",
                  "name": "Platform",
                  "type": "objectList"
                },
                {
                  "description": "3D capability",
                  "name": "Object3D",
                  "supplementaryInformation": "Scene3D::Base3DBehavior",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Stop the object from falling and land on the floor. The object will start falling again the next frame.",
              "fullName": "Land on the floor",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "Land",
              "sentence": "Make _PARAM0_ land on the floor",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Idle\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCanJump"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Make the object fall from the floor.",
              "fullName": "Fall from the floor",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "Fall",
              "private": true,
              "sentence": "Make _PARAM0_ fall from the floor",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Add a 1-frame delay in case collision checks are done after the simulate jump action."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCanJump"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"InTheAir\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Abort the current jump and stop the object vertically. This action doesn't have any effect when the character is not jumping.",
              "fullName": "Abort jump",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "AbortJump",
              "sentence": "Abort the current jump of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "When this action is executed, the object is able to jump again, even if it is in the air: this can be useful to allow a double jump for example. This is not a permanent effect: you must call again this action everytime you want to allow the object to jump (apart if it's on the floor).",
              "fullName": "Allow jumping again",
              "functionType": "Action",
              "group": "3D jump state",
              "name": "SetCanJump",
              "sentence": "Allow _PARAM0_ to jump again",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCanJump"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the object can jump.",
              "fullName": "Can jump",
              "functionType": "Condition",
              "group": "3D jump state",
              "name": "CanJump",
              "sentence": "_PARAM0_ can jump",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyCanJump"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the object is falling.\\nNote that the object can be flagged as jumping and falling at the same time: at the end of a jump, the fall speed becomes higher than the jump speed.",
              "fullName": "Is falling",
              "functionType": "Condition",
              "group": "3D jump state",
              "name": "IsFalling",
              "sentence": "_PARAM0_ is falling",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::CurrentVerticalSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "<",
                        "0",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the object is jumping.",
              "fullName": "Is jumping",
              "functionType": "Condition",
              "group": "3D jump state",
              "name": "IsJumping",
              "sentence": "_PARAM0_ is jumping",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyCurrentJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the object is on a platform.",
              "fullName": "Is on floor",
              "functionType": "Condition",
              "group": "3D jump state",
              "name": "IsOnFloor",
              "sentence": "_PARAM0_ is on floor",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Return the state from the previous frame because the actual state may change during the current frame according to collision."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyPreviousState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current jump speed of the object. Its value is always positive.",
              "fullName": "Current jump speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump state",
              "name": "CurrentJumpSpeed",
              "sentence": "the current jump speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Return the speed from the previous frame because the actual speed may change during the current frame according to collision."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "PreviousJumpSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "CurrentJumpSpeed",
              "name": "SetCurrentJumpSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentJumpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current falling speed of the object. Its value is always positive.",
              "fullName": "Current falling speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump state",
              "name": "CurrentFallSpeed",
              "sentence": "the current falling speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Return the speed from the previous frame because the actual speed may change during the current frame according to collision."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "PreviousFallSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "CurrentFallSpeed",
              "name": "SetCurrentFallSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "\"Idle\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyCurrentFallSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current speed of the object on Z axis. Its value is negative when the object falls.",
              "fullName": "Current vertical speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump state",
              "name": "CurrentVerticalSpeed",
              "sentence": "the current vertical speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Return the speed from the previous frame because the actual speed may change during the current frame according to collision."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "PreviousJumpSpeed - PreviousFallSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the current speed of the object on Z axis. Its value is negative when the object falls.",
              "fullName": "Actual current vertical speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump state",
              "name": "VerticalSpeed",
              "private": true,
              "sentence": "the actual current vertical speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "CurrentJumpSpeed - CurrentFallSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the maximum falling speed of the object. Its value is always positive.",
              "fullName": "Maximum falling speed",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump configuration",
              "name": "MaxFallingSpeed",
              "sentence": "the maximum falling speed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "MaxFallingSpeed"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "MaxFallingSpeed",
              "name": "SetMaxFallingSpeed",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyMaxFallingSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the gravity of the object. Its value is always positive.",
              "fullName": "Gravity",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump configuration",
              "name": "Gravity",
              "sentence": "the gravity",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Gravity"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "Gravity",
              "name": "SetGravity",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyGravity"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "the jump sustain time of the object. Maximum time (in seconds) during which the jump strength is sustained if the jump key is held - allowing variable height jumps.",
              "fullName": "Jump sustain time",
              "functionType": "ExpressionAndCondition",
              "group": "3D jump configuration",
              "name": "JumpSustainDurationMax",
              "sentence": "the jump sustain time",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "JumpSustainDurationMax"
                      ]
                    }
                  ]
                }
              ],
              "expressionType": {
                "type": "expression"
              },
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "fullName": "",
              "functionType": "ActionWithOperator",
              "getterName": "JumpSustainDurationMax",
              "name": "SetJumpSustainDurationMax",
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyJumpSustainDurationMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Value"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if stop falling when Z equals 0.",
              "fullName": "Stop falling when Z equals 0",
              "functionType": "Condition",
              "group": "3D jump configuration",
              "name": "ShouldStopAtZero",
              "sentence": "_PARAM0_ stop falling when Z equals 0",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::PropertyShouldStopAtZero"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change if stop falling when Z equals 0.",
              "fullName": "Stop falling when Z equals 0",
              "functionType": "Action",
              "group": "3D jump configuration",
              "name": "SetShouldStopAtZero",
              "sentence": "_PARAM0_ stop falling when Z equals 0: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyShouldStopAtZero"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"Value\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Jump3D::Jump3D::SetPropertyShouldStopAtZero"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "description": "Object",
                  "name": "Object",
                  "type": "object"
                },
                {
                  "description": "Behavior",
                  "name": "Behavior",
                  "supplementaryInformation": "Jump3D::Jump3D",
                  "type": "behavior"
                },
                {
                  "defaultValue": "yes",
                  "description": "StopAtZero",
                  "name": "Value",
                  "optional": true,
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "",
              "type": "Behavior",
              "label": "3D capability",
              "description": "",
              "group": "",
              "extraInformation": [
                "Scene3D::Base3DBehavior"
              ],
              "name": "Object3D"
            },
            {
              "value": "150",
              "type": "Number",
              "label": "Jump height",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "name": "JumpHeight"
            },
            {
              "value": "700",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Maximum falling speed",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "name": "MaxFallingSpeed"
            },
            {
              "value": "1000",
              "type": "Number",
              "unit": "PixelAcceleration",
              "label": "Gravity",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "name": "Gravity"
            },
            {
              "value": "600",
              "type": "Number",
              "label": "Jump speed",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "JumpSpeed"
            },
            {
              "value": "0.2",
              "type": "Number",
              "unit": "Second",
              "label": "Jump sustain time",
              "description": "Maximum time (in seconds) during which the jump strength is sustained if the jump key is held - allowing variable height jumps.",
              "group": "",
              "extraInformation": [],
              "name": "JumpSustainDurationMax"
            },
            {
              "value": "Idle",
              "type": "Choice",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [
                "Idle",
                "SustainJump",
                "InTheAir"
              ],
              "hidden": true,
              "name": "State"
            },
            {
              "value": "",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Current jump speed",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CurrentJumpSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "Current falling speed",
              "description": "Its value is always positive.",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CurrentFallSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousJumpSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "unit": "PixelSpeed",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousFallSpeed"
            },
            {
              "value": "",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "HasPressedJumpKey"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CanJump"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "Stop falling when Z equals 0",
              "description": "",
              "group": "",
              "extraInformation": [],
              "name": "ShouldStopAtZero"
            },
            {
              "value": "Idle",
              "type": "String",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "PreviousState"
            }
          ],
          "sharedPropertyDescriptors": []
        }
      ],
      "eventsBasedObjects": []
    }
  ],
  "externalLayouts": [],
  "externalSourceFiles": []
}